import{A as Js,B as eo,C as G0,D as Q0,E as z,F as Re,G as fe,H as _2,I as Y0,J as to,K as Ae,L as Wt,M as e1,N as E2,O as K0,P as ki,Q as no,R as Z0,S as X0,T as wn,U as He,a as w,b as U,c as L0,d as rt,e as R0,f as Ks,g as H0,h as k0,i as v,j as Hi,k as Zs,l as F0,m as P0,n as ye,o as B0,p as b2,q as j0,r as zt,s as U0,t as $0,u as Xs,v as le,w as q0,x as W0,y as ot,z as yn}from"./chunk-WVUCIEXQ.js";var J0=null;var D2=1,eu=Symbol("SIGNAL");function W(t){let e=J0;return J0=t,e}var tu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function og(t){if(!(x2(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===D2)){if(!t.producerMustRecompute(t)&&!I2(t)){t.dirty=!1,t.lastCleanEpoch=D2;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=D2}}function nu(t){return t&&(t.nextProducerIndex=0),W(t)}function iu(t,e){if(W(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(x2(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)z2(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function I2(t){t1(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(og(n),i!==n.version))return!0}return!1}function ru(t){if(t1(t),x2(t))for(let e=0;e<t.producerNode.length;e++)z2(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function z2(t,e){if(sg(t),t1(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)z2(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];t1(r),r.producerIndexOfThis[i]=e}}function x2(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function t1(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function sg(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function cg(){throw new Error}var ag=cg;function ou(t){ag=t}function T(t){return typeof t=="function"}function Fi(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var n1=Fi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Jn(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ae=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(T(i))try{i()}catch(o){e=o instanceof n1?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{su(o)}catch(s){e=e??[],s instanceof n1?e=[...e,...s.errors]:e.push(s)}}if(e)throw new n1(e)}}add(e){var n;if(e&&e!==this)if(this.closed)su(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Jn(n,e)}remove(e){let{_finalizers:n}=this;n&&Jn(n,e),e instanceof t&&e._removeParent(this)}};ae.EMPTY=(()=>{let t=new ae;return t.closed=!0,t})();var T2=ae.EMPTY;function i1(t){return t instanceof ae||t&&"closed"in t&&T(t.remove)&&T(t.add)&&T(t.unsubscribe)}function su(t){T(t)?t():t.unsubscribe()}var vt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Pi={setTimeout(t,e,...n){let{delegate:i}=Pi;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Pi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function r1(t){Pi.setTimeout(()=>{let{onUnhandledError:e}=vt;if(e)e(t);else throw t})}function ei(){}var cu=S2("C",void 0,void 0);function au(t){return S2("E",void 0,t)}function lu(t){return S2("N",t,void 0)}function S2(t,e,n){return{kind:t,value:e,error:n}}var ti=null;function Bi(t){if(vt.useDeprecatedSynchronousErrorHandling){let e=!ti;if(e&&(ti={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=ti;if(ti=null,n)throw i}}else t()}function uu(t){vt.useDeprecatedSynchronousErrorHandling&&ti&&(ti.errorThrown=!0,ti.error=t)}var ni=class extends ae{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,i1(e)&&e.add(this)):this.destination=hg}static create(e,n,i){return new Gt(e,n,i)}next(e){this.isStopped?V2(lu(e),this):this._next(e)}error(e){this.isStopped?V2(au(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?V2(cu,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},lg=Function.prototype.bind;function A2(t,e){return lg.call(t,e)}var N2=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){o1(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){o1(i)}else o1(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){o1(n)}}},Gt=class extends ni{constructor(e,n,i){super();let r;if(T(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&vt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&A2(e.next,o),error:e.error&&A2(e.error,o),complete:e.complete&&A2(e.complete,o)}):r=e}this.destination=new N2(r)}};function o1(t){vt.useDeprecatedSynchronousErrorHandling?uu(t):r1(t)}function ug(t){throw t}function V2(t,e){let{onStoppedNotification:n}=vt;n&&Pi.setTimeout(()=>n(t,e))}var hg={closed:!0,next:ei,error:ug,complete:ei};var ji=typeof Symbol=="function"&&Symbol.observable||"@@observable";function _e(t){return t}function O2(...t){return L2(t)}function L2(t){return t.length===0?_e:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var L=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=fg(n)?n:new Gt(n,i,r);return Bi(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=hu(i),new i((r,o)=>{let s=new Gt({next:c=>{try{n(c)}catch(a){o(a),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[ji](){return this}pipe(...n){return L2(n)(this)}toPromise(n){return n=hu(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=e=>new t(e),t})();function hu(t){var e;return(e=t??vt.Promise)!==null&&e!==void 0?e:Promise}function dg(t){return t&&T(t.next)&&T(t.error)&&T(t.complete)}function fg(t){return t&&t instanceof ni||dg(t)&&i1(t)}function R2(t){return T(t?.lift)}function V(t){return e=>{if(R2(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function S(t,e,n,i,r){return new H2(t,e,n,i,r)}var H2=class extends ni{constructor(e,n,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(a){e.error(a)}}:super._next,this._error=r?function(c){try{r(c)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ui(){return V((t,e)=>{let n=null;t._refCount++;let i=S(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var $i=class extends L{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,R2(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ae;let n=this.getSubject();e.add(this.source.subscribe(S(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ae.EMPTY)}return e}refCount(){return Ui()(this)}};var du=Fi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var te=(()=>{class t extends L{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new s1(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new du}next(n){Bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?T2:(this.currentObservers=null,o.push(n),new ae(()=>{this.currentObservers=null,Jn(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new L;return n.source=this,n}}return t.create=(e,n)=>new s1(e,n),t})(),s1=class extends te{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:T2}};var Ee=class extends te{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var io={now(){return(io.delegate||Date).now()},delegate:void 0};var c1=class extends te{constructor(e=1/0,n=1/0,i=io){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;n||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=n.now(),c=0;for(let a=1;a<i.length&&i[a]<=s;a+=2)c=a;c&&i.splice(0,c+1)}}};var a1=class extends ae{constructor(e,n){super()}schedule(e,n=0){return this}};var ro={setInterval(t,e,...n){let{delegate:i}=ro;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ro;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var qi=class extends a1{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,i=0){return ro.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&ro.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Jn(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Wi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};Wi.now=io.now;var Gi=class extends Wi{constructor(e,n=Wi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var oo=new Gi(qi);var l1=class extends qi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var u1=class extends Gi{};var k2=new u1(l1);var ke=new L(t=>t.complete());function fu(t){return t&&T(t.schedule)}function F2(t){return t[t.length-1]}function Qi(t){return T(F2(t))?t.pop():void 0}function xt(t){return fu(F2(t))?t.pop():void 0}function pu(t,e){return typeof F2(t)=="number"?t.pop():e}var h1=t=>t&&typeof t.length=="number"&&typeof t!="function";function d1(t){return T(t?.then)}function f1(t){return T(t[ji])}function p1(t){return Symbol.asyncIterator&&T(t?.[Symbol.asyncIterator])}function m1(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function pg(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var v1=pg();function g1(t){return T(t?.[v1])}function y1(t){return H0(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield Ks(n.read());if(r)return yield Ks(void 0);yield yield Ks(i)}}finally{n.releaseLock()}})}function w1(t){return T(t?.getReader)}function Z(t){if(t instanceof L)return t;if(t!=null){if(f1(t))return mg(t);if(h1(t))return vg(t);if(d1(t))return gg(t);if(p1(t))return mu(t);if(g1(t))return yg(t);if(w1(t))return wg(t)}throw m1(t)}function mg(t){return new L(e=>{let n=t[ji]();if(T(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function vg(t){return new L(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function gg(t){return new L(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,r1)})}function yg(t){return new L(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function mu(t){return new L(e=>{Cg(t,e).catch(n=>e.error(n))})}function wg(t){return mu(y1(t))}function Cg(t,e){var n,i,r,o;return R0(this,void 0,void 0,function*(){try{for(n=k0(t);i=yield n.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})}function Fe(t,e,n,i=0,r=!1){let o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function st(t,e=0){return V((n,i)=>{n.subscribe(S(i,r=>Fe(i,t,()=>i.next(r),e),()=>Fe(i,t,()=>i.complete(),e),r=>Fe(i,t,()=>i.error(r),e)))})}function gt(t,e=0){return V((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function vu(t,e){return Z(t).pipe(gt(e),st(e))}function gu(t,e){return Z(t).pipe(gt(e),st(e))}function yu(t,e){return new L(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function wu(t,e){return new L(n=>{let i;return Fe(n,e,()=>{i=t[v1](),Fe(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>T(i?.return)&&i.return()})}function C1(t,e){if(!t)throw new Error("Iterable cannot be null");return new L(n=>{Fe(n,e,()=>{let i=t[Symbol.asyncIterator]();Fe(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function Cu(t,e){return C1(y1(t),e)}function Mu(t,e){if(t!=null){if(f1(t))return vu(t,e);if(h1(t))return yu(t,e);if(d1(t))return gu(t,e);if(p1(t))return C1(t,e);if(g1(t))return wu(t,e);if(w1(t))return Cu(t,e)}throw m1(t)}function Q(t,e){return e?Mu(t,e):Z(t)}function b(...t){let e=xt(t);return Q(t,e)}function Yi(t,e){let n=T(t)?t:()=>t,i=r=>r.error(n());return new L(e?r=>e.schedule(i,0,r):i)}function P2(t){return!!t&&(t instanceof L||T(t.lift)&&T(t.subscribe))}var Qt=Fi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function D(t,e){return V((n,i)=>{let r=0;n.subscribe(S(i,o=>{i.next(t.call(e,o,r++))}))})}var{isArray:Mg}=Array;function bg(t,e){return Mg(e)?t(...e):t(e)}function M1(t){return D(e=>bg(t,e))}var{isArray:_g}=Array,{getPrototypeOf:Eg,prototype:Dg,keys:Ig}=Object;function b1(t){if(t.length===1){let e=t[0];if(_g(e))return{args:e,keys:null};if(zg(e)){let n=Ig(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function zg(t){return t&&typeof t=="object"&&Eg(t)===Dg}function _1(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function so(...t){let e=xt(t),n=Qi(t),{args:i,keys:r}=b1(t);if(i.length===0)return Q([],e);let o=new L(xg(i,e,r?s=>_1(r,s):_e));return n?o.pipe(M1(n)):o}function xg(t,e,n=_e){return i=>{bu(e,()=>{let{length:r}=t,o=new Array(r),s=r,c=r;for(let a=0;a<r;a++)bu(e,()=>{let l=Q(t[a],e),u=!1;l.subscribe(S(i,h=>{o[a]=h,u||(u=!0,c--),c||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function bu(t,e,n){t?Fe(n,t,e):e()}function _u(t,e,n,i,r,o,s,c){let a=[],l=0,u=0,h=!1,d=()=>{h&&!a.length&&!l&&e.complete()},f=y=>l<i?p(y):a.push(y),p=y=>{o&&e.next(y),l++;let E=!1;Z(n(y,u++)).subscribe(S(e,I=>{r?.(I),o?f(I):e.next(I)},()=>{E=!0},void 0,()=>{if(E)try{for(l--;a.length&&l<i;){let I=a.shift();s?Fe(e,s,()=>p(I)):p(I)}d()}catch(I){e.error(I)}}))};return t.subscribe(S(e,f,()=>{h=!0,d()})),()=>{c?.()}}function ue(t,e,n=1/0){return T(e)?ue((i,r)=>D((o,s)=>e(i,o,r,s))(Z(t(i,r))),n):(typeof e=="number"&&(n=e),V((i,r)=>_u(i,r,t,n)))}function Cn(t=1/0){return ue(_e,t)}function Eu(){return Cn(1)}function Ki(...t){return Eu()(Q(t,xt(t)))}function E1(t){return new L(e=>{Z(t()).subscribe(e)})}function B2(...t){let e=Qi(t),{args:n,keys:i}=b1(t),r=new L(o=>{let{length:s}=n;if(!s){o.complete();return}let c=new Array(s),a=s,l=s;for(let u=0;u<s;u++){let h=!1;Z(n[u]).subscribe(S(o,d=>{h||(h=!0,l--),c[u]=d},()=>a--,void 0,()=>{(!a||!h)&&(l||o.next(i?_1(i,c):c),o.complete())}))}});return e?r.pipe(M1(e)):r}function Zi(...t){let e=xt(t),n=pu(t,1/0),i=t;return i.length?i.length===1?Z(i[0]):Cn(n)(Q(i,e)):ke}function he(t,e){return V((n,i)=>{let r=0;n.subscribe(S(i,o=>t.call(e,o,r++)&&i.next(o)))})}function Tt(t){return V((e,n)=>{let i=null,r=!1,o;i=e.subscribe(S(n,void 0,void 0,s=>{o=Z(t(s,Tt(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function Du(t,e,n,i,r){return(o,s)=>{let c=n,a=e,l=0;o.subscribe(S(s,u=>{let h=l++;a=c?t(a,u,h):(c=!0,u),i&&s.next(a)},r&&(()=>{c&&s.next(a),s.complete()})))}}function Yt(t,e){return T(e)?ue(t,e,1):ue(t,1)}function Mn(t){return V((e,n)=>{let i=!1;e.subscribe(S(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function yt(t){return t<=0?()=>ke:V((e,n)=>{let i=0;e.subscribe(S(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function co(t){return D(()=>t)}function j2(t,e=_e){return t=t??Tg,V((n,i)=>{let r,o=!0;n.subscribe(S(i,s=>{let c=e(s);(o||!t(r,c))&&(o=!1,r=c,i.next(s))}))})}function Tg(t,e){return t===e}function D1(t=Sg){return V((e,n)=>{let i=!1;e.subscribe(S(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function Sg(){return new Qt}function bn(t){return V((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function qe(t,e){let n=arguments.length>=2;return i=>i.pipe(t?he((r,o)=>t(r,o,i)):_e,yt(1),n?Mn(e):D1(()=>new Qt))}function Xi(t){return t<=0?()=>ke:V((e,n)=>{let i=[];e.subscribe(S(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function U2(t,e){let n=arguments.length>=2;return i=>i.pipe(t?he((r,o)=>t(r,o,i)):_e,Xi(1),n?Mn(e):D1(()=>new Qt))}function Ji(t,e){return V(Du(t,e,arguments.length>=2,!0))}function ii(t={}){let{connector:e=()=>new te,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return o=>{let s,c,a,l=0,u=!1,h=!1,d=()=>{c?.unsubscribe(),c=void 0},f=()=>{d(),s=a=void 0,u=h=!1},p=()=>{let y=s;f(),y?.unsubscribe()};return V((y,E)=>{l++,!h&&!u&&d();let I=a=a??e();E.add(()=>{l--,l===0&&!h&&!u&&(c=$2(p,r))}),I.subscribe(E),!s&&l>0&&(s=new Gt({next:G=>I.next(G),error:G=>{h=!0,d(),c=$2(f,n,G),I.error(G)},complete:()=>{u=!0,d(),c=$2(f,i),I.complete()}}),Z(y).subscribe(s))})(o)}}function $2(t,e,...n){if(e===!0){t();return}if(e===!1)return;let i=new Gt({next:()=>{i.unsubscribe(),t()}});return Z(e(...n)).subscribe(i)}function I1(t,e,n){let i,r=!1;return t&&typeof t=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:n}=t:i=t??1/0,ii({connector:()=>new c1(i,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function q2(t){return V((e,n)=>{let i=!1,r=0;e.subscribe(S(n,o=>(i||(i=!t(o,r++)))&&n.next(o)))})}function W2(...t){let e=xt(t);return V((n,i)=>{(e?Ki(t,n,e):Ki(t,n)).subscribe(i)})}function ne(t,e){return V((n,i)=>{let r=null,o=0,s=!1,c=()=>s&&!r&&i.complete();n.subscribe(S(i,a=>{r?.unsubscribe();let l=0,u=o++;Z(t(a,u)).subscribe(r=S(i,h=>i.next(e?e(a,h,u,l++):h),()=>{r=null,c()}))},()=>{s=!0,c()}))})}function z1(t,e){return T(e)?ne(()=>t,e):ne(()=>t)}function G2(t){return V((e,n)=>{Z(t).subscribe(S(n,()=>n.complete(),ei)),!n.closed&&e.subscribe(n)})}function ie(t,e,n){let i=T(t)||e||n?{next:t,error:e,complete:n}:t;return i?V((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let c=!0;r.subscribe(S(o,a=>{var l;(l=i.next)===null||l===void 0||l.call(i,a),o.next(a)},()=>{var a;c=!1,(a=i.complete)===null||a===void 0||a.call(i),o.complete()},a=>{var l;c=!1,(l=i.error)===null||l===void 0||l.call(i,a),o.error(a)},()=>{var a,l;c&&((a=i.unsubscribe)===null||a===void 0||a.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):_e}function Q2(...t){let e=Qi(t);return V((n,i)=>{let r=t.length,o=new Array(r),s=t.map(()=>!1),c=!1;for(let a=0;a<r;a++)Z(t[a]).subscribe(S(i,l=>{o[a]=l,!c&&!s[a]&&(s[a]=!0,(c=s.every(_e))&&(s=null))},ei));n.subscribe(S(i,a=>{if(c){let l=[a,...o];i.next(e?e(...l):l)}}))})}var mh="https://g.co/ng/security#xss",_=class extends Error{constructor(e,n){super(a4(e,n)),this.code=e}};function a4(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var fa=class extends te{constructor(e=!1){super(),this.__isAsync=e}emit(e){let n=W(null);try{super.next(e)}finally{W(n)}}subscribe(e,n,i){let r=e,o=n||(()=>null),s=i;if(e&&typeof e=="object"){let a=e;r=a.next?.bind(a),o=a.error?.bind(a),s=a.complete?.bind(a)}this.__isAsync&&(o=Y2(o),r&&(r=Y2(r)),s&&(s=Y2(s)));let c=super.subscribe({next:r,error:o,complete:s});return e instanceof ae&&e.add(c),c}};function Y2(t){return e=>{setTimeout(t,void 0,e)}}var ze=fa;var k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(k||{});function Pe(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Pe).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Iu(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var vh=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(vh||{}),Vt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Vt||{});function Mo(t){return{toString:t}.toString()}var ri=globalThis;var sr={},We=[];function X(t){for(let e in t)if(t[e]===X)return e;throw Error("Could not find renamed property on target object.")}function Ag(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var Vg=X({\u0275cmp:X}),Ng=X({\u0275dir:X}),Og=X({\u0275pipe:X}),Lg=X({\u0275mod:X}),P1=X({\u0275fac:X}),lo=X({__NG_ELEMENT_ID__:X}),zu=X({__NG_ENV_ID__:X}),Qe=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Qe||{});function gh(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}function pa(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],c=n[i++];t.setAttribute(e,s,c,o)}else{let o=r,s=n[++i];Hg(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),i++}}return i}function Rg(t){return t===3||t===4||t===6}function Hg(t){return t.charCodeAt(0)===64}function uo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?xu(t,n,r,null,e[++i]):xu(t,n,r,null,null))}}return t}function xu(t,e,n,i,r){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){if(i===null){r!==null&&(t[o+1]=r);return}else if(i===t[o+1]){t[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i),r!==null&&t.splice(o++,0,r)}var yh="ng-template";function kg(t,e,n){let i=0,r=!0;for(;i<t.length;){let o=t[i++];if(typeof o=="string"&&r){let s=t[i++];if(n&&o==="class"&&gh(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;i<t.length&&typeof(o=t[i++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(r=!1)}return!1}function wh(t){return t.type===4&&t.value!==yh}function Fg(t,e,n){let i=t.type===4&&!n?yh:t.value;return e===i}function Pg(t,e,n){let i=4,r=t.attrs||[],o=Ug(r),s=!1;for(let c=0;c<e.length;c++){let a=e[c];if(typeof a=="number"){if(!s&&!wt(i)&&!wt(a))return!1;if(s&&wt(a))continue;s=!1,i=a|i&1;continue}if(!s)if(i&4){if(i=2|i&1,a!==""&&!Fg(t,a,n)||a===""&&e.length===1){if(wt(i))return!1;s=!0}}else{let l=i&8?a:e[++c];if(i&8&&t.attrs!==null){if(!kg(t.attrs,l,n)){if(wt(i))return!1;s=!0}continue}let u=i&8?"class":a,h=Bg(u,r,wh(t),n);if(h===-1){if(wt(i))return!1;s=!0;continue}if(l!==""){let d;h>o?d="":d=r[h+1].toLowerCase();let f=i&8?d:null;if(f&&gh(f,l,0)!==-1||i&2&&l!==d){if(wt(i))return!1;s=!0}}}}return wt(i)||s}function wt(t){return(t&1)===0}function Bg(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){let s=e[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++r];for(;typeof c=="string";)c=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return $g(e,t)}function jg(t,e,n=!1){for(let i=0;i<e.length;i++)if(Pg(t,e[i],n))return!0;return!1}function Ug(t){for(let e=0;e<t.length;e++){let n=t[e];if(Rg(n))return e}return t.length}function $g(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function Tu(t,e){return t?":not("+e.trim()+")":e}function qg(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(i&2){let c=t[++n];r+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!wt(s)&&(e+=Tu(o,r),r=""),i=s,o=o||!wt(i);n++}return r!==""&&(e+=Tu(o,r)),e}function Wg(t){return t.map(qg).join(",")}function Gg(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++i]):r===8&&n.push(o);else{if(!wt(r))break;r=o}i++}return{attrs:e,classes:n}}function Ch(t){return Mo(()=>{let e=Dh(t),n=U(w({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===vh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Vt.Emulated,styles:t.styles||We,_:null,schemas:t.schemas||null,tView:null,id:""});Ih(n);let i=t.dependencies;return n.directiveDefs=Au(i,!1),n.pipeDefs=Au(i,!0),n.id=Kg(n),n})}function Qg(t){return Dn(t)||Mh(t)}function Yg(t){return t!==null}function pe(t){return Mo(()=>({type:t.type,bootstrap:t.bootstrap||We,declarations:t.declarations||We,imports:t.imports||We,exports:t.exports||We,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Su(t,e){if(t==null)return sr;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,s,c=Qe.None;Array.isArray(r)?(c=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(n[o]=c!==Qe.None?[i,c]:i,e[o]=s):n[o]=i}return n}function xe(t){return Mo(()=>{let e=Dh(t);return Ih(e),e})}function Dn(t){return t[Vg]||null}function Mh(t){return t[Ng]||null}function bh(t){return t[Og]||null}function _h(t){let e=Dn(t)||Mh(t)||bh(t);return e!==null?e.standalone:!1}function Eh(t,e){let n=t[Lg]||null;if(!n&&e===!0)throw new Error(`Type ${Pe(t)} does not have '\u0275mod' property.`);return n}function Dh(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||sr,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||We,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Su(t.inputs,e),outputs:Su(t.outputs),debugInfo:null}}function Ih(t){t.features?.forEach(e=>e(t))}function Au(t,e){if(!t)return null;let n=e?bh:Qg;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(Yg)}function Kg(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var Ye=0,P=1,x=2,De=3,Ct=4,bt=5,Zt=6,ho=7,Xt=8,cr=9,In=10,de=11,fo=12,Vu=13,bo=14,at=15,l4=16,er=17,ar=18,u4=19,zh=20,En=21,K2=22,si=23,Be=25,xh=1,po=6,Jt=7,B1=8,j1=9,Ge=10,d3=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(d3||{});function Kt(t){return Array.isArray(t)&&typeof t[xh]=="object"}function Lt(t){return Array.isArray(t)&&t[xh]===!0}function f3(t){return(t.flags&4)!==0}function _o(t){return t.componentOffset>-1}function h4(t){return(t.flags&1)===1}function zn(t){return!!t.template}function Th(t){return(t[x]&512)!==0}var Zg="svg",Xg="math",Jg=!1;function ey(){return Jg}function Mt(t){for(;Array.isArray(t);)t=t[Ye];return t}function Sh(t,e){return Mt(e[t])}function lt(t,e){return Mt(e[t.index])}function Ah(t,e){return t.data[e]}function Sn(t,e){let n=e[t];return Kt(n)?n:n[Ye]}function p3(t){return(t[x]&128)===128}function ty(t){return Lt(t[De])}function lr(t,e){return e==null?null:t[e]}function Vh(t){t[er]=0}function ny(t){t[x]&1024||(t[x]|=1024,p3(t)&&mo(t))}function m3(t){return!!(t[x]&9216||t[si]?.dirty)}function ma(t){m3(t)?mo(t):t[x]&64&&(ey()?(t[x]|=1024,mo(t)):t[In].changeDetectionScheduler?.notify())}function mo(t){t[In].changeDetectionScheduler?.notify();let e=vo(t);for(;e!==null&&!(e[x]&8192||(e[x]|=8192,!p3(e)));)e=vo(e)}function Nh(t,e){if((t[x]&256)===256)throw new _(911,!1);t[En]===null&&(t[En]=[]),t[En].push(e)}function iy(t,e){if(t[En]===null)return;let n=t[En].indexOf(e);n!==-1&&t[En].splice(n,1)}function vo(t){let e=t[De];return Lt(e)?e[De]:e}var j={lFrame:Bh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ry(){return j.lFrame.elementDepthCount}function oy(){j.lFrame.elementDepthCount++}function sy(){j.lFrame.elementDepthCount--}function Oh(){return j.bindingsEnabled}function Eo(){return j.skipHydrationRootTNode!==null}function cy(t){return j.skipHydrationRootTNode===t}function ay(t){j.skipHydrationRootTNode=t}function ly(){j.skipHydrationRootTNode=null}function se(){return j.lFrame.lView}function ut(){return j.lFrame.tView}function Ke(){let t=Lh();for(;t!==null&&t.type===64;)t=t.parent;return t}function Lh(){return j.lFrame.currentTNode}function uy(){let t=j.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function di(t,e){let n=j.lFrame;n.currentTNode=t,n.isParent=e}function v3(){return j.lFrame.isParent}function Rh(){j.lFrame.isParent=!1}function hy(){let t=j.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function dy(t){return j.lFrame.bindingIndex=t}function Hh(){return j.lFrame.bindingIndex++}function fy(t){let e=j.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function py(){return j.lFrame.inI18n}function my(t,e){let n=j.lFrame;n.bindingIndex=n.bindingRootIndex=t,va(e)}function vy(){return j.lFrame.currentDirectiveIndex}function va(t){j.lFrame.currentDirectiveIndex=t}function gy(t){let e=j.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function kh(t){j.lFrame.currentQueryIndex=t}function yy(t){let e=t[P];return e.type===2?e.declTNode:e.type===1?t[bt]:null}function Fh(t,e,n){if(n&k.SkipSelf){let r=e,o=t;for(;r=r.parent,r===null&&!(n&k.Host);)if(r=yy(o),r===null||(o=o[bo],r.type&10))break;if(r===null)return!1;e=r,t=o}let i=j.lFrame=Ph();return i.currentTNode=e,i.lView=t,!0}function g3(t){let e=Ph(),n=t[P];j.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Ph(){let t=j.lFrame,e=t===null?null:t.child;return e===null?Bh(t):e}function Bh(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function jh(){let t=j.lFrame;return j.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Uh=jh;function y3(){let t=jh();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function mr(){return j.lFrame.selectedIndex}function ci(t){j.lFrame.selectedIndex=t}function wy(){let t=j.lFrame;return Ah(t.tView,t.selectedIndex)}function $h(){return j.lFrame.currentNamespace}var qh=!0;function d4(){return qh}function An(t){qh=t}function Cy(){return f4(Ke(),se())}function f4(t,e){return new Rt(lt(t,e))}var Rt=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=Cy;let t=e;return t})();function w3(t,e){t.forEach(n=>Array.isArray(n)?w3(n,e):e(n))}function Wh(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function U1(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function My(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=n,t[e+1]=i}}function by(t,e,n){let i=Do(t,e);return i>=0?t[i|1]=n:(i=~i,My(t,i,e,n)),i}function Z2(t,e){let n=Do(t,e);if(n>=0)return t[n|1]}function Do(t,e){return _y(t,e,1)}function _y(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=t[o<<n];if(e===s)return o<<n;s>e?r=o:i=o+1}return~(r<<n)}var Ey="ngSkipHydration",Dy="ngskiphydration";function Gh(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let i=e[n];if(typeof i=="number")return!1;if(typeof i=="string"&&i.toLowerCase()===Dy)return!0}return!1}function Qh(t){return t.hasAttribute(Ey)}function $1(t){return(t.flags&128)===128}function Iy(t){if($1(t))return!0;let e=t.parent;for(;e;){if($1(t)||Gh(e))return!0;e=e.parent}return!1}var ga;function Yh(t){ga=t}function p4(){if(ga!==void 0)return ga;if(typeof document<"u")return document;throw new _(210,!1)}function M(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function me(t){return{providers:t.providers||[],imports:t.imports||[]}}function m4(t){return Nu(t,Zh)||Nu(t,Xh)}function Kh(t){return m4(t)!==null}function Nu(t,e){return t.hasOwnProperty(e)?t[e]:null}function zy(t){let e=t&&(t[Zh]||t[Xh]);return e||null}function Ou(t){return t&&(t.hasOwnProperty(Lu)||t.hasOwnProperty(xy))?t[Lu]:null}var Zh=X({\u0275prov:X}),Lu=X({\u0275inj:X}),Xh=X({ngInjectableDef:X}),xy=X({ngInjectorDef:X}),C=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=M({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},v4=new C("",{providedIn:"root",factory:()=>Ty}),Ty="ng",C3=new C(""),we=new C("",{providedIn:"platform",factory:()=>"unknown"});var Mk=new C(""),Io=new C("",{providedIn:"root",factory:()=>p4().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Sy=X({__forward_ref__:X});function vr(t){return t.__forward_ref__=vr,t.toString=function(){return Pe(this())},t}function Ve(t){return Jh(t)?t():t}function Jh(t){return typeof t=="function"&&t.hasOwnProperty(Sy)&&t.__forward_ref__===vr}function e5(t){return t&&!!t.\u0275providers}function t5(t){return typeof t=="string"?t:t==null?"":String(t)}function Ay(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():t5(t)}function Vy(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new _(-200,t)}function M3(t,e){throw new _(-201,!1)}var ya;function n5(){return ya}function ct(t){let e=ya;return ya=t,e}function i5(t,e,n){let i=m4(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&k.Optional)return null;if(e!==void 0)return e;M3(t,"Injector")}var Ny={},go=Ny,wa="__NG_DI_FLAG__",q1="ngTempTokenPath",Oy="ngTokenPath",Ly=/\n/gm,Ry="\u0275",Ru="__source",rr;function Hy(){return rr}function _n(t){let e=rr;return rr=t,e}function ky(t,e=k.Default){if(rr===void 0)throw new _(-203,!1);return rr===null?i5(t,void 0,e):rr.get(t,e&k.Optional?null:void 0,e)}function m(t,e=k.Default){return(n5()||ky)(Ve(t),e)}function g(t,e=k.Default){return m(t,g4(e))}function g4(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ca(t){let e=[];for(let n=0;n<t.length;n++){let i=Ve(t[n]);if(Array.isArray(i)){if(i.length===0)throw new _(900,!1);let r,o=k.Default;for(let s=0;s<i.length;s++){let c=i[s],a=Fy(c);typeof a=="number"?a===-1?r=c.token:o|=a:r=c}e.push(m(r,o))}else e.push(m(i))}return e}function r5(t,e){return t[wa]=e,t.prototype[wa]=e,t}function Fy(t){return t[wa]}function Py(t,e,n,i){let r=t[q1];throw e[Ru]&&r.unshift(e[Ru]),t.message=By(`
`+t.message,r,n,i),t[Oy]=r,t[q1]=null,t}function By(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Ry?t.slice(2):t;let r=Pe(e);if(Array.isArray(e))r=e.map(Pe).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):Pe(c)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(Ly,`
  `)}`}function jy(){let t=new fi;return g(we)==="browser"&&(t.store=Uy(p4(),g(v4))),t}var fi=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(i,r){return this.store[i]!==void 0?this.store[i]:r}set(i,r){this.store[i]=r}remove(i){delete this.store[i]}hasKey(i){return this.store.hasOwnProperty(i)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(i,r){this.onSerializeCallbacks[i]=r}toJson(){for(let i in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(i))try{this.store[i]=this.onSerializeCallbacks[i]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=M({token:e,providedIn:"root",factory:jy});let t=e;return t})();function Uy(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(i){console.warn("Exception while restoring TransferState for app "+e,i)}return{}}var o5="h",s5="b",Ma=function(t){return t.FirstChild="f",t.NextSibling="n",t}(Ma||{}),$y="e",qy="t",b3="c",c5="x",W1="r",Wy="i",Gy="n",Qy="d",Yy="__nghData__",a5=Yy,X2="ngh",Ky="nghm",l5=()=>null;function Zy(t,e,n=!1){let i=t.getAttribute(X2);if(i==null)return null;let[r,o]=i.split("|");if(i=n?o:r,!i)return null;let s=o?`|${o}`:"",c=n?r:s,a={};if(i!==""){let u=e.get(fi,null,{optional:!0});u!==null&&(a=u.get(a5,[])[Number(i)])}let l={data:a,firstChild:t.firstChild??null};return n&&(l.firstChild=t,y4(l,0,t.nextSibling)),c?t.setAttribute(X2,c):t.removeAttribute(X2),l}function Xy(){l5=Zy}function _3(t,e,n=!1){return l5(t,e,n)}function Jy(t){let e=t._lView;return e[P].type===2?null:(Th(e)&&(e=e[Be]),e)}function ew(t){return t.textContent?.replace(/\s/gm,"")}function tw(t){let e=p4(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=ew(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),i,r=[];for(;i=n.nextNode();)r.push(i);for(let o of r)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function y4(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function ba(t,e){return t.segmentHeads?.[e]??null}function nw(t,e){let n=t.data,i=n[$y]?.[e]??null;return i===null&&n[b3]?.[e]&&(i=E3(t,e)),i}function u5(t,e){return t.data[b3]?.[e]??null}function E3(t,e){let n=u5(t,e)??[],i=0;for(let r of n)i+=r[W1]*(r[c5]??1);return i}function w4(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[Qy];t.disconnectedNodes=n?new Set(n):null}return!!t.disconnectedNodes?.has(e)}var x1="__parameters__";function iw(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function h5(t,e,n){return Mo(()=>{let i=iw(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return c.annotation=s,c;function c(a,l,u){let h=a.hasOwnProperty(x1)?a[x1]:Object.defineProperty(a,x1,{value:[]})[x1];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(s),a}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var pi=r5(h5("Optional"),8);var C4=r5(h5("SkipSelf"),4);function ur(t,e){let n=t.hasOwnProperty(P1);return n?t[P1]:null}var ai=new C(""),d5=new C("",-1),f5=new C(""),G1=class{get(e,n=go){if(n===go){let i=new Error(`NullInjectorError: No provider for ${Pe(e)}!`);throw i.name="NullInjectorError",i}return n}};function Vn(t){return{\u0275providers:t}}function rw(...t){return{\u0275providers:p5(!0,t),\u0275fromNgModule:!0}}function p5(t,...e){let n=[],i=new Set,r,o=s=>{n.push(s)};return w3(e,s=>{let c=s;_a(c,o,[],i)&&(r||=[],r.push(c))}),r!==void 0&&m5(r,o),n}function m5(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];D3(r,o=>{e(o,i)})}}function _a(t,e,n,i){if(t=Ve(t),!t)return!1;let r=null,o=Ou(t),s=!o&&Dn(t);if(!o&&!s){let a=t.ngModule;if(o=Ou(a),o)r=a;else return!1}else{if(s&&!s.standalone)return!1;r=t}let c=i.has(r);if(s){if(c)return!1;if(i.add(r),s.dependencies){let a=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of a)_a(l,e,n,i)}}else if(o){if(o.imports!=null&&!c){i.add(r);let l;try{w3(o.imports,u=>{_a(u,e,n,i)&&(l||=[],l.push(u))})}finally{}l!==void 0&&m5(l,e)}if(!c){let l=ur(r)||(()=>new r);e({provide:r,useFactory:l,deps:We},r),e({provide:f5,useValue:r,multi:!0},r),e({provide:ai,useValue:()=>m(r),multi:!0},r)}let a=o.providers;if(a!=null&&!c){let l=t;D3(a,u=>{e(u,l)})}}else return!1;return r!==t&&t.providers!==void 0}function D3(t,e){for(let n of t)e5(n)&&(n=n.\u0275providers),Array.isArray(n)?D3(n,e):e(n)}var ow=X({provide:String,useValue:X});function v5(t){return t!==null&&typeof t=="object"&&ow in t}function sw(t){return!!(t&&t.useExisting)}function cw(t){return!!(t&&t.useFactory)}function hr(t){return typeof t=="function"}function aw(t){return!!t.useClass}var M4=new C(""),L1={},lw={},J2;function I3(){return J2===void 0&&(J2=new G1),J2}var je=class{},yo=class extends je{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Da(e,s=>this.processProvider(s)),this.records.set(d5,tr(void 0,this)),r.has("environment")&&this.records.set(je,tr(void 0,this));let o=this.records.get(M4);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(f5,We,k.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=W(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),W(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=_n(this),i=ct(void 0),r;try{return e()}finally{_n(n),ct(i)}}get(e,n=go,i=k.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(zu))return e[zu](this);i=g4(i);let r,o=_n(this),s=ct(void 0);try{if(!(i&k.SkipSelf)){let a=this.records.get(e);if(a===void 0){let l=pw(e)&&m4(e);l&&this.injectableDefInScope(l)?a=tr(Ea(e),L1):a=null,this.records.set(e,a)}if(a!=null)return this.hydrate(e,a)}let c=i&k.Self?I3():this.parent;return n=i&k.Optional&&n===go?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[q1]=c[q1]||[]).unshift(Pe(e)),o)throw c;return Py(c,e,"R3InjectorError",this.source)}else throw c}finally{ct(s),_n(o)}}resolveInjectorInitializers(){let e=W(null),n=_n(this),i=ct(void 0),r;try{let o=this.get(ai,We,k.Self);for(let s of o)s()}finally{_n(n),ct(i),W(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(Pe(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _(205,!1)}processProvider(e){e=Ve(e);let n=hr(e)?e:Ve(e&&e.provide),i=hw(e);if(!hr(e)&&e.multi===!0){let r=this.records.get(n);r||(r=tr(void 0,L1,!0),r.factory=()=>Ca(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=W(null);try{return n.value===L1&&(n.value=lw,n.value=n.factory()),typeof n.value=="object"&&n.value&&fw(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{W(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ve(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ea(t){let e=m4(t),n=e!==null?e.factory:ur(t);if(n!==null)return n;if(t instanceof C)throw new _(204,!1);if(t instanceof Function)return uw(t);throw new _(204,!1)}function uw(t){if(t.length>0)throw new _(204,!1);let n=zy(t);return n!==null?()=>n.factory(t):()=>new t}function hw(t){if(v5(t))return tr(void 0,t.useValue);{let e=g5(t);return tr(e,L1)}}function g5(t,e,n){let i;if(hr(t)){let r=Ve(t);return ur(r)||Ea(r)}else if(v5(t))i=()=>Ve(t.useValue);else if(cw(t))i=()=>t.useFactory(...Ca(t.deps||[]));else if(sw(t))i=()=>m(Ve(t.useExisting));else{let r=Ve(t&&(t.useClass||t.provide));if(dw(t))i=()=>new r(...Ca(t.deps));else return ur(r)||Ea(r)}return i}function tr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function dw(t){return!!t.deps}function fw(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function pw(t){return typeof t=="function"||typeof t=="object"&&t instanceof C}function Da(t,e){for(let n of t)Array.isArray(n)?Da(n,e):n&&e5(n)?Da(n.\u0275providers,e):e(n)}function rn(t,e){t instanceof yo&&t.assertNotDestroyed();let n,i=_n(t),r=ct(void 0);try{return e()}finally{_n(i),ct(r)}}function mw(t){if(!n5()&&!Hy())throw new _(-203,!1)}function vw(t){return typeof t=="function"}var Ia=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function y5(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function on(){return w5}function w5(t){return t.type.prototype.ngOnChanges&&(t.setInput=yw),gw}on.ngInherit=!0;function gw(){let t=M5(this),e=t?.current;if(e){let n=t.previous;if(n===sr)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function yw(t,e,n,i,r){let o=this.declaredInputs[i],s=M5(t)||ww(t,{previous:sr,current:null}),c=s.current||(s.current={}),a=s.previous,l=a[o];c[o]=new Ia(l&&l.currentValue,n,a===sr),y5(t,e,r,n)}var C5="__ngSimpleChanges__";function M5(t){return t[C5]||null}function ww(t,e){return t[C5]=e}var Hu=null;var St=function(t,e,n){Hu?.(t,e,n)};function Cw(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=w5(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}r&&(n.preOrderHooks??=[]).push(0-t,r),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function b4(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:a,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),a&&(t.viewHooks??=[]).push(-n,a),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function R1(t,e,n){b5(t,e,3,n)}function H1(t,e,n,i){(t[x]&3)===n&&b5(t,e,n,i)}function ea(t,e){let n=t[x];(n&3)===e&&(n&=16383,n+=1,t[x]=n)}function b5(t,e,n,i){let r=i!==void 0?t[er]&65535:0,o=i??-1,s=e.length-1,c=0;for(let a=r;a<s;a++)if(typeof e[a+1]=="number"){if(c=e[a],i!=null&&c>=i)break}else e[a]<0&&(t[er]+=65536),(c<o||o==-1)&&(Mw(t,n,e,a),t[er]=(t[er]&4294901760)+a+2),a++}function ku(t,e){St(4,t,e);let n=W(null);try{e.call(t)}finally{W(n),St(5,t,e)}}function Mw(t,e,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],c=t[s];r?t[x]>>14<t[er]>>16&&(t[x]&3)===e&&(t[x]+=16384,ku(c,o)):ku(c,o)}var or=-1,li=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function bw(t){return t instanceof li}function _w(t){return(t.flags&8)!==0}function Ew(t){return(t.flags&16)!==0}function _5(t){return t!==or}function Q1(t){return t&32767}function Dw(t){return t>>16}function Y1(t,e){let n=Dw(t),i=e;for(;n>0;)i=i[bo],n--;return i}var za=!0;function Fu(t){let e=za;return za=t,e}var Iw=256,E5=Iw-1,D5=5,zw=0,At={};function xw(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(lo)&&(i=n[lo]),i==null&&(i=n[lo]=zw++);let r=i&E5,o=1<<r;e.data[t+(r>>D5)]|=o}function K1(t,e){let n=I5(t,e);if(n!==-1)return n;let i=e[P];i.firstCreatePass&&(t.injectorIndex=e.length,ta(i.data,t),ta(e,null),ta(i.blueprint,null));let r=z3(t,e),o=t.injectorIndex;if(_5(r)){let s=Q1(r),c=Y1(r,e),a=c[P].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|a[s+l]}return e[o+8]=r,o}function ta(t,e){t.push(0,0,0,0,0,0,0,0,e)}function I5(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function z3(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=A5(r),i===null)return or;if(n++,r=r[bo],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return or}function xa(t,e,n){xw(t,e,n)}function z5(t,e,n){if(n&k.Optional||t!==void 0)return t;M3(e,"NodeInjector")}function x5(t,e,n,i){if(n&k.Optional&&i===void 0&&(i=null),!(n&(k.Self|k.Host))){let r=t[cr],o=ct(void 0);try{return r?r.get(e,i,n&k.Optional):i5(e,i,n&k.Optional)}finally{ct(o)}}return z5(i,e,n)}function T5(t,e,n,i=k.Default,r){if(t!==null){if(e[x]&2048&&!(i&k.Self)){let s=Nw(t,e,n,i,At);if(s!==At)return s}let o=S5(t,e,n,i,At);if(o!==At)return o}return x5(e,n,i,r)}function S5(t,e,n,i,r){let o=Aw(n);if(typeof o=="function"){if(!Fh(e,t,i))return i&k.Host?z5(r,n,i):x5(e,n,i,r);try{let s;if(s=o(i),s==null&&!(i&k.Optional))M3(n);else return s}finally{Uh()}}else if(typeof o=="number"){let s=null,c=I5(t,e),a=or,l=i&k.Host?e[at][bt]:null;for((c===-1||i&k.SkipSelf)&&(a=c===-1?z3(t,e):e[c+8],a===or||!Bu(i,!1)?c=-1:(s=e[P],c=Q1(a),e=Y1(a,e)));c!==-1;){let u=e[P];if(Pu(o,c,u.data)){let h=Tw(c,e,n,s,i,l);if(h!==At)return h}a=e[c+8],a!==or&&Bu(i,e[P].data[c+8]===l)&&Pu(o,c,e)?(s=u,c=Q1(a),e=Y1(a,e)):c=-1}}return r}function Tw(t,e,n,i,r,o){let s=e[P],c=s.data[t+8],a=i==null?_o(c)&&za:i!=s&&(c.type&3)!==0,l=r&k.Host&&o===c,u=Sw(c,s,n,a,l);return u!==null?dr(e,s,u,c):At}function Sw(t,e,n,i,r){let o=t.providerIndexes,s=e.data,c=o&1048575,a=t.directiveStart,l=t.directiveEnd,u=o>>20,h=i?c:c+u,d=r?c+u:l;for(let f=h;f<d;f++){let p=s[f];if(f<a&&n===p||f>=a&&p.type===n)return f}if(r){let f=s[a];if(f&&zn(f)&&f.type===n)return a}return null}function dr(t,e,n,i){let r=t[n],o=e.data;if(bw(r)){let s=r;s.resolving&&Vy(Ay(o[n]));let c=Fu(s.canSeeViewProviders);s.resolving=!0;let a,l=s.injectImpl?ct(s.injectImpl):null,u=Fh(t,i,k.Default);try{r=t[n]=s.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&Cw(n,o[n],e)}finally{l!==null&&ct(l),Fu(c),s.resolving=!1,Uh()}}return r}function Aw(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(lo)?t[lo]:void 0;return typeof e=="number"?e>=0?e&E5:Vw:e}function Pu(t,e,n){let i=1<<t;return!!(n[e+(t>>D5)]&i)}function Bu(t,e){return!(t&k.Self)&&!(t&k.Host&&e)}var oi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return T5(this._tNode,this._lView,e,g4(i),n)}};function Vw(){return new oi(Ke(),se())}function zo(t){return Mo(()=>{let e=t.prototype.constructor,n=e[P1]||Ta(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[P1]||Ta(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Ta(t){return Jh(t)?()=>{let e=Ta(Ve(t));return e&&e()}:ur(t)}function Nw(t,e,n,i,r){let o=t,s=e;for(;o!==null&&s!==null&&s[x]&2048&&!(s[x]&512);){let c=S5(o,s,n,i|k.Self,At);if(c!==At)return c;let a=o.parent;if(!a){let l=s[zh];if(l){let u=l.get(n,At,i);if(u!==At)return u}a=A5(s),s=s[bo]}o=a}return r}function A5(t){let e=t[P],n=e.type;return n===2?e.declTNode:n===1?t[bt]:null}function ju(t,e=null,n=null,i){let r=V5(t,e,n,i);return r.resolveInjectorInitializers(),r}function V5(t,e=null,n=null,i,r=new Set){let o=[n||We,rw(t)];return i=i||(typeof t=="object"?void 0:Pe(t)),new yo(o,e||I3(),i||null,r)}var Ht=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return ju({name:""},r,i,"");{let o=i.name??"";return ju({name:o},i.parent,i.providers,o)}}};e.THROW_IF_NOT_FOUND=go,e.NULL=new G1,e.\u0275prov=M({token:e,providedIn:"any",factory:()=>m(d5)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),Ow="ngOriginalError";function na(t){return t[Ow]}var Nt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&na(e);for(;n&&na(n);)n=na(n);return n||null}},N5=new C("",{providedIn:"root",factory:()=>g(Nt).handleError.bind(void 0)}),T1=new C(""),O5=!1,L5=new C("",{providedIn:"root",factory:()=>O5}),S1;function Lw(){if(S1===void 0&&(S1=null,ri.trustedTypes))try{S1=ri.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return S1}function _4(t){return Lw()?.createHTML(t)||t}var en=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mh})`}},Sa=class extends en{getTypeName(){return"HTML"}},Aa=class extends en{getTypeName(){return"Style"}},Va=class extends en{getTypeName(){return"Script"}},Na=class extends en{getTypeName(){return"URL"}},Oa=class extends en{getTypeName(){return"ResourceURL"}};function Nn(t){return t instanceof en?t.changingThisBreaksApplicationSecurity:t}function gr(t,e){let n=Rw(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${mh})`)}return n===e}function Rw(t){return t instanceof en&&t.getTypeName()||null}function R5(t){return new Sa(t)}function H5(t){return new Aa(t)}function k5(t){return new Va(t)}function F5(t){return new Na(t)}function P5(t){return new Oa(t)}function Hw(t){let e=new Ra(t);return kw()?new La(e):e}var La=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(_4(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},Ra=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=_4(e),n}};function kw(){try{return!!new window.DOMParser().parseFromString(_4(""),"text/html")}catch{return!1}}var Fw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function x3(t){return t=String(t),t.match(Fw)?t:"unsafe:"+t}function sn(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function xo(...t){let e={};for(let n of t)for(let i in n)n.hasOwnProperty(i)&&(e[i]=!0);return e}var B5=sn("area,br,col,hr,img,wbr"),j5=sn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),U5=sn("rp,rt"),Pw=xo(U5,j5),Bw=xo(j5,sn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),jw=xo(U5,sn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Uu=xo(B5,Bw,jw,Pw),$5=sn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Uw=sn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$w=sn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),qw=xo($5,Uw,$w),Ww=sn("script,style,template"),Ha=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,i=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let r=this.checkClobberedElement(n,n.nextSibling);if(r){n=r;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!Uu.hasOwnProperty(n))return this.sanitizedSomething=!0,!Ww.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,c=s.toLowerCase();if(!qw.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let a=o.value;$5[c]&&(a=x3(a)),this.buf.push(" ",s,'="',$u(a),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();Uu.hasOwnProperty(n)&&!B5.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push($u(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},Gw=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Qw=/([^\#-~ |!])/g;function $u(t){return t.replace(/&/g,"&amp;").replace(Gw,function(e){let n=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(Qw,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var A1;function q5(t,e){let n=null;try{A1=A1||Hw(t);let i=e?String(e):"";n=A1.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=A1.getInertBodyElement(i)}while(i!==o);let c=new Ha().sanitizeChildren(qu(n)||n);return _4(c)}finally{if(n){let i=qu(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function qu(t){return"content"in t&&Yw(t)?t.content:null}function Yw(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var kt=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(kt||{});var Kw=/^>|^->|<!--|-->|--!>|<!-$/g,Zw=/(<|>)/g,Xw="\u200B$1\u200B";function Jw(t){return t.replace(Kw,e=>e.replace(Zw,Xw))}var W5=new Map,eC=0;function tC(){return eC++}function nC(t){W5.set(t[u4],t)}function iC(t){W5.delete(t[u4])}var Wu="__ngContext__";function xn(t,e){Kt(e)?(t[Wu]=e[u4],nC(e)):t[Wu]=e}function bk(t){return t.ownerDocument.defaultView}function rC(t){return t.ownerDocument.body}function G5(t){return t instanceof Function?t():t}function ao(t){return(t??g(Ht)).get(we)==="browser"}var Ot=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ot||{}),oC;function T3(t,e){return oC(t,e)}function nr(t,e,n,i,r){if(i!=null){let o,s=!1;Lt(i)?o=i:Kt(i)&&(s=!0,i=i[Ye]);let c=Mt(i);t===0&&n!==null?r==null?J5(e,n,c):Z1(e,n,c,r||null,!0):t===1&&n!==null?Z1(e,n,c,r||null,!0):t===2?t7(e,c,s):t===3&&e.destroyNode(c),o!=null&&bC(e,t,o,n,r)}}function Q5(t,e){return t.createText(e)}function sC(t,e,n){t.setValue(e,n)}function Y5(t,e){return t.createComment(Jw(e))}function S3(t,e,n){return t.createElement(e,n)}function cC(t,e){K5(t,e),e[Ye]=null,e[bt]=null}function aC(t,e,n,i,r,o){i[Ye]=r,i[bt]=e,D4(t,i,n,1,r,o)}function K5(t,e){D4(t,e,e[de],2,null,null)}function lC(t){let e=t[fo];if(!e)return ia(t[P],t);for(;e;){let n=null;if(Kt(e))n=e[fo];else{let i=e[Ge];i&&(n=i)}if(!n){for(;e&&!e[Ct]&&e!==t;)Kt(e)&&ia(e[P],e),e=e[De];e===null&&(e=t),Kt(e)&&ia(e[P],e),n=e&&e[Ct]}e=n}}function uC(t,e,n,i){let r=Ge+i,o=n.length;i>0&&(n[r-1][Ct]=e),i<o-Ge?(e[Ct]=n[r],Wh(n,Ge+i,e)):(n.push(e),e[Ct]=null),e[De]=n;let s=e[l4];s!==null&&n!==s&&hC(s,e);let c=e[ar];c!==null&&c.insertView(t),ma(e),e[x]|=128}function hC(t,e){let n=t[j1],r=e[De][De][at];e[at]!==r&&(t[x]|=d3.HasTransplantedViews),n===null?t[j1]=[e]:n.push(e)}function Z5(t,e){let n=t[j1],i=n.indexOf(e);n.splice(i,1)}function ka(t,e){if(t.length<=Ge)return;let n=Ge+e,i=t[n];if(i){let r=i[l4];r!==null&&r!==t&&Z5(r,i),e>0&&(t[n-1][Ct]=i[Ct]);let o=U1(t,Ge+e);cC(i[P],i);let s=o[ar];s!==null&&s.detachView(o[P]),i[De]=null,i[Ct]=null,i[x]&=-129}return i}function X5(t,e){if(!(e[x]&256)){let n=e[de];n.destroyNode&&D4(t,e,n,3,null,null),lC(e)}}function ia(t,e){if(e[x]&256)return;let n=W(null);try{e[x]&=-129,e[x]|=256,e[si]&&ru(e[si]),fC(t,e),dC(t,e),e[P].type===1&&e[de].destroy();let i=e[l4];if(i!==null&&Lt(e[De])){i!==e[De]&&Z5(i,e);let r=e[ar];r!==null&&r.detachView(t)}iC(e)}finally{W(n)}}function dC(t,e){let n=t.cleanup,i=e[ho];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[n[o+1]];n[o].call(s)}i!==null&&(e[ho]=null);let r=e[En];if(r!==null){e[En]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function fC(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof li)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=r[o[s]],a=o[s+1];St(4,c,a);try{a.call(c)}finally{St(5,c,a)}}else{St(4,r,o);try{o.call(r)}finally{St(5,r,o)}}}}}function pC(t,e,n){return mC(t,e.parent,n)}function mC(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[Ye];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=t.data[i.directiveStart+r];if(o===Vt.None||o===Vt.Emulated)return null}return lt(i,n)}}function Z1(t,e,n,i,r){t.insertBefore(e,n,i,r)}function J5(t,e,n){t.appendChild(e,n)}function Gu(t,e,n,i,r){i!==null?Z1(t,e,n,i,r):J5(t,e,n)}function vC(t,e,n,i){t.removeChild(e,n,i)}function A3(t,e){return t.parentNode(e)}function gC(t,e){return t.nextSibling(e)}function yC(t,e,n){return CC(t,e,n)}function wC(t,e,n){return t.type&40?lt(t,n):null}var CC=wC,Qu;function E4(t,e,n,i){let r=pC(t,i,e),o=e[de],s=i.parent||e[bt],c=yC(s,i,e);if(r!=null)if(Array.isArray(n))for(let a=0;a<n.length;a++)Gu(o,r,n[a],c,!1);else Gu(o,r,n,c,!1);Qu!==void 0&&Qu(o,i,e,n,r)}function k1(t,e){if(e!==null){let n=e.type;if(n&3)return lt(e,t);if(n&4)return Fa(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return k1(t,i);{let r=t[e.index];return Lt(r)?Fa(-1,r):Mt(r)}}else{if(n&32)return T3(e,t)()||Mt(t[e.index]);{let i=e7(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=vo(t[at]);return k1(r,i)}else return k1(t,e.next)}}}return null}function e7(t,e){if(e!==null){let i=t[at][bt],r=e.projection;return i.projection[r]}return null}function Fa(t,e){let n=Ge+t+1;if(n<e.length){let i=e[n],r=i[P].firstChild;if(r!==null)return k1(i,r)}return e[Jt]}function t7(t,e,n){let i=A3(t,e);i&&vC(t,i,e,n)}function n7(t){t.textContent=""}function V3(t,e,n,i,r,o,s){for(;n!=null;){let c=i[n.index],a=n.type;if(s&&e===0&&(c&&xn(Mt(c),i),n.flags|=2),(n.flags&32)!==32)if(a&8)V3(t,e,n.child,i,r,o,!1),nr(e,t,r,c,o);else if(a&32){let l=T3(n,i),u;for(;u=l();)nr(e,t,r,u,o);nr(e,t,r,c,o)}else a&16?MC(t,e,i,n,r,o):nr(e,t,r,c,o);n=s?n.projectionNext:n.next}}function D4(t,e,n,i,r,o){V3(n,i,t.firstChild,e,r,o,!1)}function MC(t,e,n,i,r,o){let s=n[at],a=s[bt].projection[i.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++){let u=a[l];nr(e,t,r,u,o)}else{let l=a,u=s[De];$1(i)&&(l.flags|=128),V3(t,e,l,u,r,o,!0)}}function bC(t,e,n,i,r){let o=n[Jt],s=Mt(n);o!==s&&nr(e,t,i,o,r);for(let c=Ge;c<n.length;c++){let a=n[c];D4(a[P],a,t,e,i,o)}}function _C(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:Ot.DashCase;r==null?t.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Ot.Important),t.setStyle(n,i,r,o))}}function EC(t,e,n){t.setAttribute(e,"style",n)}function i7(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function r7(t,e,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&pa(t,e,i),r!==null&&i7(t,e,r),o!==null&&EC(t,e,o)}var mi={};function _k(t=1){o7(ut(),se(),mr()+t,!1)}function o7(t,e,n,i){if(!i)if((e[x]&3)===3){let o=t.preOrderCheckHooks;o!==null&&R1(e,o,n)}else{let o=t.preOrderHooks;o!==null&&H1(e,o,0,n)}ci(n)}function K(t,e=k.Default){let n=se();if(n===null)return m(t,e);let i=Ke();return T5(i,n,Ve(t),e)}function s7(){let t="invalid";throw new Error(t)}function c7(t,e,n,i,r,o){let s=W(null);try{let c=null;r&Qe.SignalBased&&(c=e[i][eu]),c!==null&&c.transformFn!==void 0&&(o=c.transformFn(o)),r&Qe.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(e,o)),t.setInput!==null?t.setInput(e,c,o,n,i):y5(e,c,i,o)}finally{W(s)}}function DC(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)ci(~r);else{let o=r,s=n[++i],c=n[++i];my(s,o);let a=e[o];c(2,a)}}}finally{ci(-1)}}function I4(t,e,n,i,r,o,s,c,a,l,u){let h=e.blueprint.slice();return h[Ye]=r,h[x]=i|4|128|8|64,(l!==null||t&&t[x]&2048)&&(h[x]|=2048),Vh(h),h[De]=h[bo]=t,h[Xt]=n,h[In]=s||t&&t[In],h[de]=c||t&&t[de],h[cr]=a||t&&t[cr]||null,h[bt]=o,h[u4]=tC(),h[Zt]=u,h[zh]=l,h[at]=e.type==2?t[at]:h,h}function To(t,e,n,i,r){let o=t.data[e];if(o===null)o=IC(t,e,n,i,r),py()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=uy();o.injectorIndex=s===null?-1:s.injectorIndex}return di(o,!0),o}function IC(t,e,n,i,r){let o=Lh(),s=v3(),c=s?o:o&&o.parent,a=t.data[e]=VC(t,c,n,e,i,r);return t.firstChild===null&&(t.firstChild=a),o!==null&&(s?o.child==null&&a.parent!==null&&(o.child=a):o.next===null&&(o.next=a,a.prev=o)),a}function a7(t,e,n,i){if(n===0)return-1;let r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function l7(t,e,n,i,r){let o=mr(),s=i&2;try{ci(-1),s&&e.length>Be&&o7(t,e,Be,!1),St(s?2:0,r),n(i,r)}finally{ci(o),St(s?3:1,r)}}function N3(t,e,n){if(f3(e)){let i=W(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let c=t.data[s];if(c.contentQueries){let a=n[s];c.contentQueries(1,a,s)}}}finally{W(i)}}}function O3(t,e,n){Oh()&&(FC(t,e,n,lt(n,e)),(n.flags&64)===64&&f7(t,e,n))}function L3(t,e,n=lt){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],c=s===-1?n(e,t):t[s];t[r++]=c}}}function u7(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=R3(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function R3(t,e,n,i,r,o,s,c,a,l,u){let h=Be+i,d=h+r,f=zC(h,d),p=typeof l=="function"?l():l;return f[P]={type:t,blueprint:f,template:n,queries:null,viewQuery:c,declTNode:e,data:f.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:a,consts:p,incompleteFirstPass:!1,ssrId:u}}function zC(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:mi);return n}function xC(t,e,n,i){let o=i.get(L5,O5)||n===Vt.ShadowDom,s=t.selectRootElement(e,o);return TC(s),s}function TC(t){h7(t)}var h7=()=>null;function SC(t){Qh(t)?n7(t):tw(t)}function AC(){h7=SC}function VC(t,e,n,i,r,o){let s=e?e.injectorIndex:-1,c=0;return Eo()&&(c|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Yu(t,e,n,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;i??={};let c,a=Qe.None;Array.isArray(s)?(c=s[0],a=s[1]):c=s;let l=o;if(r!==null){if(!r.hasOwnProperty(o))continue;l=r[o]}t===0?Ku(i,n,l,c,a):Ku(i,n,l,c)}return i}function Ku(t,e,n,i,r){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,i):o=t[n]=[e,i],r!==void 0&&o.push(r)}function NC(t,e,n){let i=e.directiveStart,r=e.directiveEnd,o=t.data,s=e.attrs,c=[],a=null,l=null;for(let u=i;u<r;u++){let h=o[u],d=n?n.get(h):null,f=d?d.inputs:null,p=d?d.outputs:null;a=Yu(0,h.inputs,u,a,f),l=Yu(1,h.outputs,u,l,p);let y=a!==null&&s!==null&&!wh(e)?QC(a,u,s):null;c.push(y)}a!==null&&(a.hasOwnProperty("class")&&(e.flags|=8),a.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=a,e.outputs=l}function OC(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function LC(t,e,n,i,r,o,s,c){let a=lt(e,n),l=e.inputs,u;!c&&l!=null&&(u=l[i])?(k3(t,n,u,i,r),_o(e)&&RC(n,e.index)):e.type&3?(i=OC(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(a,i,r)):e.type&12}function RC(t,e){let n=Sn(e,t);n[x]&16||(n[x]|=64)}function H3(t,e,n,i){if(Oh()){let r=i===null?null:{"":-1},o=BC(t,n),s,c;o===null?s=c=null:[s,c]=o,s!==null&&d7(t,e,n,s,r,c),r&&jC(n,i,r)}n.mergedAttrs=uo(n.mergedAttrs,n.attrs)}function d7(t,e,n,i,r,o){for(let l=0;l<i.length;l++)xa(K1(n,e),t,i[l].type);$C(n,t.data.length,i.length);for(let l=0;l<i.length;l++){let u=i[l];u.providersResolver&&u.providersResolver(u)}let s=!1,c=!1,a=a7(t,e,i.length,null);for(let l=0;l<i.length;l++){let u=i[l];n.mergedAttrs=uo(n.mergedAttrs,u.hostAttrs),qC(t,n,e,a,u),UC(a,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let h=u.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!c&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),a++}NC(t,n,o)}function HC(t,e,n,i,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;kC(s)!=c&&s.push(c),s.push(n,i,o)}}function kC(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function FC(t,e,n,i){let r=n.directiveStart,o=n.directiveEnd;_o(n)&&WC(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||K1(n,e),xn(i,e);let s=n.initialInputs;for(let c=r;c<o;c++){let a=t.data[c],l=dr(e,t,c,n);if(xn(l,e),s!==null&&GC(e,c-r,l,a,n,s),zn(a)){let u=Sn(n.index,e);u[Xt]=dr(e,t,c,n)}}}function f7(t,e,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=vy();try{ci(o);for(let c=i;c<r;c++){let a=t.data[c],l=e[c];va(c),(a.hostBindings!==null||a.hostVars!==0||a.hostAttrs!==null)&&PC(a,l)}}finally{ci(-1),va(s)}}function PC(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function BC(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(jg(e,s.selectors,!1))if(i||(i=[]),zn(s))if(s.findHostDirectiveDefs!==null){let c=[];r=r||new Map,s.findHostDirectiveDefs(s,c,r),i.unshift(...c,s);let a=c.length;Pa(t,e,a)}else i.unshift(s),Pa(t,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function Pa(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function jC(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=n[e[r+1]];if(o==null)throw new _(-301,!1);i.push(e[r],o)}}}function UC(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;zn(e)&&(n[""]=t)}}function $C(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function qC(t,e,n,i,r){t.data[i]=r;let o=r.factory||(r.factory=ur(r.type,!0)),s=new li(o,zn(r),K);t.blueprint[i]=s,n[i]=s,HC(t,e,i,a7(t,n,r.hostVars,mi),r)}function WC(t,e,n){let i=lt(e,t),r=u7(n),o=t[In].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let c=z4(t,I4(t,r,null,s,i,e,null,o.createRenderer(i,n),null,null,null));t[e.index]=c}function GC(t,e,n,i,r,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;){let a=s[c++],l=s[c++],u=s[c++],h=s[c++];c7(i,n,a,l,u,h)}}function QC(t,e,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){i===null&&(i=[]);let s=t[o];for(let c=0;c<s.length;c+=3)if(s[c]===e){i.push(o,s[c+1],s[c+2],n[r+1]);break}}r+=2}return i}function p7(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function m7(t,e){let n=t.contentQueries;if(n!==null){let i=W(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let c=t.data[s];kh(o),c.contentQueries(2,e[s],s)}}}finally{W(i)}}}function z4(t,e){return t[fo]?t[Vu][Ct]=e:t[fo]=e,t[Vu]=e,e}function Ba(t,e,n){kh(0);let i=W(null);try{e(t,n)}finally{W(i)}}function YC(t){return t[ho]||(t[ho]=[])}function KC(t){return t.cleanup||(t.cleanup=[])}function v7(t,e){let n=t[cr],i=n?n.get(Nt,null):null;i&&i.handleError(e)}function k3(t,e,n,i,r){for(let o=0;o<n.length;){let s=n[o++],c=n[o++],a=n[o++],l=e[s],u=t.data[s];c7(u,l,i,c,a,r)}}function ZC(t,e,n){let i=Sh(e,t);sC(t[de],i,n)}function XC(t,e){let n=Sn(e,t),i=n[P];JC(i,n);let r=n[Ye];r!==null&&n[Zt]===null&&(n[Zt]=_3(r,n[cr])),F3(i,n,n[Xt])}function JC(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function F3(t,e,n){g3(e);try{let i=t.viewQuery;i!==null&&Ba(1,i,n);let r=t.template;r!==null&&l7(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ar]?.finishViewCreation(t),t.staticContentQueries&&m7(t,e),t.staticViewQueries&&Ba(2,t.viewQuery,n);let o=t.components;o!==null&&eM(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[x]&=-5,y3()}}function eM(t,e){for(let n=0;n<e.length;n++)XC(t,e[n])}function tM(t,e,n,i){let r=W(null);try{let o=e.tView,c=t[x]&4096?4096:16,a=I4(t,o,n,c,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null),l=t[e.index];a[l4]=l;let u=t[ar];return u!==null&&(a[ar]=u.createEmbeddedView(o)),F3(o,a,n),a}finally{W(r)}}function Zu(t,e){return!e||e.firstChild===null||$1(t)}function nM(t,e,n,i=!0){let r=e[P];if(uC(r,e,t,n),i){let s=Fa(n,t),c=e[de],a=A3(c,t[Jt]);a!==null&&aC(r,t[bt],c,e,a,s)}let o=e[Zt];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function X1(t,e,n,i,r=!1){for(;n!==null;){let o=e[n.index];o!==null&&i.push(Mt(o)),Lt(o)&&iM(o,i);let s=n.type;if(s&8)X1(t,e,n.child,i);else if(s&32){let c=T3(n,e),a;for(;a=c();)i.push(a)}else if(s&16){let c=e7(e,n);if(Array.isArray(c))i.push(...c);else{let a=vo(e[at]);X1(a[P],a,c,i,!0)}}n=r?n.projectionNext:n.next}return i}function iM(t,e){for(let n=Ge;n<t.length;n++){let i=t[n],r=i[P].firstChild;r!==null&&X1(i[P],i,r,e)}t[Jt]!==t[Ye]&&e.push(t[Jt])}var g7=[];function rM(t){return t[si]??oM(t)}function oM(t){let e=g7.pop()??Object.create(cM);return e.lView=t,e}function sM(t){t.lView[si]!==t&&(t.lView=null,g7.push(t))}var cM=U(w({},tu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{mo(t.lView)},consumerOnSignalRead(){this.lView[si]=this}});function y7(t){return C7(t[fo])}function w7(t){return C7(t[Ct])}function C7(t){for(;t!==null&&!Lt(t);)t=t[Ct];return t}var M7=100;function b7(t,e=!0,n=0){let i=t[In],r=i.rendererFactory,o=!1;o||r.begin?.();try{aM(t,n)}catch(s){throw e&&v7(t,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function aM(t,e){ja(t,e);let n=0;for(;m3(t);){if(n===M7)throw new _(103,!1);n++,ja(t,1)}}function lM(t,e,n,i){let r=e[x];if((r&256)===256)return;let o=!1;!o&&e[In].inlineEffectRunner?.flush(),g3(e);let s=null,c=null;!o&&uM(t)&&(c=rM(e),s=nu(c));try{Vh(e),dy(t.bindingStartIndex),n!==null&&l7(t,e,n,2,i);let a=(r&3)===3;if(!o)if(a){let h=t.preOrderCheckHooks;h!==null&&R1(e,h,null)}else{let h=t.preOrderHooks;h!==null&&H1(e,h,0,null),ea(e,0)}if(hM(e),_7(e,0),t.contentQueries!==null&&m7(t,e),!o)if(a){let h=t.contentCheckHooks;h!==null&&R1(e,h)}else{let h=t.contentHooks;h!==null&&H1(e,h,1),ea(e,1)}DC(t,e);let l=t.components;l!==null&&D7(e,l,0);let u=t.viewQuery;if(u!==null&&Ba(2,u,i),!o)if(a){let h=t.viewCheckHooks;h!==null&&R1(e,h)}else{let h=t.viewHooks;h!==null&&H1(e,h,2),ea(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[K2]){for(let h of e[K2])h();e[K2]=null}o||(e[x]&=-73)}catch(a){throw mo(e),a}finally{c!==null&&(iu(c,s),sM(c)),y3()}}function uM(t){return t.type!==2}function _7(t,e){for(let n=y7(t);n!==null;n=w7(n))for(let i=Ge;i<n.length;i++){let r=n[i];E7(r,e)}}function hM(t){for(let e=y7(t);e!==null;e=w7(e)){if(!(e[x]&d3.HasTransplantedViews))continue;let n=e[j1];for(let i=0;i<n.length;i++){let r=n[i],o=r[De];ny(r)}}}function dM(t,e,n){let i=Sn(e,t);E7(i,n)}function E7(t,e){p3(t)&&ja(t,e)}function ja(t,e){let i=t[P],r=t[x],o=t[si],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&I2(o)),o&&(o.dirty=!1),t[x]&=-9217,s)lM(i,t,i.template,t[Xt]);else if(r&8192){_7(t,1);let c=i.components;c!==null&&D7(t,c,1)}}function D7(t,e,n){for(let i=0;i<e.length;i++)dM(t,e[i],n)}function P3(t){for(t[In].changeDetectionScheduler?.notify();t;){t[x]|=64;let e=vo(t);if(Th(t)&&!e)return t;t=e}return null}var ui=class{get rootNodes(){let e=this._lView,n=e[P];return X1(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xt]}set context(e){this._lView[Xt]=e}get destroyed(){return(this._lView[x]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[De];if(Lt(e)){let n=e[B1],i=n?n.indexOf(this):-1;i>-1&&(ka(e,i),U1(n,i))}this._attachedToViewContainer=!1}X5(this._lView[P],this._lView)}onDestroy(e){Nh(this._lView,e)}markForCheck(){P3(this._cdRefInjectingView||this._lView)}detach(){this._lView[x]&=-129}reattach(){ma(this._lView),this._lView[x]|=128}detectChanges(){this._lView[x]|=1024,b7(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,K5(this._lView[P],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new _(902,!1);this._appRef=e,ma(this._lView)}},B3=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=mM;let t=e;return t})(),fM=B3,pM=class extends fM{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=tM(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:i});return new ui(r)}};function mM(){return vM(Ke(),se())}function vM(t,e){return t.type&4?new pM(e,t,f4(t,e)):null}function I7(t){let e=t[po]??[],i=t[De][de];for(let r of e)gM(r,i);t[po]=We}function gM(t,e){let n=0,i=t.firstChild;if(i){let r=t.data[W1];for(;n<r;){let o=i.nextSibling;t7(e,i,!1),i=o,n++}}}function z7(t){I7(t);for(let e=Ge;e<t.length;e++)J1(t[e])}function J1(t){let e=t[P];for(let n=Be;n<e.bindingStartIndex;n++)if(Lt(t[n])){let i=t[n];z7(i)}else Kt(t[n])&&J1(t[n])}function yM(t){let e=t._views;for(let n of e){let i=Jy(n);if(i!==null&&i[Ye]!==null)if(Kt(i))J1(i);else{let r=i[Ye];J1(r),z7(i)}}}var wM=new RegExp(`^(\\d+)*(${s5}|${o5})*(.*)`);function CM(t){let e=t.match(wM),[n,i,r,o]=e,s=i?parseInt(i,10):r,c=[];for(let[a,l,u]of o.matchAll(/(f|n)(\d*)/g)){let h=parseInt(u,10)||1;c.push(l,h)}return[s,...c]}function MM(t){return!t.prev&&t.parent?.type===8}function ra(t){return t.index-Be}function x4(t,e,n,i){let r=null,o=ra(i),s=t.data[Gy];if(s?.[o])r=_M(s[o],n);else if(e.firstChild===i)r=t.firstChild;else{let c=i.prev===null,a=i.prev??i.parent;if(MM(i)){let l=ra(i.parent);r=ba(t,l)}else{let l=lt(a,n);if(c)r=l.firstChild;else{let u=ra(a),h=ba(t,u);if(a.type===2&&h){let f=E3(t,u)+1;r=T4(f,h)}else r=l.nextSibling}}}return r}function T4(t,e){let n=e;for(let i=0;i<t;i++)n=n.nextSibling;return n}function bM(t,e){let n=t;for(let i=0;i<e.length;i+=2){let r=e[i],o=e[i+1];for(let s=0;s<o;s++)switch(r){case Ma.FirstChild:n=n.firstChild;break;case Ma.NextSibling:n=n.nextSibling;break}}return n}function _M(t,e){let[n,...i]=CM(t),r;if(n===o5)r=e[at][Ye];else if(n===s5)r=rC(e[at][Ye]);else{let o=Number(n);r=Mt(e[o+Be])}return bM(r,i)}function EM(t,e){let n=[];for(let i of e)for(let r=0;r<(i[c5]??1);r++){let o={data:i,firstChild:null};i[W1]>0&&(o.firstChild=t,t=T4(i[W1],t)),n.push(o)}return[t,n]}var x7=()=>null;function DM(t,e){let n=t[po];return!e||n===null||n.length===0?null:n[0].data[Wy]===e?n.shift():(I7(t),null)}function IM(){x7=DM}function Xu(t,e){return x7(t,e)}var Ua=class{},$a=class{},e4=class{};function zM(t){let e=Error(`No component factory found for ${Pe(t)}.`);return e[xM]=t,e}var xM="ngComponent";var qa=class{resolveComponentFactory(e){throw zM(e)}},S4=(()=>{let e=class e{};e.NULL=new qa;let t=e;return t})(),tn=class{},cn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>TM();let t=e;return t})();function TM(){let t=se(),e=Ke(),n=Sn(e.index,t);return(Kt(n)?n:t)[de]}var SM=(()=>{let e=class e{};e.\u0275prov=M({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),oa={},T7=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=AM,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),Wa=class extends T7{constructor(e){super(),this._lView=e}onDestroy(e){return Nh(this._lView,e),()=>iy(this._lView,e)}};function AM(){return new Wa(se())}var Ju=new Set;function yr(t){Ju.has(t)||(Ju.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function eh(...t){}function VM(){let t=typeof ri.requestAnimationFrame=="function",e=ri[t?"requestAnimationFrame":"setTimeout"],n=ri[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var B=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ze(!1),this.onMicrotaskEmpty=new ze(!1),this.onStable=new ze(!1),this.onError=new ze(!1),typeof Zone>"u")throw new _(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=VM().nativeRequestAnimationFrame,LM(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new _(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new _(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,NM,eh,eh);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},NM={};function j3(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function OM(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ri,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ga(t),t.isCheckStableRunning=!0,j3(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ga(t))}function LM(t){let e=()=>{OM(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,s,c)=>{if(RM(c))return n.invokeTask(r,o,s,c);try{return th(t),n.invokeTask(r,o,s,c)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),nh(t)}},onInvoke:(n,i,r,o,s,c,a)=>{try{return th(t),n.invoke(r,o,s,c,a)}finally{t.shouldCoalesceRunChangeDetection&&e(),nh(t)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Ga(t),j3(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Ga(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function th(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function nh(t){t._nesting--,j3(t)}function RM(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var ir=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ir||{}),HM={destroy(){}};function U3(t,e){!e&&mw(U3);let n=e?.injector??g(Ht);if(!ao(n))return HM;yr("NgAfterNextRender");let i=n.get($3),r=i.handler??=new Ya,o=e?.phase??ir.MixedReadWrite,s=()=>{r.unregister(a),c()},c=n.get(T7).onDestroy(s),a=new Qa(n,o,()=>{s(),t()});return r.register(a),{destroy:s}}var Qa=class{constructor(e,n,i){this.phase=n,this.callbackFn=i,this.zone=e.get(B),this.errorHandler=e.get(Nt,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Ya=class{constructor(){this.executingCallbacks=!1,this.buckets={[ir.EarlyRead]:new Set,[ir.Write]:new Set,[ir.MixedReadWrite]:new Set,[ir.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},$3=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=M({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function t4(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)r=Iu(r,c);else if(o==2){let a=c,l=e[++s];i=Iu(i,a+": "+l+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var n4=class extends S4{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Dn(e);return new fr(n,this.ngModule)}};function ih(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function kM(t){let e=t.toLowerCase();return e==="svg"?Zg:e==="math"?Xg:null}var Ka=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=g4(i);let r=this.injector.get(e,oa,i);return r!==oa||n===oa?r:this.parentInjector.get(e,n,i)}},fr=class extends e4{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=ih(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return ih(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Wg(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let o=W(null);try{r=r||this.ngModule;let s=r instanceof je?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let c=s?new Ka(e,s):e,a=c.get(tn,null);if(a===null)throw new _(407,!1);let l=c.get(SM,null),u=c.get($3,null),h=c.get(Ua,null),d={rendererFactory:a,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:h},f=a.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",y=i?xC(f,i,this.componentDef.encapsulation,c):S3(f,p,kM(p)),E=512;this.componentDef.signals?E|=4096:this.componentDef.onPush||(E|=16);let I=null;y!==null&&(I=_3(y,c,!0));let G=R3(0,null,null,1,0,null,null,null,null,null,null),O=I4(null,G,null,E,null,null,d,f,c,null,I);g3(O);let ce,Se;try{let it=this.componentDef,gn,M2=null;it.findHostDirectiveDefs?(gn=[],M2=new Map,it.findHostDirectiveDefs(it,gn,M2),gn.push(it)):gn=[it];let ig=FM(O,y),rg=PM(ig,y,it,gn,O,d,f);Se=Ah(G,Be),y&&UM(f,it,y,i),n!==void 0&&$M(Se,this.ngContentSelectors,n),ce=jM(rg,it,gn,M2,O,[qM]),F3(G,O,null)}finally{y3()}return new Za(this.componentType,ce,f4(Se,O),O,Se)}finally{W(o)}}},Za=class extends $a{constructor(e,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ui(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;k3(o[P],o,r,e,n),this.previousInputValues.set(e,n);let s=Sn(this._tNode.index,o);P3(s)}}get injector(){return new oi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function FM(t,e){let n=t[P],i=Be;return t[i]=e,To(n,i,2,"#host",null)}function PM(t,e,n,i,r,o,s){let c=r[P];BM(i,t,e,s);let a=null;e!==null&&(a=_3(e,r[cr]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let h=I4(r,u7(n),null,u,r[t.index],t,o,l,null,null,a);return c.firstCreatePass&&Pa(c,t,i.length-1),z4(r,h),r[t.index]=h}function BM(t,e,n,i){for(let r of t)e.mergedAttrs=uo(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(t4(e,e.mergedAttrs,!0),n!==null&&r7(i,n,e))}function jM(t,e,n,i,r,o){let s=Ke(),c=r[P],a=lt(s,r);d7(c,r,s,n,null,i);for(let u=0;u<n.length;u++){let h=s.directiveStart+u,d=dr(r,c,h,s);xn(d,r)}f7(c,r,s),a&&xn(a,r);let l=dr(r,c,s.directiveStart+s.componentOffset,s);if(t[Xt]=r[Xt]=l,o!==null)for(let u of o)u(l,e);return N3(c,s,r),l}function UM(t,e,n,i){if(i)pa(t,n,["ng-version","17.2.4"]);else{let{attrs:r,classes:o}=Gg(e.selectors[0]);r&&pa(t,n,r),o&&o.length>0&&i7(t,n,o.join(" "))}}function $M(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let o=n[r];i.push(o!=null?Array.from(o):null)}}function qM(){let t=Ke();b4(se()[P],t)}var So=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=WM;let t=e;return t})();function WM(){let t=Ke();return QM(t,se())}var GM=So,S7=class extends GM{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return f4(this._hostTNode,this._hostLView)}get injector(){return new oi(this._hostTNode,this._hostLView)}get parentInjector(){let e=z3(this._hostTNode,this._hostLView);if(_5(e)){let n=Y1(e,this._hostLView),i=Q1(e),r=n[P].data[i+8];return new oi(r,n)}else return new oi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=rh(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ge}createEmbeddedView(e,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Xu(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,r,Zu(this._hostTNode,s)),c}createComponent(e,n,i,r,o){let s=e&&!vw(e),c;if(s)c=n;else{let p=n||{};c=p.index,i=p.injector,r=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let a=s?e:new fr(Dn(e)),l=i||this.parentInjector;if(!o&&a.ngModule==null){let y=(s?l:this.parentInjector).get(je,null);y&&(o=y)}let u=Dn(a.componentType??{}),h=Xu(this._lContainer,u?.id??null),d=h?.firstChild??null,f=a.create(l,r,d,o);return this.insertImpl(f.hostView,c,Zu(this._hostTNode,h)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(ty(r)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let a=r[De],l=new S7(a,a[bt],a[De]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return nM(s,r,o,i),e.attachToViewContainerRef(),Wh(sa(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=rh(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=ka(this._lContainer,n);i&&(U1(sa(this._lContainer),n),X5(i[P],i))}detach(e){let n=this._adjustIndex(e,-1),i=ka(this._lContainer,n);return i&&U1(sa(this._lContainer),n)!=null?new ui(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function rh(t){return t[B1]}function sa(t){return t[B1]||(t[B1]=[])}function QM(t,e){let n,i=e[t.index];return Lt(i)?n=i:(n=p7(i,e,null,t),e[t.index]=n,z4(e,n)),A7(n,e,t,i),new S7(n,t,e)}function YM(t,e){let n=t[de],i=n.createComment(""),r=lt(e,t),o=A3(n,r);return Z1(n,o,i,gC(n,r),!1),i}var A7=V7,q3=()=>!1;function KM(t,e,n){return q3(t,e,n)}function V7(t,e,n,i){if(t[Jt])return;let r;n.type&8?r=Mt(i):r=YM(e,n),t[Jt]=r}function ZM(t,e,n){if(t[Jt]&&t[po])return!0;let i=n[Zt],r=e.index-Be;if(!i||Iy(e)||w4(i,r))return!1;let s=ba(i,r),c=i.data[b3]?.[r],[a,l]=EM(s,c);return t[Jt]=a,t[po]=l,!0}function XM(t,e,n,i){q3(t,n,e)||V7(t,e,n,i)}function JM(){A7=XM,q3=ZM}function eb(t){return Object.getPrototypeOf(t.prototype).constructor}function an(t){let e=eb(t.type),n=!0,i=[t];for(;e;){let r;if(zn(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new _(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let s=t;s.inputs=V1(t.inputs),s.inputTransforms=V1(t.inputTransforms),s.declaredInputs=V1(t.declaredInputs),s.outputs=V1(t.outputs);let c=r.hostBindings;c&&ob(t,c);let a=r.viewQuery,l=r.contentQueries;if(a&&ib(t,a),l&&rb(t,l),tb(t,r),Ag(t.outputs,r.outputs),zn(r)&&r.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(t),c===an&&(n=!1)}}e=Object.getPrototypeOf(e)}nb(i)}function tb(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function nb(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=uo(r.hostAttrs,n=uo(n,r.hostAttrs))}}function V1(t){return t===sr?{}:t===We?[]:t}function ib(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function rb(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,o)=>{e(i,r,o),n(i,r,o)}:t.contentQueries=e}function ob(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}var Tn=class{},wo=class{};var Xa=class extends Tn{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new n4(this);let r=Eh(e);this._bootstrapComponents=G5(r.bootstrap),this._r3Injector=V5(e,n,[{provide:Tn,useValue:this},{provide:S4,useValue:this.componentFactoryResolver},...i],Pe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ja=class extends wo{constructor(e){super(),this.moduleType=e}create(e){return new Xa(this.moduleType,e,[])}};var i4=class extends Tn{constructor(e){super(),this.componentFactoryResolver=new n4(this),this.instance=null;let n=new yo([...e.providers,{provide:Tn,useValue:this},{provide:S4,useValue:this.componentFactoryResolver}],e.parent||I3(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function A4(t,e,n=null){return new i4({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Ao=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ee(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function N7(t){return W3(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function sb(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function W3(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function cb(t,e,n){return t[e]=n}function V4(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function ab(t,e,n,i,r,o,s,c,a){let l=e.consts,u=To(e,t,4,s||null,lr(l,c));H3(e,n,u,lr(l,a)),b4(e,u);let h=u.tView=R3(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}function lb(t,e,n,i,r,o,s,c){let a=se(),l=ut(),u=t+Be,h=l.firstCreatePass?ab(u,l,a,e,n,i,r,o,s):l.data[u];di(h,!1);let d=O7(l,a,h,t);d4()&&E4(l,a,d,h),xn(d,a);let f=p7(d,a,d,h);return a[u]=f,z4(a,f),KM(f,h,a),h4(h)&&O3(l,a,h),s!=null&&L3(a,h,c),lb}var O7=L7;function L7(t,e,n,i){return An(!0),e[de].createComment("")}function ub(t,e,n,i){let r=e[Zt],o=!r||Eo()||w4(r,i);if(An(o),o)return L7(t,e,n,i);let s=r.data[qy]?.[i]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let c=x4(r,t,e,n);y4(r,i,c);let a=E3(r,i);return T4(a,c)}function hb(){O7=ub}function db(t,e,n,i){return V4(t,Hh(),n)?e+t5(n)+i:mi}function N1(t,e){return t<<17|e<<2}function hi(t){return t>>17&32767}function fb(t){return(t&2)==2}function pb(t,e){return t&131071|e<<17}function e3(t){return t|2}function pr(t){return(t&131068)>>2}function ca(t,e){return t&-131069|e<<2}function mb(t){return(t&1)===1}function t3(t){return t|1}function vb(t,e,n,i,r,o){let s=o?e.classBindings:e.styleBindings,c=hi(s),a=pr(s);t[i]=n;let l=!1,u;if(Array.isArray(n)){let h=n;u=h[1],(u===null||Do(h,u)>0)&&(l=!0)}else u=n;if(r)if(a!==0){let d=hi(t[c+1]);t[i+1]=N1(d,c),d!==0&&(t[d+1]=ca(t[d+1],i)),t[c+1]=pb(t[c+1],i)}else t[i+1]=N1(c,0),c!==0&&(t[c+1]=ca(t[c+1],i)),c=i;else t[i+1]=N1(a,0),c===0?c=i:t[a+1]=ca(t[a+1],i),a=i;l&&(t[i+1]=e3(t[i+1])),oh(t,u,i,!0),oh(t,u,i,!1),gb(e,u,t,i,o),s=N1(c,a),o?e.classBindings=s:e.styleBindings=s}function gb(t,e,n,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Do(o,e)>=0&&(n[i+1]=t3(n[i+1]))}function oh(t,e,n,i){let r=t[n+1],o=e===null,s=i?hi(r):pr(r),c=!1;for(;s!==0&&(c===!1||o);){let a=t[s],l=t[s+1];yb(a,e)&&(c=!0,t[s+1]=i?t3(l):e3(l)),s=i?hi(l):pr(l)}c&&(t[n+1]=i?e3(r):t3(r))}function yb(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Do(t,e)>=0:!1}function wb(t,e,n){let i=se(),r=Hh();if(V4(i,r,e)){let o=ut(),s=wy();LC(o,s,i,t,e,i[de],n,!1)}return wb}function sh(t,e,n,i,r){let o=e.inputs,s=r?"class":"style";k3(t,n,o[s],s,i)}function Vo(t,e){return Cb(t,e,null,!0),Vo}function Cb(t,e,n,i){let r=se(),o=ut(),s=fy(2);if(o.firstUpdatePass&&bb(o,t,s,i),e!==mi&&V4(r,s,e)){let c=o.data[mr()];zb(o,c,r,r[de],t,r[s+1]=xb(e,n),i,s)}}function Mb(t,e){return e>=t.expandoStartIndex}function bb(t,e,n,i){let r=t.data;if(r[n+1]===null){let o=r[mr()],s=Mb(t,n);Tb(o,i)&&e===null&&!s&&(e=!1),e=_b(r,o,e,i),vb(r,o,e,n,s,i)}}function _b(t,e,n,i){let r=gy(t),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=aa(null,t,e,n,i),n=Co(n,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(n=aa(r,t,e,n,i),o===null){let a=Eb(t,e,i);a!==void 0&&Array.isArray(a)&&(a=aa(null,t,e,a[1],i),a=Co(a,e.attrs,i),Db(t,e,i,a))}else o=Ib(t,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),n}function Eb(t,e,n){let i=n?e.classBindings:e.styleBindings;if(pr(i)!==0)return t[hi(i)]}function Db(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[hi(r)]=i}function Ib(t,e,n){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;i=Co(i,s,n)}return Co(i,e.attrs,n)}function aa(t,e,n,i,r){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=e[c],i=Co(i,o.hostAttrs,r),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),i}function Co(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),by(t,s,n?!0:e[++o]))}return t===void 0?null:t}function zb(t,e,n,i,r,o,s,c){if(!(e.type&3))return;let a=t.data,l=a[c+1],u=mb(l)?ch(a,e,n,r,pr(l),s):void 0;if(!r4(u)){r4(o)||fb(l)&&(o=ch(a,null,n,r,c,s));let h=Sh(mr(),n);_C(i,s,h,r,o)}}function ch(t,e,n,i,r,o){let s=e===null,c;for(;r>0;){let a=t[r],l=Array.isArray(a),u=l?a[1]:a,h=u===null,d=n[r+1];d===mi&&(d=h?We:void 0);let f=h?Z2(d,i):u===i?d:void 0;if(l&&!r4(f)&&(f=Z2(a,i)),r4(f)&&(c=f,s))return c;let p=t[r+1];r=s?hi(p):pr(p)}if(e!==null){let a=o?e.residualClasses:e.residualStyles;a!=null&&(c=Z2(a,i))}return c}function r4(t){return t!==void 0}function xb(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Pe(Nn(t)))),t}function Tb(t,e){return(t.flags&(e?8:16))!==0}function Sb(t,e,n,i,r,o){let s=e.consts,c=lr(s,r),a=To(e,t,2,i,c);return H3(e,n,a,lr(s,o)),a.attrs!==null&&t4(a,a.attrs,!1),a.mergedAttrs!==null&&t4(a,a.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,a),a}function R7(t,e,n,i){let r=se(),o=ut(),s=Be+t,c=r[de],a=o.firstCreatePass?Sb(s,o,r,e,n,i):o.data[s],l=k7(o,r,a,c,e,t);r[s]=l;let u=h4(a);return di(a,!0),r7(c,l,a),(a.flags&32)!==32&&d4()&&E4(o,r,l,a),ry()===0&&xn(l,r),oy(),u&&(O3(o,r,a),N3(o,a,r)),i!==null&&L3(r,a),R7}function H7(){let t=Ke();v3()?Rh():(t=t.parent,di(t,!1));let e=t;cy(e)&&ly(),sy();let n=ut();return n.firstCreatePass&&(b4(n,t),f3(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&_w(e)&&sh(n,e,se(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Ew(e)&&sh(n,e,se(),e.stylesWithoutHost,!1),H7}function G3(t,e,n,i){return R7(t,e,n,i),H7(),G3}var k7=(t,e,n,i,r,o)=>(An(!0),S3(i,r,$h()));function Ab(t,e,n,i,r,o){let s=e[Zt],c=!s||Eo()||w4(s,o);if(An(c),c)return S3(i,r,$h());let a=x4(s,t,e,n);return u5(s,o)&&y4(s,o,a.nextSibling),s&&(Gh(n)||Qh(a))&&_o(n)&&(ay(n),n7(a)),a}function Vb(){k7=Ab}function Nb(t,e,n,i,r){let o=e.consts,s=lr(o,i),c=To(e,t,8,"ng-container",s);s!==null&&t4(c,s,!0);let a=lr(o,r);return H3(e,n,c,a),e.queries!==null&&e.queries.elementStart(e,c),c}function Ob(t,e,n){let i=se(),r=ut(),o=t+Be,s=r.firstCreatePass?Nb(o,r,i,e,n):r.data[o];di(s,!0);let c=F7(r,i,s,t);return i[o]=c,d4()&&E4(r,i,c,s),xn(c,i),h4(s)&&(O3(r,i,s),N3(r,s,i)),n!=null&&L3(i,s),Ob}function Lb(){let t=Ke(),e=ut();return v3()?Rh():(t=t.parent,di(t,!1)),e.firstCreatePass&&(b4(e,t),f3(t)&&e.queries.elementEnd(t)),Lb}var F7=(t,e,n,i)=>(An(!0),Y5(e[de],""));function Rb(t,e,n,i){let r,o=e[Zt],s=!o||Eo();if(An(s),s)return Y5(e[de],"");let c=x4(o,t,e,n),a=nw(o,i);return y4(o,i,c),r=T4(a,c),r}function Hb(){F7=Rb}var ah={};function P7(t,e,n){typeof e!="string"&&(n=e,e=t[o4.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ah[e]=t,n&&(ah[e][o4.ExtraData]=n)}var o4=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(o4||{});var s4="en-US";var kb=s4;function Fb(t){typeof t=="string"&&(kb=t.toLowerCase().replace(/_/g,"-"))}function No(t,e,n,i){let r=se(),o=ut(),s=Ke();return Bb(o,r,r[de],s,t,e,i),No}function Pb(t,e,n,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let c=e[ho],a=r[o+2];return c.length>a?c[a]:null}typeof s=="string"&&(o+=2)}return null}function Bb(t,e,n,i,r,o,s){let c=h4(i),l=t.firstCreatePass&&KC(t),u=e[Xt],h=YC(e),d=!0;if(i.type&3||s){let y=lt(i,e),E=s?s(y):y,I=h.length,G=s?ce=>s(Mt(ce[i.index])):i.index,O=null;if(!s&&c&&(O=Pb(t,e,r,i.index)),O!==null){let ce=O.__ngLastListenerFn__||O;ce.__ngNextListenerFn__=o,O.__ngLastListenerFn__=o,d=!1}else{o=uh(i,e,u,o,!1);let ce=n.listen(E,r,o);h.push(o,ce),l&&l.push(r,G,I,I+1)}}else o=uh(i,e,u,o,!1);let f=i.outputs,p;if(d&&f!==null&&(p=f[r])){let y=p.length;if(y)for(let E=0;E<y;E+=2){let I=p[E],G=p[E+1],Se=e[I][G].subscribe(o),it=h.length;if(h.push(o,Se),l){let gn=typeof Se=="function"?it+1:-(it+1);l.push(r,i.index,it,gn)}}}}function lh(t,e,n,i){let r=W(null);try{return St(6,e,n),n(i)!==!1}catch(o){return v7(t,o),!1}finally{St(7,e,n),W(r)}}function uh(t,e,n,i,r){return function o(s){if(s===Function)return i;let c=t.componentOffset>-1?Sn(t.index,e):e;P3(c);let a=lh(e,n,i,s),l=o.__ngNextListenerFn__;for(;l;)a=lh(e,n,l,s)&&a,l=l.__ngNextListenerFn__;return r&&a===!1&&s.preventDefault(),a}}function Ik(t,e=""){let n=se(),i=ut(),r=t+Be,o=i.firstCreatePass?To(i,r,1,e,null):i.data[r],s=B7(i,n,o,e,t);n[r]=s,d4()&&E4(i,n,s,o),di(o,!1)}var B7=(t,e,n,i,r)=>(An(!0),Q5(e[de],i));function jb(t,e,n,i,r){let o=e[Zt],s=!o||Eo()||w4(o,r);return An(s),s?Q5(e[de],i):x4(o,t,e,n)}function Ub(){B7=jb}function $b(t){return j7("",t,""),$b}function j7(t,e,n){let i=se(),r=db(i,t,e,n);return r!==mi&&ZC(i,mr(),r),j7}function qb(t,e,n){let i=ut();if(i.firstCreatePass){let r=zn(t);n3(n,i.data,i.blueprint,r,!0),n3(e,i.data,i.blueprint,r,!1)}}function n3(t,e,n,i,r){if(t=Ve(t),Array.isArray(t))for(let o=0;o<t.length;o++)n3(t[o],e,n,i,r);else{let o=ut(),s=se(),c=Ke(),a=hr(t)?t:Ve(t.provide),l=g5(t),u=c.providerIndexes&1048575,h=c.directiveStart,d=c.providerIndexes>>20;if(hr(t)||!t.multi){let f=new li(l,r,K),p=ua(a,e,r?u:u+d,h);p===-1?(xa(K1(c,s),o,a),la(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=ua(a,e,u+d,h),p=ua(a,e,u,u+d),y=f>=0&&n[f],E=p>=0&&n[p];if(r&&!E||!r&&!y){xa(K1(c,s),o,a);let I=Qb(r?Gb:Wb,n.length,r,i,l);!r&&E&&(n[p].providerFactory=I),la(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(I),s.push(I)}else{let I=U7(n[r?p:f],l,!r&&i);la(o,t,f>-1?f:p,I)}!r&&i&&E&&n[p].componentProviders++}}}function la(t,e,n,i){let r=hr(e),o=aw(e);if(r||o){let a=(o?Ve(e.useClass):e).prototype.ngOnDestroy;if(a){let l=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[i,a]):l[u+1].push(i,a)}else l.push(n,a)}}}function U7(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ua(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function Wb(t,e,n,i){return i3(this.multi,[])}function Gb(t,e,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=dr(n,n[P],this.providerFactory.index,i);o=c.slice(0,s),i3(r,o);for(let a=s;a<c.length;a++)o.push(c[a])}else o=[],i3(r,o);return o}function i3(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function Qb(t,e,n,i,r){let o=new li(t,n,K);return o.multi=[],o.index=e,o.componentProviders=0,U7(o,r,i&&!n),o}function N4(t,e=[]){return n=>{n.providersResolver=(i,r)=>qb(i,r?r(t):t,e)}}var Yb=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=p5(!1,i.type),o=r.length>0?A4([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=M({token:e,providedIn:"environment",factory:()=>new e(m(je))});let t=e;return t})();function $7(t){yr("NgStandalone"),t.getStandaloneInjector=e=>e.get(Yb).getOrCreateStandaloneInjector(t)}function zk(t,e,n,i){return Zb(se(),hy(),t,e,n,i)}function Kb(t,e){let n=t[e];return n===mi?void 0:n}function Zb(t,e,n,i,r,o){let s=e+n;return V4(t,s,r)?cb(t,s+1,o?i.call(o,r):i(r)):Kb(t,s+1)}var nn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},q7=new nn("17.2.4"),O4=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var W7=new C("");function vi(t){return!!t&&typeof t.then=="function"}function G7(t){return!!t&&typeof t.subscribe=="function"}var L4=new C(""),Q7=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=g(L4,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let o of this.appInits){let s=o();if(vi(s))i.push(s);else if(G7(s)){let c=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});i.push(c)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(o=>{this.reject(o)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gi=new C("");function Xb(){ou(()=>{throw new _(600,!1)})}function Jb(t){return t.isBoundToModule}function e_(t,e,n){try{let i=n();return vi(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}var On=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=g(N5),this.afterRenderEffectManager=g($3),this.componentTypes=[],this.components=[],this.isStable=g(Ao).hasPendingTasks.pipe(D(i=>!i)),this._injector=g(je)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let o=i instanceof e4;if(!this._injector.get(Q7).done){let f=!o&&_h(i),p=!1;throw new _(405,p)}let c;o?c=i:c=this._injector.get(S4).resolveComponentFactory(i),this.componentTypes.push(c.componentType);let a=Jb(c)?void 0:this._injector.get(Tn),l=r||c.selector,u=c.create(Ht.NULL,[],l,a),h=u.location.nativeElement,d=u.injector.get(W7,null);return d?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),ha(this.components,u),d?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new _(101,!1);let i=W(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,W(i)}}detectChangesInAttachedViews(){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===M7)throw new _(103,!1);let o=i===0;for(let{_lView:s,notifyErrorHandler:c}of this._views)!o&&!da(s)||this.detectChangesInView(s,c,o);if(i++,r.executeInternalCallbacks(),!this._views.some(({_lView:s})=>da(s))&&(r.execute(),!this._views.some(({_lView:s})=>da(s))))break}}detectChangesInView(i,r,o){let s;o?(s=0,i[x]|=1024):i[x]&64?s=0:s=1,b7(i,r,s)}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;ha(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(gi,[]);[...this._bootstrapListeners,...r].forEach(o=>o(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>ha(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new _(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ha(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var O1;function Q3(t){O1??=new WeakMap;let e=O1.get(t);if(e)return e;let n=t.isStable.pipe(qe(i=>i)).toPromise().then(()=>{});return O1.set(t,n),t.onDestroy(()=>O1?.delete(t)),n}function da(t){return m3(t)}var r3=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},R4=(()=>{let e=class e{compileModuleSync(i){return new Ja(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),o=Eh(i),s=G5(o.declarations).reduce((c,a)=>{let l=Dn(a);return l&&c.push(new fr(l)),c},[]);return new r3(r,s)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var t_=(()=>{let e=class e{constructor(){this.zone=g(B),this.applicationRef=g(On)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function n_(t){return[{provide:B,useFactory:t},{provide:ai,multi:!0,useFactory:()=>{let e=g(t_,{optional:!0});return()=>e.initialize()}},{provide:ai,multi:!0,useFactory:()=>{let e=g(s_);return()=>{e.initialize()}}},{provide:N5,useFactory:i_}]}function i_(){let t=g(B),e=g(Nt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function r_(t){let e=n_(()=>new B(o_(t)));return Vn([[],e])}function o_(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var s_=(()=>{let e=class e{constructor(){this.subscription=new ae,this.initialized=!1,this.zone=g(B),this.pendingTasks=g(Ao)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{B.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{B.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function c_(){return typeof $localize<"u"&&$localize.locale||s4}var Y3=new C("",{providedIn:"root",factory:()=>g(Y3,k.Optional|k.SkipSelf)||c_()});var Y7=new C("");var F1=null;function a_(t=[],e){return Ht.create({name:e,providers:[{provide:M4,useValue:"platform"},{provide:Y7,useValue:new Set([()=>F1=null])},...t]})}function l_(t=[]){if(F1)return F1;let e=a_(t);return F1=e,Xb(),u_(e),e}function u_(t){t.get(C3,null)?.forEach(n=>n())}function yi(){return!1}var wi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=h_;let t=e;return t})();function h_(t){return d_(Ke(),se(),(t&16)===16)}function d_(t,e,n){if(_o(t)&&!n){let i=Sn(t.index,e);return new ui(i,i)}else if(t.type&47){let i=e[at];return new ui(i,e)}return null}var o3=class{constructor(){}supports(e){return N7(e)}create(e){return new s3(e)}},f_=(t,e)=>e,s3=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||f_}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let s=!i||n&&n.currentIndex<hh(i,r,o)?n:i,c=hh(s,r,o),a=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,s.previousIndex==null)r++;else{o||(o=[]);let l=c-r,u=a-r;if(l!=u){for(let d=0;d<l;d++){let f=d<o.length?o[d]:o[d]=0,p=f+d;u<=p&&p<l&&(o[d]=f+1)}let h=s.previousIndex;o[h]=u-l}}c!==a&&e(s,c,a)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!N7(e))throw new _(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,c),i=!0):(i&&(n=this._verifyReinsertion(n,o,s,c)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,sb(e,c=>{s=this._trackByFn(r,c),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,c,s,r),i=!0):(i&&(n=this._verifyReinsertion(n,c,s,r)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,r)):e=this._addAfter(new c3(n,i),o,r)),e}_verifyReinsertion(e,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new c4),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new c4),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},c3=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},a3=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},c4=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new a3,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function hh(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}var l3=class{constructor(){}supports(e){return e instanceof Map||W3(e)}create(){return new u3}},u3=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||W3(e)))throw new _(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(r,i);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let i=e._prev;return n._next=e,n._prev=i,e._prev=n,i&&(i._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,n);let o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}let i=new h3(e);return this._records.set(e,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(i=>n(e[i],i))}},h3=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function dh(){return new K3([new o3])}var K3=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||dh()),deps:[[e,new C4,new pi]]}}find(i){let r=this.factories.find(o=>o.supports(i));if(r!=null)return r;throw new _(901,!1)}};e.\u0275prov=M({token:e,providedIn:"root",factory:dh});let t=e;return t})();function fh(){return new Z3([new l3])}var Z3=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r){let o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||fh()),deps:[[e,new C4,new pi]]}}find(i){let r=this.factories.find(o=>o.supports(i));if(r)return r;throw new _(901,!1)}};e.\u0275prov=M({token:e,providedIn:"root",factory:fh});let t=e;return t})();function K7(t){try{let{rootComponent:e,appProviders:n,platformProviders:i}=t,r=l_(i),o=[r_(),...n||[]],c=new i4({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,a=c.get(B);return a.run(()=>{c.resolveInjectorInitializers();let l=c.get(Nt,null),u;a.runOutsideAngular(()=>{u=a.onError.subscribe({next:f=>{l.handleError(f)}})});let h=()=>c.destroy(),d=r.get(Y7);return d.add(h),c.onDestroy(()=>{u.unsubscribe(),d.delete(h)}),e_(l,a,()=>{let f=c.get(Q7);return f.runInitializers(),f.donePromise.then(()=>{let p=c.get(Y3,s4);Fb(p||s4);let y=c.get(On);return e!==void 0&&y.bootstrap(e),y})})})}catch(e){return Promise.reject(e)}}var ph=!1;function p_(){ph||(ph=!0,Xy(),Vb(),Ub(),Hb(),hb(),JM(),IM(),AC())}function m_(t,e){return Q3(t)}function Z7(){return Vn([{provide:T1,useFactory:()=>{let t=!0;return ao()&&(t=!!g(fi,{optional:!0})?.get(a5,null)),t&&yr("NgHydration"),t}},{provide:ai,useValue:()=>{ao()&&g(T1)&&(v_(),p_())},multi:!0},{provide:L5,useFactory:()=>ao()&&g(T1)},{provide:gi,useFactory:()=>{if(ao()&&g(T1)){let t=g(On),e=g(Ht);return()=>{m_(t,e).then(()=>{B.assertInAngularZone(),yM(t)})}}return()=>{}},multi:!0}])}function v_(){let t=p4(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===Ky){e=n;break}if(!e)throw new _(-507,!1)}function X7(t){let e=Dn(t);if(!e)return null;let n=new fr(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var id=null;function un(){return id}function rd(t){id??=t}var H4=class{};var ve=new C(""),t8=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:()=>g(w_),providedIn:"platform"});let t=e;return t})(),od=new C(""),w_=(()=>{let e=class e extends t8{constructor(){super(),this._doc=g(ve),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return un().getBaseHref(this._doc)}onPopState(i){let r=un().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=un().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,o){this._history.pushState(i,r,o)}replaceState(i,r,o){this._history.replaceState(i,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function n8(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function J7(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function ln(t){return t&&t[0]!=="?"?"?"+t:t}var Ci=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:()=>g(i8),providedIn:"root"});let t=e;return t})(),sd=new C(""),i8=(()=>{let e=class e extends Ci{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??g(ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return n8(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+ln(this._platformLocation.search),o=this._platformLocation.hash;return o&&i?`${r}${o}`:r}pushState(i,r,o,s){let c=this.prepareExternalUrl(o+ln(s));this._platformLocation.pushState(i,r,c)}replaceState(i,r,o,s){let c=this.prepareExternalUrl(o+ln(s));this._platformLocation.replaceState(i,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(m(t8),m(sd,8))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cd=(()=>{let e=class e extends Ci{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=n8(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,o,s){let c=this.prepareExternalUrl(o+ln(s));c.length==0&&(c=this._platformLocation.pathname),this._platformLocation.pushState(i,r,c)}replaceState(i,r,o,s){let c=this.prepareExternalUrl(o+ln(s));c.length==0&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(m(t8),m(sd,8))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),wr=(()=>{let e=class e{constructor(i){this._subject=new ze,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=b_(J7(ed(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+ln(r))}normalize(i){return e.stripTrailingSlash(M_(this._basePath,ed(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",o=null){this._locationStrategy.pushState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ln(r)),o)}replaceState(i,r="",o=null){this._locationStrategy.replaceState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ln(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(o=>o(i,r))}subscribe(i,r,o){return this._subject.subscribe({next:i,error:r,complete:o})}};e.normalizeQueryParams=ln,e.joinWithSlash=n8,e.stripTrailingSlash=J7,e.\u0275fac=function(r){return new(r||e)(m(Ci))},e.\u0275prov=M({token:e,factory:()=>C_(),providedIn:"root"});let t=e;return t})();function C_(){return new wr(m(Ci))}function M_(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function ed(t){return t.replace(/\/index.html$/,"")}function b_(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Kk(t,e,n){return P7(t,e,n)}function ad(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var X3=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Zk=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,o){this._viewContainer=i,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((o,s,c)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new X3(o.item,this._ngForOf,-1,-1),c===null?void 0:c);else if(c==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,c),td(a,o)}});for(let o=0,s=r.length;o<s;o++){let a=r.get(o).context;a.index=o,a.count=s,a.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{let s=r.get(o.currentIndex);td(s,o)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(K(So),K(B3),K(K3))},e.\u0275dir=xe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function td(t,e){t.context.$implicit=e.item}var Xk=(()=>{let e=class e{constructor(i,r,o){this._ngEl=i,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}ngDoCheck(){if(this._differ){let i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}_setStyle(i,r){let[o,s]=i.split("."),c=o.indexOf("-")===-1?void 0:Ot.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,o,s?`${r}${s}`:r,c):this._renderer.removeStyle(this._ngEl.nativeElement,o,c)}_applyChanges(i){i.forEachRemovedItem(r=>this._setStyle(r.key,null)),i.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),i.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}};e.\u0275fac=function(r){return new(r||e)(K(Rt),K(Z3),K(cn))},e.\u0275dir=xe({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})();var __=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=pe({type:e}),e.\u0275inj=me({});let t=e;return t})(),r8="browser",E_="server";function o8(t){return t===r8}function Oo(t){return t===E_}var ld=(()=>{let e=class e{};e.\u0275prov=M({token:e,providedIn:"root",factory:()=>o8(g(we))?new J3(g(ve),window):new e8});let t=e;return t})(),J3=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=D_(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function D_(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}var e8=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},k4=class{};var c8=class{},Cr=class{},Mi=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=r.toLowerCase(),s=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(c=>o.indexOf(c)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var a8=class{encodeKey(e){return ud(e)}encodeValue(e){return ud(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function z_(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,c]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],a=n.get(s)||[];a.push(c),n.set(s,a)}),n}var x_=/%(\d[a-f0-9])/gi,T_={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ud(t){return encodeURIComponent(t).replace(x_,(e,n)=>T_[n]??e)}function F4(t){return`${t}`}var Ln=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new a8,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=z_(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(F4):[F4(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(F4(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(F4(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var l8=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function S_(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function hd(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function dd(t){return typeof Blob<"u"&&t instanceof Blob}function fd(t){return typeof FormData<"u"&&t instanceof FormData}function A_(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Lo=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(S_(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Mi,this.context??=new l8,!this.params)this.params=new Ln,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let c=n.indexOf("?"),a=c===-1?"?":c<n.length-1?"&":"";this.urlWithParams=n+a+s}}}serializeBody(){return this.body===null?null:hd(this.body)||dd(this.body)||fd(this.body)||A_(this.body)||typeof this.body=="string"?this.body:this.body instanceof Ln?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||fd(this.body)?null:dd(this.body)?this.body.type||null:hd(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ln?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,s=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,c=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,a=e.headers||this.headers,l=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(a=Object.keys(e.setHeaders).reduce((h,d)=>h.set(d,e.setHeaders[d]),a)),e.setParams&&(l=Object.keys(e.setParams).reduce((h,d)=>h.set(d,e.setParams[d]),l)),new t(n,i,o,{params:l,headers:a,context:u,reportProgress:c,responseType:r,withCredentials:s})}},Cd=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Cd||{}),u8=class{constructor(e,n=Md.Ok,i="OK"){this.headers=e.headers||new Mi,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var Ro=class t extends u8{constructor(e={}){super(e),this.type=Cd.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var Md=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Md||{});function s8(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var bd=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,o={}){let s;if(i instanceof Lo)s=i;else{let l;o.headers instanceof Mi?l=o.headers:l=new Mi(o.headers);let u;o.params&&(o.params instanceof Ln?u=o.params:u=new Ln({fromObject:o.params})),s=new Lo(i,r,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let c=b(s).pipe(Yt(l=>this.handler.handle(l)));if(i instanceof Lo||o.observe==="events")return c;let a=c.pipe(he(l=>l instanceof Ro));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(D(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(D(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(D(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(D(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new Ln().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,o={}){return this.request("PATCH",i,s8(o,r))}post(i,r,o={}){return this.request("POST",i,s8(o,r))}put(i,r,o={}){return this.request("PUT",i,s8(o,r))}};e.\u0275fac=function(r){return new(r||e)(m(c8))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();var V_=new C("");var pd="b",md="h",vd="s",gd="st",yd="u",wd="rt",P4=new C(""),N_=["GET","HEAD"];function O_(t,e){let u=g(P4),{isCacheActive:n}=u,i=L0(u,["isCacheActive"]),{transferCache:r,method:o}=t;if(!n||o==="POST"&&!i.includePostRequests&&!r||o!=="POST"&&!N_.includes(o)||r===!1||i.filter?.(t)===!1)return e(t);let s=g(fi),c=R_(t),a=s.get(c,null),l=i.includeHeaders;if(typeof r=="object"&&r.includeHeaders&&(l=r.includeHeaders),a){let{[pd]:h,[wd]:d,[md]:f,[vd]:p,[gd]:y,[yd]:E}=a,I=h;switch(d){case"arraybuffer":I=new TextEncoder().encode(h).buffer;break;case"blob":I=new Blob([h]);break}let G=new Mi(f);return b(new Ro({body:I,headers:G,status:p,statusText:y,url:E}))}return e(t).pipe(ie(h=>{h instanceof Ro&&s.set(c,{[pd]:h.body,[md]:L_(h.headers,l),[vd]:h.status,[gd]:h.statusText,[yd]:h.url||"",[wd]:t.responseType})}))}function L_(t,e){if(!e)return{};let n={};for(let i of e){let r=t.getAll(i);r!==null&&(n[i]=r)}return n}function R_(t){let{params:e,method:n,responseType:i,url:r,body:o}=t,s=e.keys().sort().map(u=>`${u}=${e.getAll(u)}`).join("&"),a=[n,i,r,typeof o=="string"?o:"",s].join("|"),l=H_(a);return l}function H_(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function _d(t){return[{provide:P4,useFactory:()=>(yr("NgHttpTransferCache"),w({isCacheActive:!0},t))},{provide:V_,useValue:O_,multi:!0,deps:[fi,P4]},{provide:gi,multi:!0,useFactory:()=>{let e=g(On),n=g(P4);return()=>{Q3(e).then(()=>{n.isCacheActive=!1})}}}]}var f8=class extends H4{constructor(){super(...arguments),this.supportsDOMEvents=!0}},p8=class t extends f8{static makeCurrent(){rd(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=k_();return n==null?null:F_(n)}resetBaseElement(){Ho=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ad(document.cookie,e)}},Ho=null;function k_(){return Ho=Ho||document.querySelector("base"),Ho?Ho.getAttribute("href"):null}function F_(t){return new URL(t,document.baseURI).pathname}var P_=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),m8=new C(""),xd=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(s=>s.supports(i)),!r)throw new _(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(m(m8),m(B))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),B4=class{constructor(e){this._doc=e}},h8="ng-app-id",Td=(()=>{let e=class e{constructor(i,r,o,s={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Oo(s),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${h8}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){let o=this.styleRef;if(o.has(i)){let s=o.get(i);return s.usage+=r,s.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===i)return o.delete(r),s.removeAttribute(h8),s;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=r,this.platformIsServer&&c.setAttribute(h8,this.appId),i.appendChild(c),c}}addStyleToHost(i,r){let o=this.getStyleElement(i,r),s=this.styleRef,c=s.get(r)?.elements;c?c.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(m(ve),m(v4),m(Io,8),m(we))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),d8={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},y8=/%COMP%/g,Sd="%COMP%",B_=`_nghost-${Sd}`,j_=`_ngcontent-${Sd}`,U_=!0,$_=new C("",{providedIn:"root",factory:()=>U_});function q_(t){return j_.replace(y8,t)}function W_(t){return B_.replace(y8,t)}function Ad(t,e){return e.map(n=>n.replace(y8,t))}var Dd=(()=>{let e=class e{constructor(i,r,o,s,c,a,l,u=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=c,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Oo(a),this.defaultRenderer=new ko(i,c,l,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Vt.ShadowDom&&(r=U(w({},r),{encapsulation:Vt.Emulated}));let o=this.getOrCreateRenderer(i,r);return o instanceof j4?o.applyToHost(i):o instanceof Fo&&o.applyStyles(),o}getOrCreateRenderer(i,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let c=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Vt.Emulated:s=new j4(l,u,r,this.appId,h,c,a,d);break;case Vt.ShadowDom:return new v8(l,u,i,r,c,a,this.nonce,d);default:s=new Fo(l,u,r,h,c,a,d);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(m(xd),m(Td),m(v4),m($_),m(ve),m(we),m(B),m(Io))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),ko=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(d8[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Id(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(Id(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new _(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let o=d8[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=d8[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Ot.DashCase|Ot.Important)?e.style.setProperty(n,i,r&Ot.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Ot.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=un().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Id(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var v8=class extends ko{constructor(e,n,i,r,o,s,c,a){super(e,o,s,a),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Ad(r.id,r.styles);for(let u of l){let h=document.createElement("style");c&&h.setAttribute("nonce",c),h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Fo=class extends ko{constructor(e,n,i,r,o,s,c,a){super(e,o,s,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=a?Ad(a,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},j4=class extends Fo{constructor(e,n,i,r,o,s,c,a){let l=r+"-"+i.id;super(e,n,i,o,s,c,a,l),this.contentAttr=q_(l),this.hostAttr=W_(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},G_=(()=>{let e=class e extends B4{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(m(ve))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),zd=["alt","control","meta","shift"],Q_={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Y_={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},K_=(()=>{let e=class e extends B4{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,o){let s=e.parseEventName(r),c=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>un().onAndCancel(i,s.domEventName,c))}static parseEventName(i){let r=i.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(r.pop()),c="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),c="code."),zd.forEach(u=>{let h=r.indexOf(u);h>-1&&(r.splice(h,1),c+=u+".")}),c+=s,r.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=c,l}static matchEventFullKeyCode(i,r){let o=Q_[i.key]||i.key,s="";return r.indexOf("code.")>-1&&(o=i.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),zd.forEach(c=>{if(c!==o){let a=Y_[c];a(i)&&(s+=c+".")}}),s+=o,s===r)}static eventCallback(i,r,o){return s=>{e.matchEventFullKeyCode(s,i)&&o.runGuarded(()=>r(s))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(m(ve))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();function DF(t,e){return K7(w({rootComponent:t},Z_(e)))}function Z_(t){return{appProviders:[...nE,...t?.providers??[]],platformProviders:tE}}function X_(){p8.makeCurrent()}function J_(){return new Nt}function eE(){return Yh(document),document}var tE=[{provide:we,useValue:r8},{provide:C3,useValue:X_,multi:!0},{provide:ve,useFactory:eE,deps:[]}];var nE=[{provide:M4,useValue:"root"},{provide:Nt,useFactory:J_,deps:[]},{provide:m8,useClass:G_,multi:!0,deps:[ve,B,we]},{provide:m8,useClass:K_,multi:!0,deps:[ve]},Dd,Td,xd,{provide:tn,useExisting:Dd},{provide:k4,useClass:P_,deps:[]},[]];var Vd=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(m(ve))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Po=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=m(iE),o},providedIn:"root"});let t=e;return t})(),iE=(()=>{let e=class e extends Po{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case kt.NONE:return r;case kt.HTML:return gr(r,"HTML")?Nn(r):q5(this._doc,String(r)).toString();case kt.STYLE:return gr(r,"Style")?Nn(r):r;case kt.SCRIPT:if(gr(r,"Script"))return Nn(r);throw new _(5200,!1);case kt.URL:return gr(r,"URL")?Nn(r):x3(String(r));case kt.RESOURCE_URL:if(gr(r,"ResourceURL"))return Nn(r);throw new _(5201,!1);default:throw new _(5202,!1)}}bypassSecurityTrustHtml(i){return R5(i)}bypassSecurityTrustStyle(i){return H5(i)}bypassSecurityTrustScript(i){return k5(i)}bypassSecurityTrustUrl(i){return F5(i)}bypassSecurityTrustResourceUrl(i){return P5(i)}};e.\u0275fac=function(r){return new(r||e)(m(ve))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),g8=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t}(g8||{});function IF(...t){let e=[],n=new Set,i=n.has(g8.HttpTransferCacheOptions);for(let{\u0275providers:r,\u0275kind:o}of t)n.add(o),r.length&&e.push(r);return Vn([[],Z7(),n.has(g8.NoHttpTransferCache)||i?[]:_d({}),e])}var Bd=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(K(cn),K(Rt))},e.\u0275dir=xe({type:e});let t=e;return t})(),oE=(()=>{let e=class e extends Bd{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=zo(e)))(o||e)}})(),e.\u0275dir=xe({type:e,features:[an]});let t=e;return t})(),jd=new C("");var sE={provide:jd,useExisting:vr(()=>Ud),multi:!0};function cE(){let t=un()?un().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var aE=new C(""),Ud=(()=>{let e=class e extends Bd{constructor(i,r,o){super(i,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!cE())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(K(cn),K(Rt),K(aE,8))},e.\u0275dir=xe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&No("input",function(c){return o._handleInput(c.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(c){return o._compositionEnd(c.target.value)})},features:[N4([sE]),an]});let t=e;return t})();var $d=new C(""),qd=new C("");function Wd(t){return t!=null}function Gd(t){return vi(t)?Q(t):t}function Qd(t){let e={};return t.forEach(n=>{e=n!=null?w(w({},e),n):e}),Object.keys(e).length===0?null:e}function Yd(t,e){return e.map(n=>n(t))}function lE(t){return!t.validate}function Kd(t){return t.map(e=>lE(e)?e:n=>e.validate(n))}function uE(t){if(!t)return null;let e=t.filter(Wd);return e.length==0?null:function(n){return Qd(Yd(n,e))}}function Zd(t){return t!=null?uE(Kd(t)):null}function hE(t){if(!t)return null;let e=t.filter(Wd);return e.length==0?null:function(n){let i=Yd(n,e).map(Gd);return B2(i).pipe(D(Qd))}}function Xd(t){return t!=null?hE(Kd(t)):null}function Nd(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Jd(t){return t._rawValidators}function ef(t){return t._rawAsyncValidators}function C8(t){return t?Array.isArray(t)?t:[t]:[]}function q4(t,e){return Array.isArray(t)?t.includes(e):t===e}function Od(t,e){let n=C8(e);return C8(t).forEach(r=>{q4(n,r)||n.push(r)}),n}function Ld(t,e){return C8(e).filter(n=>!q4(t,n))}var W4=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Zd(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Xd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},br=class extends W4{get formDirective(){return null}get path(){return null}},Uo=class extends W4{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},G4=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},dE={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},UF=U(w({},dE),{"[class.ng-submitted]":"isSubmitted"}),$F=(()=>{let e=class e extends G4{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(K(Uo,2))},e.\u0275dir=xe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Vo("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[an]});let t=e;return t})(),qF=(()=>{let e=class e extends G4{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(K(br,10))},e.\u0275dir=xe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Vo("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[an]});let t=e;return t})();var Bo="VALID",U4="INVALID",Mr="PENDING",jo="DISABLED";function _8(t){return(Z4(t)?t.validators:t)||null}function fE(t){return Array.isArray(t)?Zd(t):t||null}function E8(t,e){return(Z4(e)?e.asyncValidators:t)||null}function pE(t){return Array.isArray(t)?Xd(t):t||null}function Z4(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function tf(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new _(1e3,"");if(!i[n])throw new _(1001,"")}function nf(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new _(1002,"")})}var _r=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Bo}get invalid(){return this.status===U4}get pending(){return this.status==Mr}get disabled(){return this.status===jo}get enabled(){return this.status!==jo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Od(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Od(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ld(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ld(e,this._rawAsyncValidators))}hasValidator(e){return q4(this._rawValidators,e)}hasAsyncValidator(e){return q4(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Mr,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=jo,this.errors=null,this._forEachChild(i=>{i.disable(U(w({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(U(w({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Bo,this._forEachChild(i=>{i.enable(U(w({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(U(w({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bo||this.status===Mr)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jo:Bo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Mr,this._hasOwnPendingAsyncValidator=!0;let n=Gd(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ze,this.statusChanges=new ze}_calculateStatus(){return this._allControlsDisabled()?jo:this.errors?U4:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Mr)?Mr:this._anyControlsHaveStatus(U4)?U4:Bo}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Z4(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=fE(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=pE(this._rawAsyncValidators)}},Q4=class extends _r{constructor(e,n,i){super(_8(n),E8(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){nf(this,!0,e),Object.keys(e).forEach(i=>{tf(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var M8=class extends Q4{};var D8=new C("CallSetDisabledState",{providedIn:"root",factory:()=>X4}),X4="always";function mE(t,e){return[...e.path,t]}function Rd(t,e,n=X4){I8(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),gE(t,e),wE(t,e),yE(t,e),vE(t,e)}function Hd(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),K4(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Y4(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function vE(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function I8(t,e){let n=Jd(t);e.validator!==null?t.setValidators(Nd(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=ef(t);e.asyncValidator!==null?t.setAsyncValidators(Nd(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Y4(e._rawValidators,r),Y4(e._rawAsyncValidators,r)}function K4(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=Jd(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let r=ef(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(n=!0,t.setAsyncValidators(o))}}}let i=()=>{};return Y4(e._rawValidators,i),Y4(e._rawAsyncValidators,i),n}function gE(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&rf(t,e)})}function yE(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&rf(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function rf(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function wE(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function CE(t,e){t==null,I8(t,e)}function ME(t,e){return K4(t,e)}function bE(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function _E(t){return Object.getPrototypeOf(t.constructor)===oE}function EE(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function DE(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(o=>{o.constructor===Ud?n=o:_E(o)?i=o:r=o}),r||i||n||null}function IE(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function kd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Fd(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var $4=class extends _r{constructor(e=null,n,i){super(_8(n),E8(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Z4(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Fd(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){kd(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){kd(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Fd(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var zE=t=>t instanceof $4;var GF=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=xe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var of=new C("");var xE={provide:br,useExisting:vr(()=>TE)},TE=(()=>{let e=class e extends br{constructor(i,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ze,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(K4(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return Rd(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){Hd(i.control||null,i,!1),IE(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,EE(this.form,this.directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,o=this.form.get(i.path);r!==o&&(Hd(r||null,i),zE(o)&&(Rd(o,i,this.callSetDisabledState),i.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);CE(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&ME(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){I8(this.form,this),this._oldForm&&K4(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(K($d,10),K(qd,10),K(D8,8))},e.\u0275dir=xe({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&No("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{form:[Qe.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[N4([xE]),an,on]});let t=e;return t})();var SE={provide:Uo,useExisting:vr(()=>AE)},AE=(()=>{let e=class e extends Uo{set isDisabled(i){}constructor(i,r,o,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.name=null,this.update=new ze,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=DE(this,s)}ngOnChanges(i){this._added||this._setUpControl(),bE(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return mE(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(K(br,13),K($d,10),K(qd,10),K(jd,10),K(of,8))},e.\u0275dir=xe({type:e,selectors:[["","formControlName",""]],inputs:{name:[Qe.None,"formControlName","name"],isDisabled:[Qe.None,"disabled","isDisabled"],model:[Qe.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[N4([SE]),an,on]});let t=e;return t})();var sf=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=pe({type:e}),e.\u0275inj=me({});let t=e;return t})(),b8=class extends _r{constructor(e,n,i){super(_8(n),E8(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){nf(this,!1,e),e.forEach((i,r)=>{tf(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Pd(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var QF=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new e;return i.useNonNullable=!0,i}group(i,r=null){let o=this._reduceControls(i),s={};return Pd(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Q4(o,s)}record(i,r=null){let o=this._reduceControls(i);return new M8(o,r)}control(i,r,o){let s={};return this.useNonNullable?(Pd(r)?s=r:(s.validators=r,s.asyncValidators=o),new $4(i,U(w({},s),{nonNullable:!0}))):new $4(i,r,o)}array(i,r,o){let s=i.map(c=>this._createControl(c));return new b8(s,r,o)}_reduceControls(i){let r={};return Object.keys(i).forEach(o=>{r[o]=this._createControl(i[o])}),r}_createControl(i){if(i instanceof $4)return i;if(i instanceof _r)return i;if(Array.isArray(i)){let r=i[0],o=i.length>1?i[1]:null,s=i.length>2?i[2]:null;return this.control(r,o,s)}else return this.control(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var YF=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:D8,useValue:i.callSetDisabledState??X4}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=pe({type:e}),e.\u0275inj=me({imports:[sf]});let t=e;return t})(),KF=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:of,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:D8,useValue:i.callSetDisabledState??X4}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=pe({type:e}),e.\u0275inj=me({imports:[sf]});let t=e;return t})();function ge(t,e){VE(t)&&(t="100%");var n=NE(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function $o(t){return Math.min(1,Math.max(0,t))}function VE(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function NE(t){return typeof t=="string"&&t.indexOf("%")!==-1}function J4(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function qo(t){return t<=1?"".concat(Number(t)*100,"%"):t}function Rn(t){return t.length===1?"0"+t:String(t)}function cf(t,e,n){return{r:ge(t,255)*255,g:ge(e,255)*255,b:ge(n,255)*255}}function x8(t,e,n){t=ge(t,255),e=ge(e,255),n=ge(n,255);var i=Math.max(t,e,n),r=Math.min(t,e,n),o=0,s=0,c=(i+r)/2;if(i===r)s=0,o=0;else{var a=i-r;switch(s=c>.5?a/(2-i-r):a/(i+r),i){case t:o=(e-n)/a+(e<n?6:0);break;case e:o=(n-t)/a+2;break;case n:o=(t-e)/a+4;break;default:break}o/=6}return{h:o,s,l:c}}function z8(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function af(t,e,n){var i,r,o;if(t=ge(t,360),e=ge(e,100),n=ge(n,100),e===0)r=n,o=n,i=n;else{var s=n<.5?n*(1+e):n+e-n*e,c=2*n-s;i=z8(c,s,t+1/3),r=z8(c,s,t),o=z8(c,s,t-1/3)}return{r:i*255,g:r*255,b:o*255}}function bi(t,e,n){t=ge(t,255),e=ge(e,255),n=ge(n,255);var i=Math.max(t,e,n),r=Math.min(t,e,n),o=0,s=i,c=i-r,a=i===0?0:c/i;if(i===r)o=0;else{switch(i){case t:o=(e-n)/c+(e<n?6:0);break;case e:o=(n-t)/c+2;break;case n:o=(t-e)/c+4;break;default:break}o/=6}return{h:o,s:a,v:s}}function lf(t,e,n){t=ge(t,360)*6,e=ge(e,100),n=ge(n,100);var i=Math.floor(t),r=t-i,o=n*(1-e),s=n*(1-r*e),c=n*(1-(1-r)*e),a=i%6,l=[n,s,o,o,c,n][a],u=[c,n,n,s,o,o][a],h=[o,o,c,n,n,s][a];return{r:l*255,g:u*255,b:h*255}}function _i(t,e,n,i){var r=[Rn(Math.round(t).toString(16)),Rn(Math.round(e).toString(16)),Rn(Math.round(n).toString(16))];return i&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function uf(t,e,n,i,r){var o=[Rn(Math.round(t).toString(16)),Rn(Math.round(e).toString(16)),Rn(Math.round(n).toString(16)),Rn(OE(i))];return r&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function OE(t){return Math.round(parseFloat(t)*255).toString(16)}function T8(t){return Ue(t)/255}function Ue(t){return parseInt(t,16)}function hf(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var Wo={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function $e(t){var e={r:0,g:0,b:0},n=1,i=null,r=null,o=null,s=!1,c=!1;return typeof t=="string"&&(t=HE(t)),typeof t=="object"&&(hn(t.r)&&hn(t.g)&&hn(t.b)?(e=cf(t.r,t.g,t.b),s=!0,c=String(t.r).substr(-1)==="%"?"prgb":"rgb"):hn(t.h)&&hn(t.s)&&hn(t.v)?(i=qo(t.s),r=qo(t.v),e=lf(t.h,i,r),s=!0,c="hsv"):hn(t.h)&&hn(t.s)&&hn(t.l)&&(i=qo(t.s),o=qo(t.l),e=af(t.h,i,o),s=!0,c="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=J4(n),{ok:s,format:t.format||c,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var LE="[-\\+]?\\d+%?",RE="[-\\+]?\\d*\\.\\d+%?",Hn="(?:".concat(RE,")|(?:").concat(LE,")"),S8="[\\s|\\(]+(".concat(Hn,")[,|\\s]+(").concat(Hn,")[,|\\s]+(").concat(Hn,")\\s*\\)?"),A8="[\\s|\\(]+(".concat(Hn,")[,|\\s]+(").concat(Hn,")[,|\\s]+(").concat(Hn,")[,|\\s]+(").concat(Hn,")\\s*\\)?"),_t={CSS_UNIT:new RegExp(Hn),rgb:new RegExp("rgb"+S8),rgba:new RegExp("rgba"+A8),hsl:new RegExp("hsl"+S8),hsla:new RegExp("hsla"+A8),hsv:new RegExp("hsv"+S8),hsva:new RegExp("hsva"+A8),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function HE(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(Wo[t])t=Wo[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=_t.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=_t.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=_t.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=_t.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=_t.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=_t.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=_t.hex8.exec(t),n?{r:Ue(n[1]),g:Ue(n[2]),b:Ue(n[3]),a:T8(n[4]),format:e?"name":"hex8"}:(n=_t.hex6.exec(t),n?{r:Ue(n[1]),g:Ue(n[2]),b:Ue(n[3]),format:e?"name":"hex"}:(n=_t.hex4.exec(t),n?{r:Ue(n[1]+n[1]),g:Ue(n[2]+n[2]),b:Ue(n[3]+n[3]),a:T8(n[4]+n[4]),format:e?"name":"hex8"}:(n=_t.hex3.exec(t),n?{r:Ue(n[1]+n[1]),g:Ue(n[2]+n[2]),b:Ue(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function hn(t){return!!_t.CSS_UNIT.exec(String(t))}var ec=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var i;if(e instanceof t)return e;typeof e=="number"&&(e=hf(e)),this.originalInput=e;var r=$e(e);this.originalInput=e,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=(i=n.format)!==null&&i!==void 0?i:r.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,i,r,o=e.r/255,s=e.g/255,c=e.b/255;return o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),s<=.03928?i=s/12.92:i=Math.pow((s+.055)/1.055,2.4),c<=.03928?r=c/12.92:r=Math.pow((c+.055)/1.055,2.4),.2126*n+.7152*i+.0722*r},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=J4(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=bi(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=bi(this.r,this.g,this.b),n=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(i,"%, ").concat(r,"%)"):"hsva(".concat(n,", ").concat(i,"%, ").concat(r,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=x8(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=x8(this.r,this.g,this.b),n=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(i,"%, ").concat(r,"%)"):"hsla(".concat(n,", ").concat(i,"%, ").concat(r,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),_i(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),uf(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),i=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(i,")"):"rgba(".concat(e,", ").concat(n,", ").concat(i,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(ge(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(ge(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+_i(this.r,this.g,this.b,!1),n=0,i=Object.entries(Wo);n<i.length;n++){var r=i[n],o=r[0],s=r[1];if(e===s)return o}return!1},t.prototype.toString=function(e){var n=!!e;e=e??this.format;var i=!1,r=this.a<1&&this.a>=0,o=!n&&r&&(e.startsWith("hex")||e==="name");return o?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=$o(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=$o(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=$o(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=$o(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),i=(n.h+e)%360;return n.h=i<0?360+i:i,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var i=this.toRgb(),r=new t(e).toRgb(),o=n/100,s={r:(r.r-i.r)*o+i.r,g:(r.g-i.g)*o+i.g,b:(r.b-i.b)*o+i.b,a:(r.a-i.a)*o+i.a};return new t(s)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var i=this.toHsl(),r=360/n,o=[this];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,o.push(new t(i));return o},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),i=n.h,r=n.s,o=n.v,s=[],c=1/e;e--;)s.push(new t({h:i,s:r,v:o})),o=(o+c)%1;return s},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),i=new t(e).toRgb(),r=n.a+i.a*(1-n.a);return new t({r:(n.r*n.a+i.r*i.a*(1-n.a))/r,g:(n.g*n.a+i.g*i.a*(1-n.a))/r,b:(n.b*n.a+i.b*i.a*(1-n.a))/r,a:r})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),i=n.h,r=[this],o=360/e,s=1;s<e;s++)r.push(new t({h:(i+s*o)%360,s:n.s,l:n.l}));return r},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();var tc=2,df=.16,kE=.05,FE=.05,PE=.15,gf=5,yf=4,BE=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function ff(t){var e=t.r,n=t.g,i=t.b,r=bi(e,n,i);return{h:r.h*360,s:r.s,v:r.v}}function nc(t){var e=t.r,n=t.g,i=t.b;return"#".concat(_i(e,n,i,!1))}function jE(t,e,n){var i=n/100,r={r:(e.r-t.r)*i+t.r,g:(e.g-t.g)*i+t.g,b:(e.b-t.b)*i+t.b};return r}function pf(t,e,n){var i;return Math.round(t.h)>=60&&Math.round(t.h)<=240?i=n?Math.round(t.h)-tc*e:Math.round(t.h)+tc*e:i=n?Math.round(t.h)+tc*e:Math.round(t.h)-tc*e,i<0?i+=360:i>=360&&(i-=360),i}function mf(t,e,n){if(t.h===0&&t.s===0)return t.s;var i;return n?i=t.s-df*e:e===yf?i=t.s+df:i=t.s+kE*e,i>1&&(i=1),n&&e===gf&&i>.1&&(i=.1),i<.06&&(i=.06),Number(i.toFixed(2))}function vf(t,e,n){var i;return n?i=t.v+FE*e:i=t.v-PE*e,i>1&&(i=1),Number(i.toFixed(2))}function Er(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],i=$e(t),r=gf;r>0;r-=1){var o=ff(i),s=nc($e({h:pf(o,r,!0),s:mf(o,r,!0),v:vf(o,r,!0)}));n.push(s)}n.push(nc(i));for(var c=1;c<=yf;c+=1){var a=ff(i),l=nc($e({h:pf(a,c),s:mf(a,c),v:vf(a,c)}));n.push(l)}return e.theme==="dark"?BE.map(function(u){var h=u.index,d=u.opacity,f=nc(jE($e(e.backgroundColor||"#141414"),$e(n[h]),d*100));return f}):n}var V8={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Ie={},N8={};Object.keys(V8).forEach(function(t){Ie[t]=Er(V8[t]),Ie[t].primary=Ie[t][5],N8[t]=Er(V8[t],{theme:"dark",backgroundColor:"#141414"}),N8[t].primary=N8[t][5]});var mP=Ie.red,vP=Ie.volcano,gP=Ie.gold,yP=Ie.orange,wP=Ie.yellow,CP=Ie.lime,MP=Ie.green,bP=Ie.cyan,_P=Ie.blue,EP=Ie.geekblue,DP=Ie.purple,IP=Ie.magenta,zP=Ie.grey,xP=Ie.grey;var dn="[@ant-design/icons-angular]:";function UE(t){console.error(`${dn} ${t}.`)}function $E(t){yi()&&console.warn(`${dn} ${t}.`)}function wf(t){return Er(t)[0]}function O8(t,e){switch(e){case"fill":return`${t}-fill`;case"outline":return`${t}-o`;case"twotone":return`${t}-twotone`;case void 0:return t;default:throw new Error(`${dn}Theme "${e}" is not a recognized theme!`)}}function qE(t,e,n,i){return`${O8(t,e)}-${n}-${i}`}function WE(t){return t==="o"?"outline":t}function GE(t){return typeof t=="object"&&typeof t.name=="string"&&(typeof t.theme=="string"||t.theme===void 0)&&typeof t.icon=="string"}function QE(t){let e=t.split("-"),n=WE(e.splice(e.length-1,1)[0]);return{name:e.join("-"),theme:n,icon:""}}function YE(t){return t.cloneNode(!0)}function KE(t){return t.replace(/['"]#333['"]/g,'"primaryColor"').replace(/['"]#E6E6E6['"]/g,'"secondaryColor"').replace(/['"]#D9D9D9['"]/g,'"secondaryColor"').replace(/['"]#D8D8D8['"]/g,'"secondaryColor"')}function L8(t){let e=t.split(":");switch(e.length){case 1:return[t,""];case 2:return[e[1],e[0]];default:throw new Error(`${dn}The icon type ${t} is not valid!`)}}function ZE(t){return L8(t)[1]!==""}function XE(){return new Error(`${dn}Type should have a namespace. Try "namespace:${name}".`)}function Cf(t){return new Error(`${dn}the icon ${t} does not exist or is not registered.`)}function JE(){return UE('you need to import "HttpClientModule" to use dynamic importing.'),null}function eD(t){return new Error(`${dn}The url "${t}" is unsafe.`)}function tD(){return new Error(`${dn}<svg> tag not found.`)}function nD(){return new Error(`${dn}Importing timeout error.`)}var iD="__ant_icon_load",rD=new C("ant_icons"),Mf=(()=>{let e=class e{set twoToneColor({primaryColor:i,secondaryColor:r}){this._twoToneColorPalette.primaryColor=i,this._twoToneColorPalette.secondaryColor=r||wf(i)}get twoToneColor(){return w({},this._twoToneColorPalette)}get _disableDynamicLoading(){return!1}constructor(i,r,o,s,c){this._rendererFactory=i,this._handler=r,this._document=o,this.sanitizer=s,this._antIcons=c,this.defaultTheme="outline",this._svgDefinitions=new Map,this._svgRenderedDefinitions=new Map,this._inProgressFetches=new Map,this._assetsUrlRoot="",this._twoToneColorPalette={primaryColor:"#333333",secondaryColor:"#E6E6E6"},this._enableJsonpLoading=!1,this._jsonpIconLoad$=new te,this._renderer=this._rendererFactory.createRenderer(null,null),this._handler&&(this._http=new bd(this._handler)),this._antIcons&&this.addIcon(...this._antIcons)}useJsonpLoading(){this._enableJsonpLoading?$E("You are already using jsonp loading."):(this._enableJsonpLoading=!0,window[iD]=i=>{this._jsonpIconLoad$.next(i)})}changeAssetsSource(i){this._assetsUrlRoot=i.endsWith("/")?i:i+"/"}addIcon(...i){i.forEach(r=>{this._svgDefinitions.set(O8(r.name,r.theme),r)})}addIconLiteral(i,r){let[o,s]=L8(i);if(!s)throw XE();this.addIcon({name:i,icon:r})}clear(){this._svgDefinitions.clear(),this._svgRenderedDefinitions.clear()}getRenderedContent(i,r){let o=GE(i)?i:this._svgDefinitions.get(i)||null;if(!o&&this._disableDynamicLoading)throw Cf(i);return(o?b(o):this._loadIconDynamically(i)).pipe(D(c=>{if(!c)throw Cf(i);return this._loadSVGFromCacheOrCreateNew(c,r)}))}getCachedIcons(){return this._svgDefinitions}_loadIconDynamically(i){if(!this._http&&!this._enableJsonpLoading)return b(JE());let r=this._inProgressFetches.get(i);if(!r){let[o,s]=L8(i),c=s?{name:i,icon:""}:QE(o),a=this._enableJsonpLoading?".js":".svg",l=(s?`${this._assetsUrlRoot}assets/${s}/${o}`:`${this._assetsUrlRoot}assets/${c.theme}/${c.name}`)+a,u=this.sanitizer.sanitize(kt.URL,l);if(!u)throw eD(l);r=(this._enableJsonpLoading?this._loadIconDynamicallyWithJsonp(c,u):this._http.get(u,{responseType:"text"}).pipe(D(d=>U(w({},c),{icon:d})))).pipe(ie(d=>this.addIcon(d)),bn(()=>this._inProgressFetches.delete(i)),Tt(()=>b(null)),ii()),this._inProgressFetches.set(i,r)}return r}_loadIconDynamicallyWithJsonp(i,r){return new L(o=>{let s=this._document.createElement("script"),c=setTimeout(()=>{a(),o.error(nD())},6e3);s.src=r;function a(){s.parentNode.removeChild(s),clearTimeout(c)}this._document.body.appendChild(s),this._jsonpIconLoad$.pipe(he(l=>l.name===i.name&&l.theme===i.theme),yt(1)).subscribe(l=>{o.next(l),a()})})}_loadSVGFromCacheOrCreateNew(i,r){let o,s=r||this._twoToneColorPalette.primaryColor,c=wf(s)||this._twoToneColorPalette.secondaryColor,a=i.theme==="twotone"?qE(i.name,i.theme,s,c):i.theme===void 0?i.name:O8(i.name,i.theme),l=this._svgRenderedDefinitions.get(a);return l?o=l.icon:(o=this._setSVGAttribute(this._colorizeSVGIcon(this._createSVGElementFromString(ZE(i.name)?i.icon:KE(i.icon)),i.theme==="twotone",s,c)),this._svgRenderedDefinitions.set(a,U(w({},i),{icon:o}))),YE(o)}_createSVGElementFromString(i){let r=this._document.createElement("div");r.innerHTML=i;let o=r.querySelector("svg");if(!o)throw tD;return o}_setSVGAttribute(i){return this._renderer.setAttribute(i,"width","1em"),this._renderer.setAttribute(i,"height","1em"),i}_colorizeSVGIcon(i,r,o,s){if(r){let c=i.childNodes,a=c.length;for(let l=0;l<a;l++){let u=c[l];u.getAttribute("fill")==="secondaryColor"?this._renderer.setAttribute(u,"fill",s):this._renderer.setAttribute(u,"fill",o)}}return this._renderer.setAttribute(i,"fill","currentColor"),i}};e.\u0275fac=function(r){return new(r||e)(m(tn),m(Cr,8),m(ve,8),m(Po),m(rD,8))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();var bf={isTestMode:!1};var _f={},oD="[NG-ZORRO]:";function sD(...t){let e=t.reduce((n,i)=>n+i.toString(),"");return _f[e]?!1:(_f[e]=!0,!0)}function cD(t,...e){(bf.isTestMode||yi()&&sD(...e))&&t(...e)}var ic=(...t)=>cD((...e)=>console.warn(oD,...e),...t);var aD=typeof window<"u",QP=aD&&window.mozInnerScreenX!=null;function H8(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var lD="rc-util-key";function Df({mark:t}={}){return t?t.startsWith("data-")?t:`data-${t}`:lD}function k8(t){return t.attachTo?t.attachTo:document.querySelector("head")||document.body}function Ef(t,e={}){if(!H8())return null;let n=document.createElement("style");e.cspNonce&&(n.nonce=e.cspNonce),n.innerHTML=t;let i=k8(e),{firstChild:r}=i;return e.prepend&&i.prepend?i.prepend(n):e.prepend&&r?i.insertBefore(n,r):i.appendChild(n),n}var R8=new Map;function uD(t,e={}){let n=k8(e);return Array.from(R8.get(n)?.children||[]).find(i=>i.tagName==="STYLE"&&i.getAttribute(Df(e))===t)}function If(t,e,n={}){let i=k8(n);if(!R8.has(i)){let s=Ef("",n),{parentNode:c}=s;R8.set(i,c),c.removeChild(s)}let r=uD(e,n);if(r)return n.cspNonce&&r.nonce!==n.cspNonce&&(r.nonce=n.cspNonce),r.innerHTML!==t&&(r.innerHTML=t),r;let o=Ef(t,n);return o?.setAttribute(Df(n),e),o}var zf={name:"bars",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'};var xf={name:"calendar",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z" /></svg>'},Tf={name:"caret-down",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'};var Sf={name:"caret-up",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'};var Af={name:"check-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z" /></svg>'},Vf={name:"check-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z" /><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'};var Nf={name:"check",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" /></svg>'};var Of={name:"caret-down",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'};var Lf={name:"close-circle",theme:"fill",icon:'<svg fill-rule="evenodd" viewBox="64 64 896 896" focusable="false"><path d="M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z" /></svg>'};var Rf={name:"close-circle",theme:"outline",icon:'<svg fill-rule="evenodd" viewBox="64 64 896 896" focusable="false"><path d="M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z" /></svg>'},Hf={name:"clock-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></svg>'};var kf={name:"close",theme:"outline",icon:'<svg fill-rule="evenodd" viewBox="64 64 896 896" focusable="false"><path d="M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z" /></svg>'};var Ff={name:"caret-up",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'};var Pf={name:"copy",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" /></svg>'};var Bf={name:"delete",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z" /></svg>'};var KP={name:"dashboard",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M924.8 385.6a446.7 446.7 0 00-96-142.4 446.7 446.7 0 00-142.4-96C631.1 123.8 572.5 112 512 112s-119.1 11.8-174.4 35.2a446.7 446.7 0 00-142.4 96 446.7 446.7 0 00-96 142.4C75.8 440.9 64 499.5 64 560c0 132.7 58.3 257.7 159.9 343.1l1.7 1.4c5.8 4.8 13.1 7.5 20.6 7.5h531.7c7.5 0 14.8-2.7 20.6-7.5l1.7-1.4C901.7 817.7 960 692.7 960 560c0-60.5-11.9-119.1-35.2-174.4zM761.4 836H262.6A371.12 371.12 0 01140 560c0-99.4 38.7-192.8 109-263 70.3-70.3 163.7-109 263-109 99.4 0 192.8 38.7 263 109 70.3 70.3 109 163.7 109 263 0 105.6-44.5 205.5-122.6 276zM623.5 421.5a8.03 8.03 0 00-11.3 0L527.7 506c-18.7-5-39.4-.2-54.1 14.5a55.95 55.95 0 000 79.2 55.95 55.95 0 0079.2 0 55.87 55.87 0 0014.5-54.1l84.5-84.5c3.1-3.1 3.1-8.2 0-11.3l-28.3-28.3zM490 320h44c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8h-44c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8zm260 218v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8h-80c-4.4 0-8 3.6-8 8zm12.7-197.2l-31.1-31.1a8.03 8.03 0 00-11.3 0l-56.6 56.6a8.03 8.03 0 000 11.3l31.1 31.1c3.1 3.1 8.2 3.1 11.3 0l56.6-56.6c3.1-3.1 3.1-8.2 0-11.3zm-458.6-31.1a8.03 8.03 0 00-11.3 0l-31.1 31.1a8.03 8.03 0 000 11.3l56.6 56.6c3.1 3.1 8.2 3.1 11.3 0l31.1-31.1c3.1-3.1 3.1-8.2 0-11.3l-56.6-56.6zM262 530h-80c-4.4 0-8 3.6-8 8v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8z" /></svg>'};var jf={name:"double-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" /></svg>'};var Uf={name:"double-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" /></svg>'};var $f={name:"down",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></svg>'};var qf={name:"edit",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" /></svg>'},Wf={name:"ellipsis",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'};var Gf={name:"exclamation-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" /></svg>'};var Qf={name:"exclamation-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'};var Yf={name:"file",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z" /></svg>'};var Kf={name:"filter",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z" /></svg>'};var ZP={name:"form",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z" /><path d="M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z" /></svg>'};var Zf={name:"info-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></svg>'};var Xf={name:"info-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'};var Jf={name:"file",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z" /></svg>'};var e9={name:"left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></svg>'};var t9={name:"loading",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" /></svg>'};var n9={name:"eye",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" /></svg>'};var XP={name:"menu-unfold",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z" /></svg>'};var JP={name:"menu-fold",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 000 13.8z" /></svg>'};var i9={name:"paper-clip",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" /></svg>'};var r9={name:"question-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z" /></svg>'};var o9={name:"right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z" /></svg>'};var s9={name:"rotate-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z" /><path d="M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z" /></svg>'};var c9={name:"rotate-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z" /><path d="M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z" /></svg>'};var a9={name:"search",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z" /></svg>'};var F8={name:"star",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z" /></svg>'};var l9={name:"swap-right",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z" /></svg>'};var u9={name:"upload",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" /></svg>'},h9={name:"up",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></svg>'};var d9={name:"vertical-align-top",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z" /></svg>'};var f9={name:"zoom-in",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'};var p9={name:"zoom-out",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'};var rc=2,m9=.16,hD=.05,dD=.05,fD=.15,C9=5,M9=4,pD=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function v9({r:t,g:e,b:n}){let i=bi(t,e,n);return{h:i.h*360,s:i.s,v:i.v}}function oc({r:t,g:e,b:n}){return`#${_i(t,e,n,!1)}`}function mD(t,e,n){let i=n/100;return{r:(e.r-t.r)*i+t.r,g:(e.g-t.g)*i+t.g,b:(e.b-t.b)*i+t.b}}function g9(t,e,n){let i;return Math.round(t.h)>=60&&Math.round(t.h)<=240?i=n?Math.round(t.h)-rc*e:Math.round(t.h)+rc*e:i=n?Math.round(t.h)+rc*e:Math.round(t.h)-rc*e,i<0?i+=360:i>=360&&(i-=360),i}function y9(t,e,n){if(t.h===0&&t.s===0)return t.s;let i;return n?i=t.s-m9*e:e===M9?i=t.s+m9:i=t.s+hD*e,i>1&&(i=1),n&&e===C9&&i>.1&&(i=.1),i<.06&&(i=.06),Number(i.toFixed(2))}function w9(t,e,n){let i;return n?i=t.v+dD*e:i=t.v-fD*e,i>1&&(i=1),Number(i.toFixed(2))}function P8(t,e={}){let n=[],i=$e(t);for(let r=C9;r>0;r-=1){let o=v9(i),s=oc($e({h:g9(o,r,!0),s:y9(o,r,!0),v:w9(o,r,!0)}));n.push(s)}n.push(oc(i));for(let r=1;r<=M9;r+=1){let o=v9(i),s=oc($e({h:g9(o,r),s:y9(o,r),v:w9(o,r)}));n.push(s)}return e.theme==="dark"?pD.map(({index:r,opacity:o})=>oc(mD($e(e.backgroundColor||"#141414"),$e(n[r]),o*100))):n}var vD=new C("nz-config");var gD=`-ant-${Date.now()}-${Math.random()}`;function yD(t,e){let n={},i=(s,c)=>{let a=s.clone();return a=c?.(a)||a,a.toRgbString()},r=(s,c)=>{let a=new ec(s),l=P8(a.toRgbString());n[`${c}-color`]=i(a),n[`${c}-color-disabled`]=l[1],n[`${c}-color-hover`]=l[4],n[`${c}-color-active`]=l[7],n[`${c}-color-outline`]=a.clone().setAlpha(.2).toRgbString(),n[`${c}-color-deprecated-bg`]=l[1],n[`${c}-color-deprecated-border`]=l[3]};if(e.primaryColor){r(e.primaryColor,"primary");let s=new ec(e.primaryColor),c=P8(s.toRgbString());c.forEach((l,u)=>{n[`primary-${u+1}`]=l}),n["primary-color-deprecated-l-35"]=i(s,l=>l.lighten(35)),n["primary-color-deprecated-l-20"]=i(s,l=>l.lighten(20)),n["primary-color-deprecated-t-20"]=i(s,l=>l.tint(20)),n["primary-color-deprecated-t-50"]=i(s,l=>l.tint(50)),n["primary-color-deprecated-f-12"]=i(s,l=>l.setAlpha(l.getAlpha()*.12));let a=new ec(c[0]);n["primary-color-active-deprecated-f-30"]=i(a,l=>l.setAlpha(l.getAlpha()*.3)),n["primary-color-active-deprecated-d-02"]=i(a,l=>l.darken(2))}return e.successColor&&r(e.successColor,"success"),e.warningColor&&r(e.warningColor,"warning"),e.errorColor&&r(e.errorColor,"error"),e.infoColor&&r(e.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(s=>`--${t}-${s}: ${n[s]};`).join(`
`)}
  }
  `.trim()}function b9(t,e,n){let i=yD(t,e);H8()?If(i,`${gD}-dynamic-theme`,{cspNonce:n}):ic("NzConfigService: SSR do not support dynamic theme with css variables.")}var _9="ant",E9=(()=>{let e=class e{constructor(i,r){this.configUpdated$=new te,this.config=i||{},this.cspNonce=r,this.config.theme&&b9(this.getConfig().prefixCls?.prefixCls||_9,this.config.theme,r)}getConfig(){return this.config}getConfigForComponent(i){return this.config[i]}getConfigChangeEventForComponent(i){return this.configUpdated$.pipe(he(r=>r===i),co(void 0))}set(i,r){this.config[i]=w(w({},this.config[i]),r),i==="theme"&&this.config.theme&&b9(this.getConfig().prefixCls?.prefixCls||_9,this.config.theme,this.cspNonce),this.configUpdated$.next(i)}};e.\u0275fac=function(r){return new(r||e)(m(vD,8),m(Io,8))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var B8;try{B8=typeof Intl<"u"&&Intl.v8BreakIterator}catch{B8=!1}var D9=(()=>{let e=class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?o8(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||B8)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(m(we))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var MD=[zf,xf,Sf,Ff,Tf,Of,Af,Vf,Nf,Hf,Rf,Lf,kf,Pf,Bf,jf,Uf,$f,qf,Wf,Qf,Gf,n9,Yf,Jf,Kf,Xf,Zf,e9,t9,i9,r9,o9,c9,s9,F8,a9,F8,u9,d9,h9,l9,f9,p9],z9=new C("nz_icons"),NB=new C("nz_icon_default_twotone_color"),I9="#1890ff",bD=(()=>{let e=class e extends Mf{get _disableDynamicLoading(){return!this.platform.isBrowser}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}normalizeSvgElement(i){i.getAttribute("viewBox")||this._renderer.setAttribute(i,"viewBox","0 0 1024 1024"),(!i.getAttribute("width")||!i.getAttribute("height"))&&(this._renderer.setAttribute(i,"width","1em"),this._renderer.setAttribute(i,"height","1em")),i.getAttribute("fill")||this._renderer.setAttribute(i,"fill","currentColor")}fetchFromIconfont(i){let{scriptUrl:r}=i;if(this._document&&!this.iconfontCache.has(r)){let o=this._renderer.createElement("script");this._renderer.setAttribute(o,"src",r),this._renderer.setAttribute(o,"data-namespace",r.replace(/^(https?|http):/g,"")),this._renderer.appendChild(this._document.body,o),this.iconfontCache.add(r)}}createIconfontIcon(i){return this._createSVGElementFromString(`<svg><use xlink:href="${i}"></svg>`)}constructor(i,r,o,s,c,a,l){super(i,c,a,r,[...MD,...l||[]]),this.nzConfigService=o,this.platform=s,this.configUpdated$=new te,this.iconfontCache=new Set,this.subscription=null,this.onConfigChange(),this.configDefaultTwotoneColor(),this.configDefaultTheme()}onConfigChange(){this.subscription=this.nzConfigService.getConfigChangeEventForComponent("icon").subscribe(()=>{this.configDefaultTwotoneColor(),this.configDefaultTheme(),this.configUpdated$.next()})}configDefaultTheme(){let i=this.getConfig();this.defaultTheme=i.nzTheme||"outline"}configDefaultTwotoneColor(){let r=this.getConfig().nzTwotoneColor||I9,o=I9;r&&(r.startsWith("#")?o=r:ic("Twotone color must be a hex color!")),this.twoToneColor={primaryColor:o}}getConfig(){return this.nzConfigService.getConfigForComponent("icon")||{}}};e.\u0275fac=function(r){return new(r||e)(m(tn),m(Po),m(E9),m(D9),m(Cr,8),m(ve,8),m(z9,8))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),x9=new C("nz_icons_patch"),_D=(()=>{let e=class e{constructor(i,r){this.extraIcons=i,this.rootIconService=r,this.patched=!1}doPatch(){this.patched||(this.extraIcons.forEach(i=>this.rootIconService.addIcon(i)),this.patched=!0)}};e.\u0275fac=function(r){return new(r||e)(m(x9,2),m(bD))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();var OB=(()=>{let e=class e{static forRoot(i){return{ngModule:e,providers:[{provide:z9,useValue:i}]}}static forChild(i){return{ngModule:e,providers:[_D,{provide:x9,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=pe({type:e}),e.\u0275inj=me({});let t=e;return t})();var N="primary",as=Symbol("RouteTitle"),W8=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Tr(t){return new W8(t)}function ED(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],c=t[o];if(s.startsWith(":"))r[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function DD(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ft(t[n],e[n]))return!1;return!0}function Ft(t,e){let n=t?G8(t):void 0,i=e?G8(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!H9(t[r],e[r]))return!1;return!0}function G8(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function H9(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}else return t===e}function k9(t){return t.length>0?t[t.length-1]:null}function jn(t){return P2(t)?t:vi(t)?Q(Promise.resolve(t)):b(t)}var ID={exact:P9,subset:B9},F9={exact:zD,subset:xD,ignored:()=>!0};function T9(t,e,n){return ID[n.paths](t.root,e.root,n.matrixParams)&&F9[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function zD(t,e){return Ft(t,e)}function P9(t,e,n){if(!Di(t.segments,e.segments)||!ac(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!P9(t.children[i],e.children[i],n))return!1;return!0}function xD(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>H9(t[n],e[n]))}function B9(t,e,n){return j9(t,e,e.segments,n)}function j9(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!Di(r,n)||e.hasChildren()||!ac(r,n,i))}else if(t.segments.length===n.length){if(!Di(t.segments,n)||!ac(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!B9(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Di(t.segments,r)||!ac(t.segments,r,i)||!t.children[N]?!1:j9(t.children[N],e,o,i)}}function ac(t,e,n){return e.every((i,r)=>F9[n](t[r].parameters,i.parameters))}var kn=class{constructor(e=new Y([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Tr(this.queryParams),this._queryParamMap}toString(){return AD.serialize(this)}},Y=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lc(this)}},Ei=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Tr(this.parameters),this._parameterMap}toString(){return $9(this)}};function TD(t,e){return Di(t,e)&&t.every((n,i)=>Ft(n.parameters,e[i].parameters))}function Di(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function SD(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===N&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==N&&(n=n.concat(e(r,i)))}),n}var ls=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:()=>new Jo,providedIn:"root"});let t=e;return t})(),Jo=class{parse(e){let n=new Y8(e);return new kn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Go(e.root,!0)}`,i=OD(e.queryParams),r=typeof e.fragment=="string"?`#${VD(e.fragment)}`:"";return`${n}${i}${r}`}},AD=new Jo;function lc(t){return t.segments.map(e=>$9(e)).join("/")}function Go(t,e){if(!t.hasChildren())return lc(t);if(e){let n=t.children[N]?Go(t.children[N],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==N&&i.push(`${r}:${Go(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=SD(t,(i,r)=>r===N?[Go(t.children[N],!1)]:[`${r}:${Go(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[N]!=null?`${lc(t)}/${n[0]}`:`${lc(t)}/(${n.join("//")})`}}function U9(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sc(t){return U9(t).replace(/%3B/gi,";")}function VD(t){return encodeURI(t)}function Q8(t){return U9(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function uc(t){return decodeURIComponent(t)}function S9(t){return uc(t.replace(/\+/g,"%20"))}function $9(t){return`${Q8(t.path)}${ND(t.parameters)}`}function ND(t){return Object.entries(t).map(([e,n])=>`;${Q8(e)}=${Q8(n)}`).join("")}function OD(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${sc(n)}=${sc(r)}`).join("&"):`${sc(n)}=${sc(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var LD=/^[^\/()?;#]+/;function j8(t){let e=t.match(LD);return e?e[0]:""}var RD=/^[^\/()?;=#]+/;function HD(t){let e=t.match(RD);return e?e[0]:""}var kD=/^[^=?&#]+/;function FD(t){let e=t.match(kD);return e?e[0]:""}var PD=/^[^&#]+/;function BD(t){let e=t.match(PD);return e?e[0]:""}var Y8=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Y([],{}):new Y([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[N]=new Y(e,n)),i}parseSegment(){let e=j8(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new _(4009,!1);return this.capture(e),new Ei(uc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=HD(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=j8(this.remaining);r&&(i=r,this.capture(i))}e[uc(n)]=uc(i)}parseQueryParam(e){let n=FD(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=BD(this.remaining);s&&(i=s,this.capture(i))}let r=S9(n),o=S9(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=j8(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new _(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=N);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[N]:new Y([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new _(4011,!1)}};function q9(t){return t.segments.length>0?new Y([],{[N]:t}):t}function W9(t){let e={};for(let[i,r]of Object.entries(t.children)){let o=W9(r);if(i===N&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let n=new Y(t.segments,e);return jD(n)}function jD(t){if(t.numberOfChildren===1&&t.children[N]){let e=t.children[N];return new Y(t.segments.concat(e.segments),e.children)}return t}function Sr(t){return t instanceof kn}function UD(t,e,n=null,i=null){let r=G9(t);return Q9(r,e,n,i)}function G9(t){let e;function n(o){let s={};for(let a of o.children){let l=n(a);s[a.outlet]=l}let c=new Y(o.url,s);return o===t&&(e=c),c}let i=n(t.root),r=q9(i);return e??r}function Q9(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return U8(r,r,r,n,i);let o=$D(e);if(o.toRoot())return U8(r,r,new Y([],{}),n,i);let s=qD(o,r,t),c=s.processChildren?Ko(s.segmentGroup,s.index,o.commands):K9(s.segmentGroup,s.index,o.commands);return U8(r,s.segmentGroup,c,n,i)}function hc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function es(t){return typeof t=="object"&&t!=null&&t.outlets}function U8(t,e,n,i,r){let o={};i&&Object.entries(i).forEach(([a,l])=>{o[a]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=Y9(t,e,n);let c=q9(W9(s));return new kn(c,o,r)}function Y9(t,e,n){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===e?i[r]=n:i[r]=Y9(o,e,n)}),new Y(t.segments,i)}var dc=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&hc(i[0]))throw new _(4003,!1);let r=i.find(es);if(r&&r!==k9(i))throw new _(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function $D(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new dc(!0,0,t);let e=0,n=!1,i=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([a,l])=>{c[a]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:c}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((c,a)=>{a==0&&c==="."||(a==0&&c===""?n=!0:c===".."?e++:c!=""&&r.push(c))}),r):[...r,o]},[]);return new dc(n,e,i)}var zr=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function qD(t,e,n){if(t.isAbsolute)return new zr(e,!0,0);if(!n)return new zr(e,!1,NaN);if(n.parent===null)return new zr(n,!0,0);let i=hc(t.commands[0])?0:1,r=n.segments.length-1+i;return WD(n,r,t.numberOfDoubleDots)}function WD(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new _(4005,!1);r=i.segments.length}return new zr(i,!1,r-o)}function GD(t){return es(t[0])?t[0].outlets:{[N]:t}}function K9(t,e,n){if(t??=new Y([],{}),t.segments.length===0&&t.hasChildren())return Ko(t,e,n);let i=QD(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new Y(t.segments.slice(0,i.pathIndex),{});return o.children[N]=new Y(t.segments.slice(i.pathIndex),t.children),Ko(o,0,r)}else return i.match&&r.length===0?new Y(t.segments,{}):i.match&&!t.hasChildren()?K8(t,e,n):i.match?Ko(t,0,r):K8(t,e,n)}function Ko(t,e,n){if(n.length===0)return new Y(t.segments,{});{let i=GD(n),r={};if(Object.keys(i).some(o=>o!==N)&&t.children[N]&&t.numberOfChildren===1&&t.children[N].segments.length===0){let o=Ko(t.children[N],e,n);return new Y(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=K9(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Y(t.segments,r)}}function QD(t,e,n){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;let s=t.segments[r],c=n[i];if(es(c))break;let a=`${c}`,l=i<n.length-1?n[i+1]:null;if(r>0&&a===void 0)break;if(a&&l&&typeof l=="object"&&l.outlets===void 0){if(!V9(a,l,s))return o;i+=2}else{if(!V9(a,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function K8(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let o=n[r];if(es(o)){let a=YD(o.outlets);return new Y(i,a)}if(r===0&&hc(n[0])){let a=t.segments[e];i.push(new Ei(a.path,A9(n[0]))),r++;continue}let s=es(o)?o.outlets[N]:`${o}`,c=r<n.length-1?n[r+1]:null;s&&c&&hc(c)?(i.push(new Ei(s,A9(c))),r+=2):(i.push(new Ei(s,{})),r++)}return new Y(i,{})}function YD(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=K8(new Y([],{}),0,i))}),e}function A9(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function V9(t,e,n){return t==n.path&&Ft(e,n.parameters)}var Zo="imperative",Ce=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ce||{}),dt=class{constructor(e,n){this.id=e,this.url=n}},Ar=class extends dt{constructor(e,n,i="imperative",r=null){super(e,n),this.type=Ce.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},fn=class extends dt{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=Ce.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ht=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ht||{}),fc=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(fc||{}),Fn=class extends dt{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Ce.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Pn=class extends dt{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Ce.NavigationSkipped}},ts=class extends dt{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=Ce.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},pc=class extends dt{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Ce.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Z8=class extends dt{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Ce.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},X8=class extends dt{constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Ce.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},J8=class extends dt{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Ce.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},e6=class extends dt{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Ce.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},t6=class{constructor(e){this.route=e,this.type=Ce.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},n6=class{constructor(e){this.route=e,this.type=Ce.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},i6=class{constructor(e){this.snapshot=e,this.type=Ce.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},r6=class{constructor(e){this.snapshot=e,this.type=Ce.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},o6=class{constructor(e){this.snapshot=e,this.type=Ce.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},s6=class{constructor(e){this.snapshot=e,this.type=Ce.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mc=class{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=Ce.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ns=class{},is=class{constructor(e){this.url=e}};var c6=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new us,this.attachRef=null}},us=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new c6,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=a6(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=a6(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=l6(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return l6(e,this._root).map(n=>n.value)}};function a6(t,e){if(t===e.value)return e;for(let n of e.children){let i=a6(t,n);if(i)return i}return null}function l6(t,e){if(t===e.value)return[e];for(let n of e.children){let i=l6(t,n);if(i.length)return i.unshift(e),i}return[]}var Xe=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ir(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var gc=class extends vc{constructor(e,n){super(e),this.snapshot=n,w6(this,e)}toString(){return this.snapshot.toString()}};function Z9(t){let e=KD(t),n=new Ee([new Ei("",{})]),i=new Ee({}),r=new Ee({}),o=new Ee({}),s=new Ee(""),c=new Ii(n,i,o,s,r,N,t,e.root);return c.snapshot=e.root,new gc(new Xe(c,[]),e)}function KD(t){let e={},n={},i={},r="",o=new rs([],e,i,r,n,N,t,null,{});return new yc("",new Xe(o,[]))}var Ii=class{constructor(e,n,i,r,o,s,c,a){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=a,this.title=this.dataSubject?.pipe(D(l=>l[as]))??b(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(D(e=>Tr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(D(e=>Tr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function y6(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:w(w({},e.params),t.params),data:w(w({},e.data),t.data),resolve:w(w(w(w({},t.data),e.data),r?.data),t._resolvedData)}:i={params:w({},t.params),data:w({},t.data),resolve:w(w({},t.data),t._resolvedData??{})},r&&J9(r)&&(i.resolve[as]=r.title),i}var rs=class{get title(){return this.data?.[as]}constructor(e,n,i,r,o,s,c,a,l){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=c,this.routeConfig=a,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Tr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Tr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},yc=class extends vc{constructor(e,n){super(n),this.url=e,w6(this,n)}toString(){return X9(this._root)}};function w6(t,e){e.value._routerState=t,e.children.forEach(n=>w6(t,n))}function X9(t){let e=t.children.length>0?` { ${t.children.map(X9).join(", ")} } `:"";return`${t.value}${e}`}function $8(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ft(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ft(e.params,n.params)||t.paramsSubject.next(n.params),DD(e.url,n.url)||t.urlSubject.next(n.url),Ft(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function u6(t,e){let n=Ft(t.params,e.params)&&TD(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||u6(t.parent,e.parent))}function J9(t){return typeof t.title=="string"||t.title===null}var ZD=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=N,this.activateEvents=new ze,this.deactivateEvents=new ze,this.attachEvents=new ze,this.detachEvents=new ze,this.parentContexts=g(us),this.location=g(So),this.changeDetector=g(wi),this.environmentInjector=g(je),this.inputBinder=g(bc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new _(4013,!1);this._activatedRoute=i;let o=this.location,c=i.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new h6(i,a,o.injector);this.activated=o.createComponent(c,{index:o.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=xe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[on]});let t=e;return t})(),h6=class{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===Ii?this.route:e===us?this.childContexts:this.parent.get(e,n)}},bc=new C(""),N9=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,o=so([r.queryParams,r.params,r.data]).pipe(ne(([s,c,a],l)=>(a=w(w(w({},s),c),a),l===0?b(a):Promise.resolve(a)))).subscribe(s=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let c=X7(r.component);if(!c){this.unsubscribeFromRouteData(i);return}for(let{templateName:a}of c.inputs)i.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(i,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();function XD(t,e,n){let i=os(t,e._root,n?n._root:void 0);return new gc(i,e)}function os(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=JD(t,e,n);return new Xe(i,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>os(t,c)),s}}let i=eI(e.value),r=e.children.map(o=>os(t,o));return new Xe(i,r)}}function JD(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return os(t,i,r);return os(t,i)})}function eI(t){return new Ii(new Ee(t.url),new Ee(t.params),new Ee(t.queryParams),new Ee(t.fragment),new Ee(t.data),t.outlet,t.component,t)}var ep="ngNavigationCancelingError";function tp(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=Sr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=np(!1,ht.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function np(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[ep]=!0,n.cancellationCode=e,n}function tI(t){return ip(t)&&Sr(t.url)}function ip(t){return!!t&&t[ep]}var nI=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Ch({type:e,selectors:[["ng-component"]],standalone:!0,features:[$7],decls:1,vars:0,template:function(r,o){r&1&&G3(0,"router-outlet")},dependencies:[ZD],encapsulation:2});let t=e;return t})();function iI(t,e){return t.providers&&!t._injector&&(t._injector=A4(t.providers,e,`Route: ${t.path}`)),t._injector??e}function C6(t){let e=t.children&&t.children.map(C6),n=e?U(w({},t),{children:e}):w({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==N&&(n.component=nI),n}function Pt(t){return t.outlet||N}function rI(t,e){let n=t.filter(i=>Pt(i)===e);return n.push(...t.filter(i=>Pt(i)!==e)),n}function hs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var oI=(t,e,n,i)=>D(r=>(new d6(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),d6=class{constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),$8(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=Ir(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=Ir(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=Ir(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=Ir(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new s6(o.value.snapshot))}),e.children.length&&this.forwardEvent(new r6(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if($8(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),$8(c.route.value),this.activateChildRoutes(e,null,s.children)}else{let c=hs(r.snapshot);s.attachRef=null,s.route=r,s.injector=c,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}},wc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},xr=class{constructor(e,n){this.component=e,this.route=n}};function sI(t,e,n){let i=t._root,r=e?e._root:null;return Qo(i,r,n,[i.value])}function cI(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Nr(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!Kh(t)?t:e.get(t):i}function Qo(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ir(e);return t.children.forEach(s=>{aI(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>Xo(c,n.getContext(s),r)),r}function aI(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let a=lI(s,o,o.routeConfig.runGuardsAndResolvers);a?r.canActivateChecks.push(new wc(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Qo(t,e,c?c.children:null,i,r):Qo(t,e,n,i,r),a&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new xr(c.outlet.component,s))}else s&&Xo(e,c,r),r.canActivateChecks.push(new wc(i)),o.component?Qo(t,null,c?c.children:null,i,r):Qo(t,null,n,i,r);return r}function lI(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Di(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Di(t.url,e.url)||!Ft(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!u6(t,e)||!Ft(t.queryParams,e.queryParams);case"paramsChange":default:return!u6(t,e)}}function Xo(t,e,n){let i=Ir(t),r=t.value;Object.entries(i).forEach(([o,s])=>{r.component?e?Xo(s,e.children.getContext(o),n):Xo(s,null,n):Xo(s,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new xr(e.outlet.component,r)):n.canDeactivateChecks.push(new xr(null,r)):n.canDeactivateChecks.push(new xr(null,r))}function ds(t){return typeof t=="function"}function uI(t){return typeof t=="boolean"}function hI(t){return t&&ds(t.canLoad)}function dI(t){return t&&ds(t.canActivate)}function fI(t){return t&&ds(t.canActivateChild)}function pI(t){return t&&ds(t.canDeactivate)}function mI(t){return t&&ds(t.canMatch)}function rp(t){return t instanceof Qt||t?.name==="EmptyError"}var cc=Symbol("INITIAL_VALUE");function Vr(){return ne(t=>so(t.map(e=>e.pipe(yt(1),W2(cc)))).pipe(D(e=>{for(let n of e)if(n!==!0){if(n===cc)return cc;if(n===!1||n instanceof kn)return n}return!0}),he(e=>e!==cc),yt(1)))}function vI(t,e){return ue(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?b(U(w({},n),{guardsResult:!0})):gI(s,i,r,t).pipe(ue(c=>c&&uI(c)?yI(i,o,t,e):b(c)),D(c=>U(w({},n),{guardsResult:c})))})}function gI(t,e,n,i){return Q(t).pipe(ue(r=>_I(r.component,r.route,n,e,i)),qe(r=>r!==!0,!0))}function yI(t,e,n,i){return Q(e).pipe(Yt(r=>Ki(CI(r.route.parent,i),wI(r.route,i),bI(t,r.path,n),MI(t,r.route,n))),qe(r=>r!==!0,!0))}function wI(t,e){return t!==null&&e&&e(new o6(t)),b(!0)}function CI(t,e){return t!==null&&e&&e(new i6(t)),b(!0)}function MI(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return b(!0);let r=i.map(o=>E1(()=>{let s=hs(e)??n,c=Nr(o,s),a=dI(c)?c.canActivate(e,t):rn(s,()=>c(e,t));return jn(a).pipe(qe())}));return b(r).pipe(Vr())}function bI(t,e,n){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>cI(s)).filter(s=>s!==null).map(s=>E1(()=>{let c=s.guards.map(a=>{let l=hs(s.node)??n,u=Nr(a,l),h=fI(u)?u.canActivateChild(i,t):rn(l,()=>u(i,t));return jn(h).pipe(qe())});return b(c).pipe(Vr())}));return b(o).pipe(Vr())}function _I(t,e,n,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return b(!0);let s=o.map(c=>{let a=hs(e)??r,l=Nr(c,a),u=pI(l)?l.canDeactivate(t,e,n,i):rn(a,()=>l(t,e,n,i));return jn(u).pipe(qe())});return b(s).pipe(Vr())}function EI(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return b(!0);let o=r.map(s=>{let c=Nr(s,t),a=hI(c)?c.canLoad(e,n):rn(t,()=>c(e,n));return jn(a)});return b(o).pipe(Vr(),op(i))}function op(t){return O2(ie(e=>{if(Sr(e))throw tp(t,e)}),D(e=>e===!0))}function DI(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return b(!0);let o=r.map(s=>{let c=Nr(s,t),a=mI(c)?c.canMatch(e,n):rn(t,()=>c(e,n));return jn(a)});return b(o).pipe(Vr(),op(i))}var ss=class{constructor(e){this.segmentGroup=e||null}},Cc=class extends Error{constructor(e){super(),this.urlTree=e}};function Dr(t){return Yi(new ss(t))}function II(t){return Yi(new _(4e3,!1))}function zI(t){return Yi(np(!1,ht.GuardRejected))}var f6=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return b(i);if(r.numberOfChildren>1||!r.children[N])return II(e.redirectTo);r=r.children[N]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new Cc(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let o=this.createSegmentGroup(e,n.root,i,r);return new kn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let c=o.substring(1);i[r]=n[c]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){let o=this.createSegments(e,n.segments,i,r),s={};return Object.entries(n.children).forEach(([c,a])=>{s[c]=this.createSegmentGroup(e,a,i,r)}),new Y(o,s)}createSegments(e,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new _(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},p6={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xI(t,e,n,i,r){let o=M6(t,e,n);return o.matched?(i=iI(e,i),DI(i,e,n,r).pipe(D(s=>s===!0?o:w({},p6)))):b(o)}function M6(t,e,n){if(e.path==="**")return TI(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?w({},p6):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||ED)(n,t,e);if(!r)return w({},p6);let o={};Object.entries(r.posParams??{}).forEach(([c,a])=>{o[c]=a.path});let s=r.consumed.length>0?w(w({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function TI(t){return{matched:!0,parameters:t.length>0?k9(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function O9(t,e,n,i){return n.length>0&&VI(t,n,i)?{segmentGroup:new Y(e,AI(i,new Y(n,t.children))),slicedSegments:[]}:n.length===0&&NI(t,n,i)?{segmentGroup:new Y(t.segments,SI(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Y(t.segments,t.children),slicedSegments:n}}function SI(t,e,n,i){let r={};for(let o of n)if(_c(t,e,o)&&!i[Pt(o)]){let s=new Y([],{});r[Pt(o)]=s}return w(w({},i),r)}function AI(t,e){let n={};n[N]=e;for(let i of t)if(i.path===""&&Pt(i)!==N){let r=new Y([],{});n[Pt(i)]=r}return n}function VI(t,e,n){return n.some(i=>_c(t,e,i)&&Pt(i)!==N)}function NI(t,e,n){return n.some(i=>_c(t,e,i))}function _c(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function OI(t,e,n,i){return Pt(t)!==i&&(i===N||!_c(e,n,t))?!1:M6(e,t,n).matched}function LI(t,e,n){return e.length===0&&!t.children[n]}var m6=class{};function RI(t,e,n,i,r,o,s="emptyOnly"){return new v6(t,e,n,i,r,s,o).recognize()}var HI=31,v6=class{constructor(e,n,i,r,o,s,c){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new f6(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new _(4002,`'${e.segmentGroup}'`)}recognize(){let e=O9(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(D(n=>{let i=new rs([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,{},N,this.rootComponentType,null,{}),r=new Xe(i,n),o=new yc("",r),s=UD(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,N).pipe(Tt(i=>{if(i instanceof Cc)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof ss?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=y6(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(D(o=>o instanceof Xe?[o]:[]))}processChildren(e,n,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return Q(r).pipe(Yt(o=>{let s=i.children[o],c=rI(n,o);return this.processSegmentGroup(e,c,s,o)}),Ji((o,s)=>(o.push(...s),o)),Mn(null),U2(),ue(o=>{if(o===null)return Dr(i);let s=sp(o);return kI(s),b(s)}))}processSegment(e,n,i,r,o,s){return Q(n).pipe(Yt(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,i,r,o,s).pipe(Tt(a=>{if(a instanceof ss)return b(null);throw a}))),qe(c=>!!c),Tt(c=>{if(rp(c))return LI(i,r,o)?b(new m6):Dr(i);throw c}))}processSegmentAgainstRoute(e,n,i,r,o,s,c){return OI(i,r,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s):Dr(r):Dr(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,s){let{matched:c,consumedSegments:a,positionalParamSegments:l,remainingSegments:u}=M6(n,r,o);if(!c)return Dr(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>HI&&(this.allowRedirects=!1));let h=this.applyRedirects.applyRedirectCommands(a,r.redirectTo,l);return this.applyRedirects.lineralizeSegments(r,h).pipe(ue(d=>this.processSegment(e,i,n,d.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,i,r,o){let s=xI(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),s.pipe(ne(c=>c.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(ne(({routes:a})=>{let l=i._loadedInjector??e,{consumedSegments:u,remainingSegments:h,parameters:d}=c,f=new rs(u,d,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,PI(i),Pt(i),i.component??i._loadedComponent??null,i,BI(i)),{segmentGroup:p,slicedSegments:y}=O9(n,u,h,a);if(y.length===0&&p.hasChildren())return this.processChildren(l,a,p).pipe(D(I=>I===null?null:new Xe(f,I)));if(a.length===0&&y.length===0)return b(new Xe(f,[]));let E=Pt(i)===o;return this.processSegment(l,a,p,y,E?N:o,!0).pipe(D(I=>new Xe(f,I instanceof Xe?[I]:[])))}))):Dr(n)))}getChildConfig(e,n,i){return n.children?b({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?b({routes:n._loadedRoutes,injector:n._loadedInjector}):EI(e,n,i,this.urlSerializer).pipe(ue(r=>r?this.configLoader.loadChildren(e,n).pipe(ie(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):zI(n))):b({routes:[],injector:e})}};function kI(t){t.sort((e,n)=>e.value.outlet===N?-1:n.value.outlet===N?1:e.value.outlet.localeCompare(n.value.outlet))}function FI(t){let e=t.value.routeConfig;return e&&e.path===""}function sp(t){let e=[],n=new Set;for(let i of t){if(!FI(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=sp(i.children);e.push(new Xe(i.value,r))}return e.filter(i=>!n.has(i))}function PI(t){return t.data||{}}function BI(t){return t.resolve||{}}function jI(t,e,n,i,r,o){return ue(s=>RI(t,e,n,i,s.extractedUrl,r,o).pipe(D(({state:c,tree:a})=>U(w({},s),{targetSnapshot:c,urlAfterRedirects:a}))))}function UI(t,e){return ue(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return b(n);let o=new Set(r.map(a=>a.route)),s=new Set;for(let a of o)if(!s.has(a))for(let l of cp(a))s.add(l);let c=0;return Q(s).pipe(Yt(a=>o.has(a)?$I(a,i,t,e):(a.data=y6(a,a.parent,t).resolve,b(void 0))),ie(()=>c++),Xi(1),ue(a=>c===s.size?b(n):ke))})}function cp(t){let e=t.children.map(n=>cp(n)).flat();return[t,...e]}function $I(t,e,n,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!J9(r)&&(o[as]=r.title),qI(o,t,e,i).pipe(D(s=>(t._resolvedData=s,t.data=y6(t,t.parent,n).resolve,null)))}function qI(t,e,n,i){let r=G8(t);if(r.length===0)return b({});let o={};return Q(r).pipe(ue(s=>WI(t[s],e,n,i).pipe(qe(),ie(c=>{o[s]=c}))),Xi(1),co(o),Tt(s=>rp(s)?ke:Yi(s)))}function WI(t,e,n,i){let r=hs(e)??i,o=Nr(t,r),s=o.resolve?o.resolve(e,n):rn(r,()=>o(e,n));return jn(s)}function q8(t){return ne(e=>{let n=t(e);return n?Q(n).pipe(D(()=>e)):b(e)})}var ap=(()=>{let e=class e{buildTitle(i){let r,o=i.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===N);return r}getResolvedTitleForRoute(i){return i.data[as]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:()=>g(GI),providedIn:"root"});let t=e;return t})(),GI=(()=>{let e=class e extends ap{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(m(Vd))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fs=new C("",{providedIn:"root",factory:()=>({})}),cs=new C(""),b6=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=g(R4)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return b(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=jn(i.loadComponent()).pipe(D(lp),ie(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),bn(()=>{this.componentLoaders.delete(i)})),o=new $i(r,()=>new te).pipe(Ui());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return b({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=QI(r,this.compiler,i,this.onLoadEndListener).pipe(bn(()=>{this.childrenLoaders.delete(r)})),c=new $i(s,()=>new te).pipe(Ui());return this.childrenLoaders.set(r,c),c}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function QI(t,e,n,i){return jn(t.loadChildren()).pipe(D(lp),ue(r=>r instanceof wo||Array.isArray(r)?b(r):Q(e.compileModuleAsync(r))),D(r=>{i&&i(t);let o,s,c=!1;return Array.isArray(r)?(s=r,c=!0):(o=r.create(n).injector,s=o.get(cs,[],{optional:!0,self:!0}).flat()),{routes:s.map(C6),injector:o}}))}function YI(t){return t&&typeof t=="object"&&"default"in t}function lp(t){return YI(t)?t.default:t}var _6=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:()=>g(KI),providedIn:"root"});let t=e;return t})(),KI=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),up=new C(""),hp=new C("");function ZI(t,e,n){let i=t.get(hp),r=t.get(ve);return t.get(B).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(l=>{o=l}),c=r.startViewTransition(()=>(o(),XI(t))),{onViewTransitionCreated:a}=i;return a&&rn(t,()=>a({transition:c,from:e,to:n})),s})}function XI(t){return new Promise(e=>{U3(e,{injector:t})})}var E6=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new te,this.transitionAbortSubject=new te,this.configLoader=g(b6),this.environmentInjector=g(je),this.urlSerializer=g(ls),this.rootContexts=g(us),this.location=g(wr),this.inputBindingEnabled=g(bc,{optional:!0})!==null,this.titleStrategy=g(ap),this.options=g(fs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=g(_6),this.createViewTransition=g(up,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>b(void 0),this.rootComponentType=null;let i=o=>this.events.next(new t6(o)),r=o=>this.events.next(new n6(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(U(w(w({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,o){return this.transitions=new Ee({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Zo,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(he(s=>s.id!==0),D(s=>U(w({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ne(s=>{this.currentTransition=s;let c=!1,a=!1;return b(s).pipe(ie(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?U(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ne(l=>{let u=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=l.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!u&&h!=="reload"){let d="";return this.events.next(new Pn(l.id,this.urlSerializer.serialize(l.rawUrl),d,fc.IgnoredSameUrlNavigation)),l.resolve(null),ke}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return b(l).pipe(ne(d=>{let f=this.transitions?.getValue();return this.events.next(new Ar(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?ke:Promise.resolve(d)}),jI(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),ie(d=>{s.targetSnapshot=d.targetSnapshot,s.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=U(w({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new pc(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:f,source:p,restoredState:y,extras:E}=l,I=new Ar(d,this.urlSerializer.serialize(f),p,y);this.events.next(I);let G=Z9(this.rootComponentType).snapshot;return this.currentTransition=s=U(w({},l),{targetSnapshot:G,urlAfterRedirects:f,extras:U(w({},E),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,b(s)}else{let d="";return this.events.next(new Pn(l.id,this.urlSerializer.serialize(l.extractedUrl),d,fc.IgnoredByUrlHandlingStrategy)),l.resolve(null),ke}}),ie(l=>{let u=new Z8(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),D(l=>(this.currentTransition=s=U(w({},l),{guards:sI(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),vI(this.environmentInjector,l=>this.events.next(l)),ie(l=>{if(s.guardsResult=l.guardsResult,Sr(l.guardsResult))throw tp(this.urlSerializer,l.guardsResult);let u=new X8(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),he(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",ht.GuardRejected),!1)),q8(l=>{if(l.guards.canActivateChecks.length)return b(l).pipe(ie(u=>{let h=new J8(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),ne(u=>{let h=!1;return b(u).pipe(UI(this.paramsInheritanceStrategy,this.environmentInjector),ie({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(u,"",ht.NoDataFromResolver)}}))}),ie(u=>{let h=new e6(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),q8(l=>{let u=h=>{let d=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(h.routeConfig).pipe(ie(f=>{h.component=f}),D(()=>{})));for(let f of h.children)d.push(...u(f));return d};return so(u(l.targetSnapshot.root)).pipe(Mn(null),yt(1))}),q8(()=>this.afterPreactivation()),ne(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,h=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return h?Q(h).pipe(D(()=>s)):b(s)}),D(l=>{let u=XD(i.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=U(w({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),ie(()=>{this.events.next(new ns)}),oI(this.rootContexts,i.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),yt(1),ie({next:l=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new fn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{c=!0}}),G2(this.transitionAbortSubject.pipe(ie(l=>{throw l}))),bn(()=>{!c&&!a&&this.cancelNavigationTransition(s,"",ht.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Tt(l=>{if(a=!0,ip(l))this.events.next(new Fn(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),tI(l)?this.events.next(new is(l.url)):s.resolve(!1);else{this.events.next(new ts(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(i.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return ke}))}))}cancelNavigationTransition(i,r,o){let s=new Fn(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(s),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function JI(t){return t!==Zo}var ez=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:()=>g(tz),providedIn:"root"});let t=e;return t})(),g6=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},tz=(()=>{let e=class e extends g6{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=zo(e)))(o||e)}})(),e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:()=>g(nz),providedIn:"root"});let t=e;return t})(),nz=(()=>{let e=class e extends dp{constructor(){super(...arguments),this.location=g(wr),this.urlSerializer=g(ls),this.options=g(fs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=g(_6),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new kn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Z9(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Ar)this.stateMemento=this.createStateMemento();else if(i instanceof Pn)this.rawUrlTree=r.initialUrl;else if(i instanceof pc){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else i instanceof ns?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof Fn&&(i.code===ht.GuardRejected||i.code===ht.NoDataFromResolver)?this.restoreHistory(r):i instanceof ts?this.restoreHistory(r,!0):i instanceof fn&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let o=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,c=w(w({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",c)}else{let s=w(w({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===i.finalUrl&&s===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=zo(e)))(o||e)}})(),e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Yo||{});function fp(t,e){t.events.pipe(he(n=>n instanceof fn||n instanceof Fn||n instanceof ts||n instanceof Pn),D(n=>n instanceof fn||n instanceof Pn?Yo.COMPLETE:(n instanceof Fn?n.code===ht.Redirect||n.code===ht.SupersededByNewNavigation:!1)?Yo.REDIRECTING:Yo.FAILED),he(n=>n!==Yo.REDIRECTING),yt(1)).subscribe(()=>{e()})}function iz(t){throw t}var rz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Bn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=g(O4),this.stateManager=g(dp),this.options=g(fs,{optional:!0})||{},this.pendingTasks=g(Ao),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=g(E6),this.urlSerializer=g(ls),this.location=g(wr),this.urlHandlingStrategy=g(_6),this._events=new te,this.errorHandler=this.options.errorHandler||iz,this.navigated=!1,this.routeReuseStrategy=g(ez),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=g(cs,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!g(bc,{optional:!0}),this.eventsSubscription=new ae,this.isNgZoneEnabled=g(B)instanceof B&&B.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Fn&&r.code!==ht.Redirect&&r.code!==ht.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof fn)this.navigated=!0;else if(r instanceof is){let c=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),a={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||JI(o.source)};this.scheduleNavigation(c,Zo,null,a,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}cz(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Zo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,o){let s={replaceUrl:!0},c=o?.navigationId?o:null;if(o){let l=w({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let a=this.parseUrl(i);this.scheduleNavigation(a,r,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(C6),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:o,queryParams:s,fragment:c,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:c,h=null;switch(a){case"merge":h=w(w({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let d;try{let f=o?o.snapshot:this.routerState.snapshot.root;d=G9(f)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),d=this.currentUrlTree.root}return Q9(d,i,h,u??null)}navigateByUrl(i,r={skipLocationChange:!1}){let o=Sr(i)?i:this.parseUrl(i),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Zo,null,r)}navigate(i,r={skipLocationChange:!1}){return sz(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let o;if(r===!0?o=w({},rz):r===!1?o=w({},oz):o=r,Sr(i))return T9(this.currentUrlTree,i,o);let s=this.parseUrl(i);return T9(this.currentUrlTree,s,o)}removeEmptyProps(i){return Object.entries(i).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(i,r,o,s,c){if(this.disposed)return Promise.resolve(!1);let a,l,u;c?(a=c.resolve,l=c.reject,u=c.promise):u=new Promise((d,f)=>{a=d,l=f});let h=this.pendingTasks.add();return fp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:s,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sz(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new _(4008,!1)}function cz(t){return!(t instanceof ns)&&!(t instanceof is)}var Mc=class{};var az=(()=>{let e=class e{constructor(i,r,o,s,c){this.router=i,this.injector=o,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(he(i=>i instanceof fn),Yt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let o=[];for(let s of r){s.providers&&!s._injector&&(s._injector=A4(s.providers,i,`Route: ${s.path}`));let c=s._injector??i,a=s._loadedInjector??c;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(c,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Q(o).pipe(Cn())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(i,r):o=b(null);let s=o.pipe(ue(c=>c===null?b(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??i,c.routes))));if(r.loadComponent&&!r._loadedComponent){let c=this.loader.loadComponent(r);return Q([s,c]).pipe(Cn())}else return s})}};e.\u0275fac=function(r){return new(r||e)(m(Bn),m(R4),m(je),m(Mc),m(b6))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pp=new C(""),lz=(()=>{let e=class e{constructor(i,r,o,s,c={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration||="disabled",c.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Ar?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof fn?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof Pn&&i.code===fc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof mc&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new mc(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){s7()},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();function nj(t,...e){return Vn([{provide:cs,multi:!0,useValue:t},[],{provide:Ii,useFactory:mp,deps:[Bn]},{provide:gi,multi:!0,useFactory:vp},e.map(n=>n.\u0275providers)])}function mp(t){return t.routerState.root}function ps(t,e){return{\u0275kind:t,\u0275providers:e}}function vp(){let t=g(Ht);return e=>{let n=t.get(On);if(e!==n.components[0])return;let i=t.get(Bn),r=t.get(gp);t.get(D6)===1&&i.initialNavigation(),t.get(yp,null,k.Optional)?.setUpPreloading(),t.get(pp,null,k.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var gp=new C("",{factory:()=>new te}),D6=new C("",{providedIn:"root",factory:()=>1});function uz(){return ps(2,[{provide:D6,useValue:0},{provide:L4,multi:!0,deps:[Ht],useFactory:e=>{let n=e.get(od,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=e.get(Bn),o=e.get(gp);fp(r,()=>{i(!0)}),e.get(E6).afterPreactivation=()=>(i(!0),o.closed?b(void 0):o),r.initialNavigation()}))}}])}function hz(){return ps(3,[{provide:L4,multi:!0,useFactory:()=>{let e=g(Bn);return()=>{e.setUpLocationChangeListener()}}},{provide:D6,useValue:2}])}var yp=new C("");function dz(t){return ps(0,[{provide:yp,useExisting:az},{provide:Mc,useExisting:t}])}function fz(){return ps(8,[N9,{provide:bc,useExisting:N9}])}function pz(t){let e=[{provide:up,useValue:ZI},{provide:hp,useValue:w({skipNextTransition:!!t?.skipInitialTransition},t)}];return ps(9,e)}var L9=new C("ROUTER_FORROOT_GUARD"),mz=[wr,{provide:ls,useClass:Jo},Bn,us,{provide:Ii,useFactory:mp,deps:[Bn]},b6,[]],ij=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[mz,[],{provide:cs,multi:!0,useValue:i},{provide:L9,useFactory:wz,deps:[[Bn,new pi,new C4]]},{provide:fs,useValue:r||{}},r?.useHash?gz():yz(),vz(),r?.preloadingStrategy?dz(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Cz(r):[],r?.bindToComponentInputs?fz().\u0275providers:[],r?.enableViewTransitions?pz().\u0275providers:[],Mz()]}}static forChild(i){return{ngModule:e,providers:[{provide:cs,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(m(L9,8))},e.\u0275mod=pe({type:e}),e.\u0275inj=me({});let t=e;return t})();function vz(){return{provide:pp,useFactory:()=>{let t=g(ld),e=g(B),n=g(fs),i=g(E6),r=g(ls);return n.scrollOffset&&t.setOffset(n.scrollOffset),new lz(r,i,t,e,n)}}}function gz(){return{provide:Ci,useClass:cd}}function yz(){return{provide:Ci,useClass:i8}}function wz(t){return"guarded"}function Cz(t){return[t.initialNavigation==="disabled"?hz().\u0275providers:[],t.initialNavigation==="enabledBlocking"?uz().\u0275providers:[]]}var R9=new C("");function Mz(){return[{provide:R9,useFactory:vp},{provide:gi,multi:!0,useExisting:R9}]}var bz="firebase",_z="10.10.0";wn(bz,_z,"app");var Or=new nn("ANGULARFIRE2_VERSION");var Ez=(t,e)=>{let n=e?[e]:X0(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},zi=class{constructor(){return Ez(Dz)}},Dz="app-check";function I6(){}var Ec=class{zone;delegate;constructor(e,n=k2){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,i)}},z6=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",I6,{},I6,I6)),n.pipe(ie({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Dc=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Ec(Zone.current)),this.insideAngular=n.run(()=>new Ec(Zone.current,oo)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(m(B))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Iz(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function pn(t){return zz(Iz())(t)}function zz(t){return function(n){return n=n.lift(new z6(t.ngZone)),n.pipe(gt(t.outsideAngular),st(t.insideAngular))}}var xz="firebase",Tz="10.10.0";He.registerVersion(xz,Tz,"app-compat");var Sz=["ngOnDestroy"],Mp=(t,e,n,i={})=>new Proxy(t,{get:(r,o)=>n.runOutsideAngular(()=>{if(t[o])return i?.spy?.get&&i.spy.get(o,t[o]),t[o];if(Sz.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(c=>{let a=c?.[o];return typeof a=="function"?a.bind(c):a?.then?a.then(l=>n.run(()=>l)):n.run(()=>a)});return new Proxy(()=>{},{get:(c,a)=>s[a],apply:(c,a,l)=>s.then(u=>{let h=u?.(...l);return i?.spy?.apply&&i.spy.apply(o,l,h),h})})})});var Ic=class{constructor(e){return e}},Lr=new C("angularfire2.app.options"),Rr=new C("angularfire2.app.name");function ms(t,e,n){let i=typeof n=="string"&&n||"[DEFAULT]",r=typeof n=="object"&&n||{};r.name=r.name||i;let s=He.apps.filter(c=>c&&c.name===r.name)[0]||e.runOutsideAngular(()=>He.initializeApp(t,r));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let c=!!module.hot;Az("error",`${s.name} Firebase App already initialized with different options${c?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ic(s)}var Az=(t,...e)=>{yi()&&typeof console<"u"&&console[t](...e)},Vz={provide:Ic,useFactory:ms,deps:[Lr,B,[new pi,Rr]]},bj=(()=>{class t{static initializeApp(n,i){return{ngModule:t,providers:[{provide:Lr,useValue:n},{provide:Rr,useValue:i}]}}constructor(n){He.registerVersion("angularfire",Or.full,"core"),He.registerVersion("angularfire",Or.full,"app-compat"),He.registerVersion("angular",q7.full,n.toString())}static \u0275fac=function(i){return new(i||t)(m(we))};static \u0275mod=pe({type:t});static \u0275inj=me({providers:[Vz]})}return t})();function zc(t,e,n,i,r){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(c=>c[0]===t)||[];if(o)return Nz(r,s)||(Cp("error",`${e} was already initialized on the ${n} Firebase App with different settings.${Oz?" You may need to reload as Firebase is not HMR aware.":""}`),Cp("warn",{is:r,was:s})),o;{let c=i();return globalThis.\u0275AngularfireInstanceCache.push([t,c,r]),c}}function Nz(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var Oz=typeof module<"u"&&!!module.hot,Cp=(t,...e)=>{yi()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var Hz=new Map,kz={activated:!1,tokenObservers:[]},Fz={initialized:!1,enabled:!1};function Et(t){return Hz.get(t)||Object.assign({},kz)}function Ip(){return Fz}var Pz="https://content-firebaseappcheck.googleapis.com/v1";var Bz="exchangeDebugToken",bp={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Vj=24*60*60*1e3;var T6=class{constructor(e,n,i,r,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return rt(this,null,function*(){this.stop();try{this.pending=new ye,this.pending.promise.catch(n=>{}),yield jz(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ye,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function jz(t){return new Promise(e=>{setTimeout(e,t)})}var Uz={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Un=new $0("appCheck","AppCheck",Uz);function zp(t){if(!Et(t).activated)throw Un.create("use-before-activation",{appName:t.name})}function xp(i,r){return rt(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let f=yield s.getHeartbeatsHeader();f&&(o["X-Firebase-Client"]=f)}let c={method:"POST",body:JSON.stringify(e),headers:o},a;try{a=yield fetch(t,c)}catch(f){throw Un.create("fetch-network-error",{originalErrorMessage:f?.message})}if(a.status!==200)throw Un.create("fetch-status-error",{httpStatus:a.status});let l;try{l=yield a.json()}catch(f){throw Un.create("fetch-parse-error",{originalErrorMessage:f?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Un.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let h=Number(u[1])*1e3,d=Date.now();return{token:l.token,expireTimeMillis:d+h,issuedAtTimeMillis:d}})}function Tp(t,e){let{projectId:n,appId:i,apiKey:r}=t.options;return{url:`${Pz}/projects/${n}/apps/${i}:${Bz}?key=${r}`,body:{debug_token:e}}}var $z="firebase-app-check-database",qz=1,S6="firebase-app-check-store";var xc=null;function Wz(){return xc||(xc=new Promise((t,e)=>{try{let n=indexedDB.open($z,qz);n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var r;e(Un.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(S6,{keyPath:"compositeKey"})}}}catch(n){e(Un.create("storage-open",{originalErrorMessage:n?.message}))}}),xc)}function Gz(t,e){return Qz(Yz(t),e)}function Qz(t,e){return rt(this,null,function*(){let i=(yield Wz()).transaction(S6,"readwrite"),o=i.objectStore(S6).put({compositeKey:t,value:e});return new Promise((s,c)=>{o.onsuccess=a=>{s()},i.onerror=a=>{var l;c(Un.create("storage-set",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})})}function Yz(t){return`${t.options.appId}-${t.name}`}var A6=new ki("@firebase/app-check");function x6(t,e){return U0()?Gz(t,e).catch(n=>{A6.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Sp(){return Ip().enabled}function Ap(){return rt(this,null,function*(){let t=Ip();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Kz={error:"UNKNOWN_ERROR"};function Zz(t){return Zs.encodeString(JSON.stringify(t),!1)}function V6(t,e=!1){return rt(this,null,function*(){let n=t.app;zp(n);let i=Et(n),r=i.token,o;if(r&&!vs(r)&&(i.token=void 0,r=void 0),!r){let a=yield i.cachedTokenPromise;a&&(vs(a)?r=a:yield x6(n,void 0))}if(!e&&r&&vs(r))return{token:r.token};let s=!1;if(Sp()){i.exchangeTokenPromise||(i.exchangeTokenPromise=xp(Tp(n,yield Ap()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);let a=yield i.exchangeTokenPromise;return yield x6(n,a),i.token=a,{token:a.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield Et(n).exchangeTokenPromise}catch(a){a.code==="appCheck/throttled"?A6.warn(a.message):A6.error(a),o=a}let c;return r?o?vs(r)?c={token:r.token,internalError:o}:c=Ep(o):(c={token:r.token},i.token=r,yield x6(n,r)):c=Ep(o),s&&tx(n,c),c})}function Xz(t){return rt(this,null,function*(){let e=t.app;zp(e);let{provider:n}=Et(e);if(Sp()){let i=yield Ap(),{token:r}=yield xp(Tp(e,i),t.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield n.getToken();return{token:i}}})}function Jz(t,e,n,i){let{app:r}=t,o=Et(r),s={next:n,error:i,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&vs(o.token)){let c=o.token;Promise.resolve().then(()=>{n({token:c.token}),_p(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>_p(t))}function Vp(t,e){let n=Et(t),i=n.tokenObservers.filter(r=>r.next!==e);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function _p(t){let{app:e}=t,n=Et(e),i=n.tokenRefresher;i||(i=ex(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function ex(t){let{app:e}=t;return new T6(()=>rt(this,null,function*(){let n=Et(e),i;if(n.token?i=yield V6(t,!0):i=yield V6(t),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let n=Et(e);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},bp.RETRIAL_MIN_WAIT,bp.RETRIAL_MAX_WAIT)}function tx(t,e){let n=Et(t).tokenObservers;for(let i of n)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function vs(t){return t.expireTimeMillis-Date.now()>0}function Ep(t){return{token:Zz(Kz),error:t}}var N6=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Et(this.app);for(let n of e)Vp(this.app,n.next);return Promise.resolve()}};function nx(t,e){return new N6(t,e)}function ix(t){return{getToken:e=>V6(t,e),getLimitedUseToken:()=>Xz(t),addTokenListener:e=>Jz(t,"INTERNAL",e),removeTokenListener:e=>Vp(t.app,e)}}var rx="@firebase/app-check",ox="0.8.3";var sx="app-check",Dp="app-check-internal";function cx(){no(new Wt(sx,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return nx(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(Dp).initialize()})),no(new Wt(Dp,t=>{let e=t.getProvider("app-check").getImmediate();return ix(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),wn(rx,ox)}cx();var ax=["localhost","0.0.0.0","127.0.0.1"],$j=typeof window<"u"&&ax.includes(window.location.hostname);var O6=new C("angularfire2.auth.use-emulator"),L6=new C("angularfire2.auth.settings"),R6=new C("angularfire2.auth.tenant-id"),H6=new C("angularfire2.auth.langugage-code"),k6=new C("angularfire2.auth.use-device-language"),F6=new C("angularfire.auth.persistence"),P6=(t,e,n,i,r,o,s,c)=>zc(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let a=e.runOutsideAngular(()=>t.auth());if(n&&a.useEmulator(...n),i&&(a.tenantId=i),a.languageCode=r,o&&a.useDeviceLanguage(),s)for(let[l,u]of Object.entries(s))a.settings[l]=u;return c&&a.setPersistence(c),a},[n,i,r,o,s,c]),Op=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,i,r,o,s,c,a,l,u,h,d,f){let p=new te,y=b(void 0).pipe(st(s.outsideAngular),ne(()=>o.runOutsideAngular(()=>import("./chunk-XR7PFLAK.js"))),D(()=>ms(n,o,i)),D(E=>P6(E,o,c,l,u,h,a,d)),I1({bufferSize:1,refCount:!1}));if(Oo(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=b(null);else{y.pipe(qe()).subscribe();let E=y.pipe(ne(O=>O.getRedirectResult().then(ce=>ce,()=>null)),pn,I1({bufferSize:1,refCount:!1})),I=y.pipe(ne(O=>new L(ce=>({unsubscribe:o.runOutsideAngular(()=>O.onAuthStateChanged(Se=>ce.next(Se),Se=>ce.error(Se),()=>ce.complete()))})))),G=y.pipe(ne(O=>new L(ce=>({unsubscribe:o.runOutsideAngular(()=>O.onIdTokenChanged(Se=>ce.next(Se),Se=>ce.error(Se),()=>ce.complete()))}))));this.authState=E.pipe(z1(I),gt(s.outsideAngular),st(s.insideAngular)),this.user=E.pipe(z1(G),gt(s.outsideAngular),st(s.insideAngular)),this.idToken=this.user.pipe(ne(O=>O?Q(O.getIdToken()):b(null))),this.idTokenResult=this.user.pipe(ne(O=>O?Q(O.getIdTokenResult()):b(null))),this.credential=Zi(E,p,this.authState.pipe(he(O=>!O))).pipe(D(O=>O?.user?O:null),gt(s.outsideAngular),st(s.insideAngular))}return Mp(this,y,o,{spy:{apply:(E,I,G)=>{(E.startsWith("signIn")||E.startsWith("createUser"))&&G.then(O=>p.next(O))}}})}static \u0275fac=function(i){return new(i||t)(m(Lr),m(Rr,8),m(we),m(B),m(Dc),m(O6,8),m(L6,8),m(R6,8),m(H6,8),m(k6,8),m(F6,8),m(zi,8))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var Lp="@firebase/database",Rp="1.0.4";var Xl="";function Jl(t){Xl=t}var Q6=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),le(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Xs(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Y6=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ot(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var fm=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Q6(e)}}catch{}return new Y6},Ti=fm("localStorage"),K6=fm("sessionStorage");var Pr=new ki("@firebase/database"),pm=function(){let t=1;return function(){return t++}}(),mm=function(t){let e=Y0(t),n=new Q0;n.update(e);let i=n.digest();return Zs.encodeByteArray(i)},Ps=function(...t){let e="";for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Ps.apply(null,i):typeof i=="object"?e+=le(i):e+=i,e+=" "}return e},Si=null,Hp=!0,vm=function(t,e){v(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Pr.logLevel=K0.VERBOSE,Si=Pr.log.bind(Pr),e&&K6.set("logging_enabled",!0)):typeof t=="function"?Si=t:(Si=null,K6.remove("logging_enabled"))},Me=function(...t){if(Hp===!0&&(Hp=!1,Si===null&&K6.get("logging_enabled")===!0&&vm(!0)),Si){let e=Ps.apply(null,t);Si(e)}},Bs=function(t){return function(...e){Me(t,...e)}},Z6=function(...t){let e="FIREBASE INTERNAL ERROR: "+Ps(...t);Pr.error(e)},Ut=function(...t){let e=`FIREBASE FATAL ERROR: ${Ps(...t)}`;throw Pr.error(e),new Error(e)},Te=function(...t){let e="FIREBASE WARNING: "+Ps(...t);Pr.warn(e)},ux=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Te("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},n2=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},hx=function(t){if(zt()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Gn="[MIN_NAME]",mn="[MAX_NAME]",Vi=function(t,e){if(t===e)return 0;if(t===Gn||e===mn)return-1;if(e===Gn||t===mn)return 1;{let n=kp(t),i=kp(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},dx=function(t,e){return t===e?0:t<e?-1:1},gs=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+le(e))},e0=function(t){if(typeof t!="object"||t===null)return le(t);let e=[];for(let i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=le(e[i]),n+=":",n+=e0(t[e[i]]);return n+="}",n},gm=function(t,e){let n=t.length;if(n<=e)return[t];let i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function be(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var ym=function(t){v(!n2(t),"Invalid JSON number");let e=11,n=52,i=(1<<e-1)-1,r,o,s,c,a;t===0?(o=0,s=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),i),o=c+i,s=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-i-n))));let l=[];for(a=n;a;a-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(a=e;a;a-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(r?1:0),l.reverse();let u=l.join(""),h="";for(a=0;a<64;a+=8){let d=parseInt(u.substr(a,8),2).toString(16);d.length===1&&(d="0"+d),h=h+d}return h.toLowerCase()},fx=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},px=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function mx(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}var vx=new RegExp("^-?(0*)\\d{1,10}$"),gx=-2147483648,yx=2147483647,kp=function(t){if(vx.test(t)){let e=Number(t);if(e>=gx&&e<=yx)return e}return null},Yr=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Te("Exception was thrown by user callback.",n),e},Math.floor(0))}},wx=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ms=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var X6=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Te(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var J6=class{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Me("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Te(e)}},bs=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Sc="5",wm="v",Cm="s",Mm="r",bm="f",_m=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Em="ls",Dm="p",el="ac",Im="websocket",zm="long_polling";var Ac=class{constructor(e,n,i,r,o=!1,s="",c=!1,a=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ti.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ti.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function Cx(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function xm(t,e,n){v(typeof e=="string","typeof type must == string"),v(typeof n=="object","typeof params must == object");let i;if(e===Im)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===zm)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Cx(t)&&(n.ns=t.namespace);let r=[];return be(n,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}var tl=class{constructor(){this.counters_={}}incrementCounter(e,n=1){ot(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return P0(this.counters_)}};var B6={},j6={};function t0(t){let e=t.toString();return B6[e]||(B6[e]=new tl),B6[e]}function Mx(t,e){let n=t.toString();return j6[n]||(j6[n]=e()),j6[n]}var nl=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Yr(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var Fp="start",bx="close",_x="pLPCommand",Ex="pRTLPCB",Tm="id",Sm="pw",Am="ser",Dx="cb",Ix="seg",zx="ts",xx="d",Tx="dframe",Vm=1870,Nm=30,Sx=Vm-Nm,Ax=25e3,Vx=3e4,Is=class t{constructor(e,n,i,r,o,s,c){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bs(e),this.stats_=t0(n),this.urlFn=a=>(this.appCheckToken&&(a[el]=this.appCheckToken),xm(n,zm,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new nl(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Vx)),hx(()=>{if(this.isClosed_)return;this.scriptTagHolder=new il((...o)=>{let[s,c,a,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===Fp)this.id=c,this.password=a;else if(s===bx)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,c]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,c)},()=>{this.onClosed_()},this.urlFn);let i={};i[Fp]="t",i[Am]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[Dx]=this.scriptTagHolder.uniqueCallbackIdentifier),i[wm]=Sc,this.transportSessionId&&(i[Cm]=this.transportSessionId),this.lastSessionId&&(i[Em]=this.lastSessionId),this.applicationId&&(i[Dm]=this.applicationId),this.appCheckToken&&(i[el]=this.appCheckToken),typeof location<"u"&&location.hostname&&_m.test(location.hostname)&&(i[Mm]=bm);let r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return zt()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!fx()&&!px()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=le(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let i=F0(n),r=gm(i,Sx);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(zt())return;this.myDisconnFrame=document.createElement("iframe");let i={};i[Tx]="t",i[Tm]=e,i[Sm]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=le(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},il=class t{constructor(e,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,zt())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=pm(),window[_x+this.uniqueCallbackIdentifier]=e,window[Ex+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(c){Me("frame writing exception"),c.stack&&Me(c.stack),Me(c)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Me("No IE domain setting required")}catch{let i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[Tm]=this.myID,e[Sm]=this.myPW,e[Am]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Nm+i.length<=Vm;){let s=this.pendingSegs.shift();i=i+"&"+Ix+r+"="+s.seg+"&"+zx+r+"="+s.ts+"&"+xx+r+"="+s.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(Ax)),o=()=>{clearTimeout(r),i()};this.addTag(e,o)}addTag(e,n){zt()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){let r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Me("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}};var Nx=16384,Ox=45e3,Vc=null;typeof MozWebSocket<"u"?Vc=MozWebSocket:typeof WebSocket<"u"&&(Vc=WebSocket);var kr=(()=>{class t{constructor(n,i,r,o,s,c,a){this.connId=n,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bs(this.connId),this.stats_=t0(i),this.connURL=t.connectionURL_(i,c,a,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(n,i,r,o,s){let c={};return c[wm]=Sc,!zt()&&typeof location<"u"&&location.hostname&&_m.test(location.hostname)&&(c[Mm]=bm),i&&(c[Cm]=i),r&&(c[Em]=r),o&&(c[el]=o),s&&(c[Dm]=s),xm(n,Im,c)}open(n,i){this.onDisconnect=i,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ti.set("previous_websocket_failure",!0);try{let r;if(zt()){let o=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${Sc}/${Xl}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,c=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;c&&(r.proxy={origin:c})}this.mySock=new Vc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&Vc!==null&&!t.forceDisallow_}static previouslyFailed(){return Ti.isInMemoryStorage||Ti.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ti.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let i=this.frames.join("");this.frames=null;let r=Xs(i);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(v(this.frames===null,"We already have a frame buffer"),n.length<=6){let i=Number(n);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let i=n.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{let r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();let i=le(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let r=gm(i,Nx);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Ox))}sendString_(n){try{this.mySock.send(n)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),Om=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Is,kr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let i=kr&&kr.isAvailable(),r=i&&!kr.previouslyFailed();if(n.webSocketOnly&&(i||Te("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[kr];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),Lx=6e4,Rx=5e3,Hx=10*1024,kx=100*1024,U6="t",Pp="d",Fx="s",Bp="r",Px="e",jp="o",Up="a",$p="n",qp="p",Bx="h",rl=class{constructor(e,n,i,r,o,s,c,a,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=c,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bs("c:"+this.id+":"),this.transportManager_=new Om(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));let r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Ms(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>kx?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Hx?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(U6 in e){let n=e[U6];n===Up?this.upgradeIfSecondaryHealthy_():n===Bp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===jp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=gs("t",e),i=gs("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:qp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Up,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:$p,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=gs("t",e),i=gs("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=gs(U6,e);if(Pp in e){let i=e[Pp];if(n===Bx){let r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===$p){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Fx?this.onConnectionShutdown_(i):n===Bp?this.onReset_(i):n===Px?Z6("Server Error: "+i):n===jp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Z6("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Sc!==i&&Te("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Ms(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Lx))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ms(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Rx))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:qp,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ti.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Nc=class{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}};var Oc=class{constructor(e){this.allowedEvents_=e,this.listeners_={},v(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});let r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);let r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(e){v(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Lc=class t extends Oc{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!b2()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return v(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var Wp=32,Gp=768,q=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function $(){return new q("")}function R(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Qn(t){return t.pieces_.length-t.pieceNum_}function J(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new q(t.pieces_,e)}function n0(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function jx(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function zs(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Lm(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new q(e,0)}function re(t,e){let n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof q)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{let i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new q(n,0)}function H(t){return t.pieceNum_>=t.pieces_.length}function Ne(t,e){let n=R(t),i=R(e);if(n===null)return e;if(n===i)return Ne(J(t),J(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Ux(t,e){let n=zs(t,0),i=zs(e,0);for(let r=0;r<n.length&&r<i.length;r++){let o=Vi(n[r],i[r]);if(o!==0)return o}return n.length===i.length?0:n.length<i.length?-1:1}function i0(t,e){if(Qn(t)!==Qn(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function ft(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Qn(t)>Qn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}var ol=class{constructor(e,n){this.errorPrefix_=n,this.parts_=zs(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=to(this.parts_[i]);Rm(this)}};function $x(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=to(e),Rm(t)}function qx(t){let e=t.parts_.pop();t.byteLength_-=to(e),t.parts_.length>0&&(t.byteLength_-=1)}function Rm(t){if(t.byteLength_>Gp)throw new Error(t.errorPrefix_+"has a key path longer than "+Gp+" bytes ("+t.byteLength_+").");if(t.parts_.length>Wp)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Wp+") or object contains a cycle "+xi(t))}function xi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var sl=class t extends Oc{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new t}getInitialEvent(e){return v(e==="visible","Unknown event type: "+e),[this.visible_]}};var ys=1e3,Wx=60*5*1e3,Qp=30*1e3,Gx=1.3,Qx=3e4,Yx="server_kill",Yp=3,r0=(()=>{class t extends Nc{constructor(n,i,r,o,s,c,a,l){if(super(),this.repoInfo_=n,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=c,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=Bs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ys,this.maxReconnectDelay_=Wx,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!zt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");sl.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Lc.getInstance().on("online",this.onOnline_,this)}sendRequest(n,i,r){let o=++this.requestNumber_,s={r:o,a:n,b:i};this.log_(le(s)),v(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(n){this.initConnection_();let i=new ye,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:c=>{let a=c.d;c.s==="ok"?i.resolve(a):i.reject(a)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),i.promise}listen(n,i,r,o){this.initConnection_();let s=n._queryIdentifier,c=n._path.toString();this.log_("Listen called for "+c+" "+s),this.listens.has(c)||this.listens.set(c,new Map),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),v(!this.listens.get(c).has(s),"listen() called twice for same path/queryId.");let a={onComplete:o,hashFn:i,query:n,tag:r};this.listens.get(c).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(n){let i=this.outstandingGets_[n];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(n){let i=n.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);let s={p:r},c="q";n.tag&&(s.q=i._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(c,s,a=>{let l=a.d,u=a.s;t.warnOnListenWarnings_(l,i),(this.listens.get(r)&&this.listens.get(r).get(o))===n&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,i){if(n&&typeof n=="object"&&ot(n,"w")){let r=yn(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();Te(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||W0(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Qp)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,i=q0(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{let s=o.s,c=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let i=n.s,r=n.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(n,i){let r=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,n._queryObject,i)}sendUnlisten_(n,i,r,o){this.log_("Unlisten on "+n+" for "+i);let s={p:n},c="n";o&&(s.q=r,s.t=o),this.sendRequest(c,s)}onDisconnectPut(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:i,onComplete:r})}onDisconnectMerge(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:i,onComplete:r})}onDisconnectCancel(n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(n,i,r,o){let s={p:i,d:r};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,c=>{o&&setTimeout(()=>{o(c.s,c.d)},Math.floor(0))})}put(n,i,r,o){this.putInternal("p",n,i,r,o)}merge(n,i,r,o){this.putInternal("m",n,i,r,o)}putInternal(n,i,r,o,s){this.initConnection_();let c={p:i,d:r};s!==void 0&&(c.h=s),this.outstandingPuts_.push({action:n,request:c,onComplete:o}),this.outstandingPutCount_++;let a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+i)}sendPut_(n){let i=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){let s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+le(n));let i=n.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,i){this.log_("handleServerMessage",n,i),n==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):n==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):n==="c"?this.onListenRevoked_(i.p,i.q):n==="ac"?this.onAuthRevoked_(i.s,i.d):n==="apc"?this.onAppCheckRevoked_(i.s,i.d):n==="sd"?this.onSecurityDebugPacket_(i):Z6("Unrecognized action received from server: "+le(n)+`
Are you using the latest client?`)}onReady_(n,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){v(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ys,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ys,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Qx&&(this.reconnectDelay_=ys),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-n);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Gx)}this.onConnectStatus_(!1)}establishConnection_(){return rt(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,c=!1,a=null,l=function(){a?a.close():(c=!0,r())},u=function(d){v(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};let h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[d,f]=yield Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);c?Me("getToken() completed but was canceled"):(Me("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new rl(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,i,r,p=>{Te(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Yx)},s))}catch(d){this.log_("Failed to get token: "+d),c||(this.repoInfo_.nodeAdmin&&Te(d),l())}}})}interrupt(n){Me("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Me("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Js(this.interruptReasons_)&&(this.reconnectDelay_=ys,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let i=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let i=this.outstandingPuts_[n];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,i){let r;i?r=i.map(s=>e0(s)).join("$"):r="default";let o=this.removeListen_(n,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,i){let r=new q(n).toString(),o;if(this.listens.has(r)){let s=this.listens.get(r);o=s.get(i),s.delete(i),s.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(n,i){Me("Auth token revoked: "+n+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Yp&&(this.reconnectDelay_=Qp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,i){Me("App check token revoked: "+n+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Yp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let i of n.values())this.sendListen_(i);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},i="js";zt()&&(this.repoInfo_.nodeAdmin?i="admin_node":i="node"),n["sdk."+i+"."+Xl.replace(/\./g,"-")]=1,b2()?n["framework.cordova"]=1:j0()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Lc.getInstance().currentlyOnline();return Js(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),F=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Br=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let i=new F(Gn,e),r=new F(Gn,n);return this.compare(i,r)!==0}minPost(){return F.MIN}};var Tc,Rc=class extends Br{static get __EMPTY_NODE(){return Tc}static set __EMPTY_NODE(e){Tc=e}compare(e,n){return Vi(e.name,n.name)}isDefinedOn(e){throw Hi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return F.MIN}maxPost(){return new F(mn,Tc)}makePost(e,n){return v(typeof e=="string","KeyIndex indexValue must always be a string."),new F(e,Tc)}toString(){return".key"}},jt=new Rc;var Fr=class{constructor(e,n,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?i(e.key,n):1,r&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Dt=(()=>{class t{constructor(n,i,r,o,s){this.key=n,this.value=i,this.color=r??t.RED,this.left=o??pt.EMPTY_NODE,this.right=s??pt.EMPTY_NODE}copy(n,i,r,o,s){return new t(n??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,r){let o=this,s=r(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,i,r),null):s===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return pt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,i){let r,o;if(r=this,i(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(n,r.key)===0){if(r.right.isEmpty())return pt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),cl=class{copy(e,n,i,r,o){return this}insert(e,n,i){return new Dt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},pt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Dt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Dt.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Fr(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Fr(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Fr(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Fr(this.root_,null,this.comparator_,!0,e)}};pt.EMPTY_NODE=new cl;function Kx(t,e){return Vi(t.name,e.name)}function o0(t,e){return Vi(t,e)}var al;function Zx(t){al=t}var Hm=function(t){return typeof t=="number"?"number:"+ym(t):"string:"+t},km=function(t){if(t.isLeafNode()){let e=t.val();v(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ot(e,".sv"),"Priority must be a string or number.")}else v(t===al||t.isEmpty(),"priority of unexpected type.");v(t===al||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var Kp,jr=(()=>{class t{constructor(n,i=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=i,this.lazyHash_=null,v(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),km(this.priorityNode_)}static set __childrenNodeConstructor(n){Kp=n}static get __childrenNodeConstructor(){return Kp}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return H(n)?this:R(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,i){return null}updateImmediateChild(n,i){return n===".priority"?this.updatePriority(i):i.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,i).updatePriority(this.priorityNode_)}updateChild(n,i){let r=R(n);return r===null?i:i.isEmpty()&&r!==".priority"?this:(v(r!==".priority"||Qn(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(J(n),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,i){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Hm(this.priorityNode_.val())+":");let i=typeof this.value_;n+=i+":",i==="number"?n+=ym(this.value_):n+=this.value_,this.lazyHash_=mm(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(v(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let i=typeof n.value_,r=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(i),s=t.VALUE_TYPE_ORDER.indexOf(r);return v(o>=0,"Unknown leaf type: "+i),v(s>=0,"Unknown leaf type: "+r),o===s?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let i=n;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),Fm,Pm;function Xx(t){Fm=t}function Jx(t){Pm=t}var ll=class extends Br{compare(e,n){let i=e.node.getPriority(),r=n.node.getPriority(),o=i.compareTo(r);return o===0?Vi(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return F.MIN}maxPost(){return new F(mn,new jr("[PRIORITY-POST]",Pm))}makePost(e,n){let i=Fm(e);return new F(n,new jr("[PRIORITY-POST]",i))}toString(){return".priority"}},ee=new ll;var eT=Math.log(2),ul=class{constructor(e){let n=o=>parseInt(Math.log(o)/eT,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Hc=function(t,e,n,i){t.sort(e);let r=function(a,l){let u=l-a,h,d;if(u===0)return null;if(u===1)return h=t[a],d=n?n(h):h,new Dt(d,h.node,Dt.BLACK,null,null);{let f=parseInt(u/2,10)+a,p=r(a,f),y=r(f+1,l);return h=t[f],d=n?n(h):h,new Dt(d,h.node,Dt.BLACK,p,y)}},o=function(a){let l=null,u=null,h=t.length,d=function(p,y){let E=h-p,I=h;h-=p;let G=r(E+1,I),O=t[E],ce=n?n(O):O;f(new Dt(ce,O.node,y,null,G))},f=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<a.count;++p){let y=a.nextBitIsOne(),E=Math.pow(2,a.count-(p+1));y?d(E,Dt.BLACK):(d(E,Dt.BLACK),d(E,Dt.RED))}return u},s=new ul(t.length),c=o(s);return new pt(i||e,c)};var $6,Hr={},Ur=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return v(Hr&&ee,"ChildrenNode.ts has not been loaded"),$6=$6||new t({".priority":Hr},{".priority":ee}),$6}get(e){let n=yn(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof pt?n:null}hasIndex(e){return ot(this.indexSet_,e.toString())}addIndex(e,n){v(e!==jt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,o=n.getIterator(F.Wrap),s=o.getNext();for(;s;)r=r||e.isDefinedOn(s.node),i.push(s),s=o.getNext();let c;r?c=Hc(i,e.getCompare()):c=Hr;let a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;let u=Object.assign({},this.indexes_);return u[a]=c,new t(u,l)}addToIndexes(e,n){let i=eo(this.indexes_,(r,o)=>{let s=yn(this.indexSet_,o);if(v(s,"Missing index implementation for "+o),r===Hr)if(s.isDefinedOn(e.node)){let c=[],a=n.getIterator(F.Wrap),l=a.getNext();for(;l;)l.name!==e.name&&c.push(l),l=a.getNext();return c.push(e),Hc(c,s.getCompare())}else return Hr;else{let c=n.get(e.name),a=r;return c&&(a=a.remove(new F(e.name,c))),a.insert(e,e.node)}});return new t(i,this.indexSet_)}removeFromIndexes(e,n){let i=eo(this.indexes_,r=>{if(r===Hr)return r;{let o=n.get(e.name);return o?r.remove(new F(e.name,o)):r}});return new t(i,this.indexSet_)}};var ws,A=(()=>{class t{constructor(n,i,r){this.children_=n,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&km(this.priorityNode_),this.children_.isEmpty()&&v(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ws||(ws=new t(new pt(o0),null,Ur.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ws}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let i=this.children_.get(n);return i===null?ws:i}}getChild(n){let i=R(n);return i===null?this:this.getImmediateChild(i).getChild(J(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,i){if(v(i,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(i);{let r=new F(n,i),o,s;i.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(n,i),s=this.indexMap_.addToIndexes(r,this.children_));let c=o.isEmpty()?ws:this.priorityNode_;return new t(o,c,s)}}updateChild(n,i){let r=R(n);if(r===null)return i;{v(R(n)!==".priority"||Qn(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(r).updateChild(J(n),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let i={},r=0,o=0,s=!0;if(this.forEachChild(ee,(c,a)=>{i[c]=a.val(n),r++,s&&t.INTEGER_REGEXP_.test(c)?o=Math.max(o,Number(c)):s=!1}),!n&&s&&o<2*r){let c=[];for(let a in i)c[a]=i[a];return c}else return n&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+Hm(this.getPriority().val())+":"),this.forEachChild(ee,(i,r)=>{let o=r.hash();o!==""&&(n+=":"+i+":"+o)}),this.lazyHash_=n===""?"":mm(n)}return this.lazyHash_}getPredecessorChildName(n,i,r){let o=this.resolveIndex_(r);if(o){let s=o.getPredecessorKey(new F(n,i));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){let i=this.getFirstChildName(n);return i?new F(i,this.children_.get(i)):null}getLastChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){let i=this.getLastChildName(n);return i?new F(i,this.children_.get(i)):null}forEachChild(n,i){let r=this.resolveIndex_(n);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,F.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,F.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===js?-1:0}withIndex(n){if(n===jt||this.indexMap_.hasIndex(n))return this;{let i=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,i)}}isIndexed(n){return n===jt||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let i=n;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){let r=this.getIterator(ee),o=i.getIterator(ee),s=r.getNext(),c=o.getNext();for(;s&&c;){if(s.name!==c.name||!s.node.equals(c.node))return!1;s=r.getNext(),c=o.getNext()}return s===null&&c===null}else return!1;else return!1}}resolveIndex_(n){return n===jt?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),hl=class extends A{constructor(){super(new pt(o0),A.EMPTY_NODE,Ur.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return A.EMPTY_NODE}isEmpty(){return!1}},js=new hl;Object.defineProperties(F,{MIN:{value:new F(Gn,A.EMPTY_NODE)},MAX:{value:new F(mn,js)}});Rc.__EMPTY_NODE=A.EMPTY_NODE;jr.__childrenNodeConstructor=A;Zx(js);Jx(js);var tT=!0;function oe(t,e=null){if(t===null)return A.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),v(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new jr(n,oe(e))}if(!(t instanceof Array)&&tT){let n=[],i=!1;if(be(t,(s,c)=>{if(s.substring(0,1)!=="."){let a=oe(c);a.isEmpty()||(i=i||!a.getPriority().isEmpty(),n.push(new F(s,a)))}}),n.length===0)return A.EMPTY_NODE;let o=Hc(n,Kx,s=>s.name,o0);if(i){let s=Hc(n,ee.getCompare());return new A(o,oe(e),new Ur({".priority":s},{".priority":ee}))}else return new A(o,oe(e),Ur.Default)}else{let n=A.EMPTY_NODE;return be(t,(i,r)=>{if(ot(t,i)&&i.substring(0,1)!=="."){let o=oe(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(oe(e))}}Xx(oe);var xs=class extends Br{constructor(e){super(),this.indexPath_=e,v(!H(e)&&R(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let i=this.extractChild(e.node),r=this.extractChild(n.node),o=i.compareTo(r);return o===0?Vi(e.name,n.name):o}makePost(e,n){let i=oe(e),r=A.EMPTY_NODE.updateChild(this.indexPath_,i);return new F(n,r)}maxPost(){let e=A.EMPTY_NODE.updateChild(this.indexPath_,js);return new F(mn,e)}toString(){return zs(this.indexPath_,0).join("/")}};var dl=class extends Br{compare(e,n){let i=e.node.compareTo(n.node);return i===0?Vi(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return F.MIN}maxPost(){return F.MAX}makePost(e,n){let i=oe(e);return new F(n,i)}toString(){return".value"}},s0=new dl;function Bm(t){return{type:"value",snapshotNode:t}}function $r(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ts(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ss(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function nT(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var As=class{constructor(e){this.index_=e}updateChild(e,n,i,r,o,s){v(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let c=e.getImmediateChild(n);return c.getChild(r).equals(i.getChild(r))&&c.isEmpty()===i.isEmpty()||(s!=null&&(i.isEmpty()?e.hasChild(n)?s.trackChildChange(Ts(n,c)):v(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?s.trackChildChange($r(n,i)):s.trackChildChange(Ss(n,i,c))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(ee,(r,o)=>{n.hasChild(r)||i.trackChildChange(Ts(r,o))}),n.isLeafNode()||n.forEachChild(ee,(r,o)=>{if(e.hasChild(r)){let s=e.getImmediateChild(r);s.equals(o)||i.trackChildChange(Ss(r,o,s))}else i.trackChildChange($r(r,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?A.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var kc=class t{constructor(e){this.indexedFilter_=new As(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,o,s){return this.matches(new F(n,i))||(i=A.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,o,s)}updateFullNode(e,n,i){n.isLeafNode()&&(n=A.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(A.EMPTY_NODE);let o=this;return n.forEachChild(ee,(s,c)=>{o.matches(new F(s,c))||(r=r.updateImmediateChild(s,A.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var fl=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{let i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new kc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,o,s){return this.rangedFilter_.matches(new F(n,i))||(i=A.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,o,s):this.fullLimitUpdateChild_(e,n,i,o,s)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=A.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=A.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let c=o.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))r=r.updateImmediateChild(c.name,c.node),s++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(A.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let s=0;for(;o.hasNext();){let c=o.getNext();s<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?s++:r=r.updateImmediateChild(c.name,A.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,o){let s;if(this.reverse_){let h=this.index_.getCompare();s=(d,f)=>h(f,d)}else s=this.index_.getCompare();let c=e;v(c.numChildren()===this.limit_,"");let a=new F(n,i),l=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),u=this.rangedFilter_.matches(a);if(c.hasChild(n)){let h=c.getImmediateChild(n),d=r.getChildAfterChild(this.index_,l,this.reverse_);for(;d!=null&&(d.name===n||c.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);let f=d==null?1:s(d,a);if(u&&!i.isEmpty()&&f>=0)return o?.trackChildChange(Ss(n,i,h)),c.updateImmediateChild(n,i);{o?.trackChildChange(Ts(n,h));let y=c.updateImmediateChild(n,A.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(o?.trackChildChange($r(d.name,d.node)),y.updateImmediateChild(d.name,d.node)):y}}else return i.isEmpty()?e:u&&s(l,a)>=0?(o!=null&&(o.trackChildChange(Ts(l.name,l.node)),o.trackChildChange($r(n,i))),c.updateImmediateChild(n,i).updateImmediateChild(l.name,A.EMPTY_NODE)):e}};var Vs=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ee}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return v(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return v(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Gn}hasEnd(){return this.endSet_}getIndexEndValue(){return v(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return v(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:mn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return v(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ee}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function iT(t){return t.loadsAllData()?new As(t.getIndex()):t.hasLimit()?new fl(t):new kc(t)}function rT(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function oT(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function pl(t,e,n){let i=t.copy();return i.startSet_=!0,e===void 0&&(e=null),i.indexStartValue_=e,n!=null?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function sT(t,e,n){let i;return t.index_===jt||n?i=pl(t,e,n):i=pl(t,e,mn),i.startAfterSet_=!0,i}function ml(t,e,n){let i=t.copy();return i.endSet_=!0,e===void 0&&(e=null),i.indexEndValue_=e,n!==void 0?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function cT(t,e,n){let i;return t.index_===jt||n?i=ml(t,e,n):i=ml(t,e,Gn),i.endBeforeSet_=!0,i}function i2(t,e){let n=t.copy();return n.index_=e,n}function Zp(t){let e={};if(t.isDefault())return e;let n;if(t.index_===ee?n="$priority":t.index_===s0?n="$value":t.index_===jt?n="$key":(v(t.index_ instanceof xs,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=le(n),t.startSet_){let i=t.startAfterSet_?"startAfter":"startAt";e[i]=le(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+le(t.indexStartName_))}if(t.endSet_){let i=t.endBeforeSet_?"endBefore":"endAt";e[i]=le(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+le(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Xp(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ee&&(e.i=t.index_.toString()),e}var vl=class t extends Nc{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Bs("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(v(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,i),c={};this.listens_[s]=c;let a=Zp(e._queryParams);this.restRequest_(o+".json",a,(l,u)=>{let h=u;if(l===404&&(h=null,l=null),l===null&&this.onDataUpdate_(o,h,!1,i),yn(this.listens_,s)===c){let d;l?l===401?d="permission_denied":d="rest_error:"+l:d="ok",r(d,null)}})}unlisten(e,n){let i=t.getListenId_(e,n);delete this.listens_[i]}get(e){let n=Zp(e._queryParams),i=e._path.toString(),r=new ye;return this.restRequest_(i+".json",n,(o,s)=>{let c=s;o===404&&(c=null,o=null),o===null?(this.onDataUpdate_(i,c,!1,null),r.resolve(c)):r.reject(new Error(c))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+G0(n);this.log_("Sending REST request for "+s);let c=new XMLHttpRequest;c.onreadystatechange=()=>{if(i&&c.readyState===4){this.log_("REST Response for "+s+" received. status:",c.status,"response:",c.responseText);let a=null;if(c.status>=200&&c.status<300){try{a=Xs(c.responseText)}catch{Te("Failed to parse JSON response for "+s+": "+c.responseText)}i(null,a)}else c.status!==401&&c.status!==404&&Te("Got unsuccessful REST response for "+s+" Status: "+c.status),i(c.status);i=null}},c.open("GET",s,!0),c.send()})}};var gl=class{constructor(){this.rootNode_=A.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Fc(){return{value:null,children:new Map}}function Kr(t,e,n){if(H(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let i=R(e);t.children.has(i)||t.children.set(i,Fc());let r=t.children.get(i);e=J(e),Kr(r,e,n)}}function yl(t,e){if(H(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{let n=t.value;return t.value=null,n.forEachChild(ee,(i,r)=>{Kr(t,new q(i),r)}),yl(t,e)}}else if(t.children.size>0){let n=R(e);return e=J(e),t.children.has(n)&&yl(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function wl(t,e,n){t.value!==null?n(e,t.value):aT(t,(i,r)=>{let o=new q(e.toString()+"/"+i);wl(r,o,n)})}function aT(t,e){t.children.forEach((n,i)=>{e(i,n)})}var Cl=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&be(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}};var Jp=10*1e3,lT=30*1e3,uT=5*60*1e3,Ml=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Cl(e);let i=Jp+(lT-Jp)*Math.random();Ms(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){let e=this.statsListener_.get(),n={},i=!1;be(e,(r,o)=>{o>0&&ot(this.statsToReport_,r)&&(n[r]=o,i=!0)}),i&&this.server_.reportStats(n),Ms(this.reportStats_.bind(this),Math.floor(Math.random()*2*uT))}};var Bt=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Bt||{});function c0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function a0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function l0(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var bl=class t{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Bt.ACK_USER_WRITE,this.source=c0()}operationForChild(e){if(H(this.path)){if(this.affectedTree.value!=null)return v(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new q(e));return new t($(),n,this.revert)}}else return v(R(this.path)===e,"operationForChild called for unrelated child."),new t(J(this.path),this.affectedTree,this.revert)}};var Pc=class t{constructor(e,n){this.source=e,this.path=n,this.type=Bt.LISTEN_COMPLETE}operationForChild(e){return H(this.path)?new t(this.source,$()):new t(this.source,J(this.path))}};var qr=class t{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Bt.OVERWRITE}operationForChild(e){return H(this.path)?new t(this.source,$(),this.snap.getImmediateChild(e)):new t(this.source,J(this.path),this.snap)}};var Ns=class t{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Bt.MERGE}operationForChild(e){if(H(this.path)){let n=this.children.subtree(new q(e));return n.isEmpty()?null:n.value?new qr(this.source,$(),n.value):new t(this.source,$(),n)}else return v(R(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,J(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var $t=class{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(H(e))return this.isFullyInitialized()&&!this.filtered_;let n=R(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var _l=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function hT(t,e,n,i){let r=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(nT(s.childName,s.snapshotNode))}),Cs(t,r,"child_removed",e,i,n),Cs(t,r,"child_added",e,i,n),Cs(t,r,"child_moved",o,i,n),Cs(t,r,"child_changed",e,i,n),Cs(t,r,"value",e,i,n),r}function Cs(t,e,n,i,r,o){let s=i.filter(c=>c.type===n);s.sort((c,a)=>fT(t,c,a)),s.forEach(c=>{let a=dT(t,c,o);r.forEach(l=>{l.respondsTo(c.type)&&e.push(l.createEvent(a,t.query_))})})}function dT(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function fT(t,e,n){if(e.childName==null||n.childName==null)throw Hi("Should only compare child_ events.");let i=new F(e.childName,e.snapshotNode),r=new F(n.childName,n.snapshotNode);return t.index_.compare(i,r)}function r2(t,e){return{eventCache:t,serverCache:e}}function _s(t,e,n,i){return r2(new $t(e,n,i),t.serverCache)}function jm(t,e,n,i){return r2(t.eventCache,new $t(e,n,i))}function Bc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ai(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var q6,pT=()=>(q6||(q6=new pt(dx)),q6),Oe=class t{constructor(e,n=pT()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return be(e,(i,r)=>{n=n.set(new q(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:$(),value:this.value};if(H(e))return null;{let i=R(e),r=this.children.get(i);if(r!==null){let o=r.findRootMostMatchingPathAndValue(J(e),n);return o!=null?{path:re(new q(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(H(e))return this;{let n=R(e),i=this.children.get(n);return i!==null?i.subtree(J(e)):new t(null)}}set(e,n){if(H(e))return new t(n,this.children);{let i=R(e),o=(this.children.get(i)||new t(null)).set(J(e),n),s=this.children.insert(i,o);return new t(this.value,s)}}remove(e){if(H(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=R(e),i=this.children.get(n);if(i){let r=i.remove(J(e)),o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(H(e))return this.value;{let n=R(e),i=this.children.get(n);return i?i.get(J(e)):null}}setTree(e,n){if(H(e))return n;{let i=R(e),o=(this.children.get(i)||new t(null)).setTree(J(e),n),s;return o.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,o),new t(this.value,s)}}fold(e){return this.fold_($(),e)}fold_(e,n){let i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(re(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,$(),n)}findOnPath_(e,n,i){let r=this.value?i(n,this.value):!1;if(r)return r;if(H(e))return null;{let o=R(e),s=this.children.get(o);return s?s.findOnPath_(J(e),re(n,o),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,$(),n)}foreachOnPath_(e,n,i){if(H(e))return this;{this.value&&i(n,this.value);let r=R(e),o=this.children.get(r);return o?o.foreachOnPath_(J(e),re(n,r),i):new t(null)}}foreach(e){this.foreach_($(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(re(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}};var It=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new Oe(null))}};function Es(t,e,n){if(H(e))return new It(new Oe(n));{let i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){let r=i.path,o=i.value,s=Ne(r,e);return o=o.updateChild(s,n),new It(t.writeTree_.set(r,o))}else{let r=new Oe(n),o=t.writeTree_.setTree(e,r);return new It(o)}}}function El(t,e,n){let i=t;return be(n,(r,o)=>{i=Es(i,re(e,r),o)}),i}function em(t,e){if(H(e))return It.empty();{let n=t.writeTree_.setTree(e,new Oe(null));return new It(n)}}function Dl(t,e){return Ni(t,e)!=null}function Ni(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ne(n.path,e)):null}function tm(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ee,(i,r)=>{e.push(new F(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new F(i,r.value))}),e}function qn(t,e){if(H(e))return t;{let n=Ni(t,e);return n!=null?new It(new Oe(n)):new It(t.writeTree_.subtree(e))}}function Il(t){return t.writeTree_.isEmpty()}function Wr(t,e){return Um($(),t.writeTree_,e)}function Um(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{r===".priority"?(v(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=Um(re(t,r),o,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(re(t,".priority"),i)),n}}function o2(t,e){return Gm(e,t)}function mT(t,e,n,i,r){v(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=Es(t.visibleWrites,e,n)),t.lastWriteId=i}function vT(t,e,n,i){v(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=El(t.visibleWrites,e,n),t.lastWriteId=i}function gT(t,e){for(let n=0;n<t.allWrites.length;n++){let i=t.allWrites[n];if(i.writeId===e)return i}return null}function yT(t,e){let n=t.allWrites.findIndex(c=>c.writeId===e);v(n>=0,"removeWrite called with nonexistent writeId.");let i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,o=!1,s=t.allWrites.length-1;for(;r&&s>=0;){let c=t.allWrites[s];c.visible&&(s>=n&&wT(c,i.path)?r=!1:ft(i.path,c.path)&&(o=!0)),s--}if(r){if(o)return CT(t),!0;if(i.snap)t.visibleWrites=em(t.visibleWrites,i.path);else{let c=i.children;be(c,a=>{t.visibleWrites=em(t.visibleWrites,re(i.path,a))})}return!0}else return!1}function wT(t,e){if(t.snap)return ft(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&ft(re(t.path,n),e))return!0;return!1}function CT(t){t.visibleWrites=$m(t.allWrites,MT,$()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function MT(t){return t.visible}function $m(t,e,n){let i=It.empty();for(let r=0;r<t.length;++r){let o=t[r];if(e(o)){let s=o.path,c;if(o.snap)ft(n,s)?(c=Ne(n,s),i=Es(i,c,o.snap)):ft(s,n)&&(c=Ne(s,n),i=Es(i,$(),o.snap.getChild(c)));else if(o.children){if(ft(n,s))c=Ne(n,s),i=El(i,c,o.children);else if(ft(s,n))if(c=Ne(s,n),H(c))i=El(i,$(),o.children);else{let a=yn(o.children,R(c));if(a){let l=a.getChild(J(c));i=Es(i,$(),l)}}}else throw Hi("WriteRecord should have .snap or .children")}}return i}function qm(t,e,n,i,r){if(!i&&!r){let o=Ni(t.visibleWrites,e);if(o!=null)return o;{let s=qn(t.visibleWrites,e);if(Il(s))return n;if(n==null&&!Dl(s,$()))return null;{let c=n||A.EMPTY_NODE;return Wr(s,c)}}}else{let o=qn(t.visibleWrites,e);if(!r&&Il(o))return n;if(!r&&n==null&&!Dl(o,$()))return null;{let s=function(l){return(l.visible||r)&&(!i||!~i.indexOf(l.writeId))&&(ft(l.path,e)||ft(e,l.path))},c=$m(t.allWrites,s,e),a=n||A.EMPTY_NODE;return Wr(c,a)}}}function bT(t,e,n){let i=A.EMPTY_NODE,r=Ni(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(ee,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(n){let o=qn(t.visibleWrites,e);return n.forEachChild(ee,(s,c)=>{let a=Wr(qn(o,new q(s)),c);i=i.updateImmediateChild(s,a)}),tm(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{let o=qn(t.visibleWrites,e);return tm(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function _T(t,e,n,i,r){v(i||r,"Either existingEventSnap or existingServerSnap must exist");let o=re(e,n);if(Dl(t.visibleWrites,o))return null;{let s=qn(t.visibleWrites,o);return Il(s)?r.getChild(n):Wr(s,r.getChild(n))}}function ET(t,e,n,i){let r=re(e,n),o=Ni(t.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(n)){let s=qn(t.visibleWrites,r);return Wr(s,i.getNode().getImmediateChild(n))}else return null}function DT(t,e){return Ni(t.visibleWrites,e)}function IT(t,e,n,i,r,o,s){let c,a=qn(t.visibleWrites,e),l=Ni(a,$());if(l!=null)c=l;else if(n!=null)c=Wr(a,n);else return[];if(c=c.withIndex(s),!c.isEmpty()&&!c.isLeafNode()){let u=[],h=s.getCompare(),d=o?c.getReverseIteratorFrom(i,s):c.getIteratorFrom(i,s),f=d.getNext();for(;f&&u.length<r;)h(f,i)!==0&&u.push(f),f=d.getNext();return u}else return[]}function zT(){return{visibleWrites:It.empty(),allWrites:[],lastWriteId:-1}}function jc(t,e,n,i){return qm(t.writeTree,t.treePath,e,n,i)}function u0(t,e){return bT(t.writeTree,t.treePath,e)}function nm(t,e,n,i){return _T(t.writeTree,t.treePath,e,n,i)}function Uc(t,e){return DT(t.writeTree,re(t.treePath,e))}function xT(t,e,n,i,r,o){return IT(t.writeTree,t.treePath,e,n,i,r,o)}function h0(t,e,n){return ET(t.writeTree,t.treePath,e,n)}function Wm(t,e){return Gm(re(t.treePath,e),t.writeTree)}function Gm(t,e){return{treePath:t,writeTree:e}}var zl=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,i=e.childName;v(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),v(i!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(i);if(r){let o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,Ss(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,Ts(i,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,$r(i,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,Ss(i,e.snapshotNode,r.oldSnap));else throw Hi("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}};var xl=class{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}},Qm=new xl,Os=class{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let i=this.optCompleteServerCache_!=null?new $t(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return h0(this.writes_,e,i)}}getChildAfterChild(e,n,i){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ai(this.viewCache_),o=xT(this.writes_,r,n,1,i,e);return o.length===0?null:o[0]}};function TT(t){return{filter:t}}function ST(t,e){v(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),v(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function AT(t,e,n,i,r){let o=new zl,s,c;if(n.type===Bt.OVERWRITE){let l=n;l.source.fromUser?s=Tl(t,e,l.path,l.snap,i,r,o):(v(l.source.fromServer,"Unknown source."),c=l.source.tagged||e.serverCache.isFiltered()&&!H(l.path),s=$c(t,e,l.path,l.snap,i,r,c,o))}else if(n.type===Bt.MERGE){let l=n;l.source.fromUser?s=NT(t,e,l.path,l.children,i,r,o):(v(l.source.fromServer,"Unknown source."),c=l.source.tagged||e.serverCache.isFiltered(),s=Sl(t,e,l.path,l.children,i,r,c,o))}else if(n.type===Bt.ACK_USER_WRITE){let l=n;l.revert?s=RT(t,e,l.path,i,r,o):s=OT(t,e,l.path,l.affectedTree,i,r,o)}else if(n.type===Bt.LISTEN_COMPLETE)s=LT(t,e,n.path,i,o);else throw Hi("Unknown operation type: "+n.type);let a=o.getChanges();return VT(e,s,a),{viewCache:s,changes:a}}function VT(t,e,n){let i=e.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Bc(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(Bm(Bc(e)))}}function Ym(t,e,n,i,r,o){let s=e.eventCache;if(Uc(i,n)!=null)return e;{let c,a;if(H(n))if(v(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=Ai(e),u=l instanceof A?l:A.EMPTY_NODE,h=u0(i,u);c=t.filter.updateFullNode(e.eventCache.getNode(),h,o)}else{let l=jc(i,Ai(e));c=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{let l=R(n);if(l===".priority"){v(Qn(n)===1,"Can't have a priority with additional path components");let u=s.getNode();a=e.serverCache.getNode();let h=nm(i,n,u,a);h!=null?c=t.filter.updatePriority(u,h):c=s.getNode()}else{let u=J(n),h;if(s.isCompleteForChild(l)){a=e.serverCache.getNode();let d=nm(i,n,s.getNode(),a);d!=null?h=s.getNode().getImmediateChild(l).updateChild(u,d):h=s.getNode().getImmediateChild(l)}else h=h0(i,l,e.serverCache);h!=null?c=t.filter.updateChild(s.getNode(),l,h,u,r,o):c=s.getNode()}}return _s(e,c,s.isFullyInitialized()||H(n),t.filter.filtersNodes())}}function $c(t,e,n,i,r,o,s,c){let a=e.serverCache,l,u=s?t.filter:t.filter.getIndexedFilter();if(H(n))l=u.updateFullNode(a.getNode(),i,null);else if(u.filtersNodes()&&!a.isFiltered()){let f=a.getNode().updateChild(n,i);l=u.updateFullNode(a.getNode(),f,null)}else{let f=R(n);if(!a.isCompleteForPath(n)&&Qn(n)>1)return e;let p=J(n),E=a.getNode().getImmediateChild(f).updateChild(p,i);f===".priority"?l=u.updatePriority(a.getNode(),E):l=u.updateChild(a.getNode(),f,E,p,Qm,null)}let h=jm(e,l,a.isFullyInitialized()||H(n),u.filtersNodes()),d=new Os(r,h,o);return Ym(t,h,n,r,d,c)}function Tl(t,e,n,i,r,o,s){let c=e.eventCache,a,l,u=new Os(r,e,o);if(H(n))l=t.filter.updateFullNode(e.eventCache.getNode(),i,s),a=_s(e,l,!0,t.filter.filtersNodes());else{let h=R(n);if(h===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),i),a=_s(e,l,c.isFullyInitialized(),c.isFiltered());else{let d=J(n),f=c.getNode().getImmediateChild(h),p;if(H(d))p=i;else{let y=u.getCompleteChild(h);y!=null?n0(d)===".priority"&&y.getChild(Lm(d)).isEmpty()?p=y:p=y.updateChild(d,i):p=A.EMPTY_NODE}if(f.equals(p))a=e;else{let y=t.filter.updateChild(c.getNode(),h,p,d,u,s);a=_s(e,y,c.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function im(t,e){return t.eventCache.isCompleteForChild(e)}function NT(t,e,n,i,r,o,s){let c=e;return i.foreach((a,l)=>{let u=re(n,a);im(e,R(u))&&(c=Tl(t,c,u,l,r,o,s))}),i.foreach((a,l)=>{let u=re(n,a);im(e,R(u))||(c=Tl(t,c,u,l,r,o,s))}),c}function rm(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function Sl(t,e,n,i,r,o,s,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,l;H(n)?l=i:l=new Oe(null).setTree(n,i);let u=e.serverCache.getNode();return l.children.inorderTraversal((h,d)=>{if(u.hasChild(h)){let f=e.serverCache.getNode().getImmediateChild(h),p=rm(t,f,d);a=$c(t,a,new q(h),p,r,o,s,c)}}),l.children.inorderTraversal((h,d)=>{let f=!e.serverCache.isCompleteForChild(h)&&d.value===null;if(!u.hasChild(h)&&!f){let p=e.serverCache.getNode().getImmediateChild(h),y=rm(t,p,d);a=$c(t,a,new q(h),y,r,o,s,c)}}),a}function OT(t,e,n,i,r,o,s){if(Uc(r,n)!=null)return e;let c=e.serverCache.isFiltered(),a=e.serverCache;if(i.value!=null){if(H(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return $c(t,e,n,a.getNode().getChild(n),r,o,c,s);if(H(n)){let l=new Oe(null);return a.getNode().forEachChild(jt,(u,h)=>{l=l.set(new q(u),h)}),Sl(t,e,n,l,r,o,c,s)}else return e}else{let l=new Oe(null);return i.foreach((u,h)=>{let d=re(n,u);a.isCompleteForPath(d)&&(l=l.set(u,a.getNode().getChild(d)))}),Sl(t,e,n,l,r,o,c,s)}}function LT(t,e,n,i,r){let o=e.serverCache,s=jm(e,o.getNode(),o.isFullyInitialized()||H(n),o.isFiltered());return Ym(t,s,n,i,Qm,r)}function RT(t,e,n,i,r,o){let s;if(Uc(i,n)!=null)return e;{let c=new Os(i,e,r),a=e.eventCache.getNode(),l;if(H(n)||R(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=jc(i,Ai(e));else{let h=e.serverCache.getNode();v(h instanceof A,"serverChildren would be complete if leaf node"),u=u0(i,h)}u=u,l=t.filter.updateFullNode(a,u,o)}else{let u=R(n),h=h0(i,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=a.getImmediateChild(u)),h!=null?l=t.filter.updateChild(a,u,h,J(n),c,o):e.eventCache.getNode().hasChild(u)?l=t.filter.updateChild(a,u,A.EMPTY_NODE,J(n),c,o):l=a,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=jc(i,Ai(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||Uc(i,$())!=null,_s(e,l,s,t.filter.filtersNodes())}}var Al=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let i=this.query_._queryParams,r=new As(i.getIndex()),o=iT(i);this.processor_=TT(o);let s=n.serverCache,c=n.eventCache,a=r.updateFullNode(A.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(A.EMPTY_NODE,c.getNode(),null),u=new $t(a,s.isFullyInitialized(),r.filtersNodes()),h=new $t(l,c.isFullyInitialized(),o.filtersNodes());this.viewCache_=r2(h,u),this.eventGenerator_=new _l(this.query_)}get query(){return this.query_}};function HT(t){return t.viewCache_.serverCache.getNode()}function kT(t){return Bc(t.viewCache_)}function FT(t,e){let n=Ai(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!H(e)&&!n.getImmediateChild(R(e)).isEmpty())?n.getChild(e):null}function om(t){return t.eventRegistrations_.length===0}function PT(t,e){t.eventRegistrations_.push(e)}function sm(t,e,n){let i=[];if(n){v(e==null,"A cancel should cancel all event registrations.");let r=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,r);s&&i.push(s)})}if(e){let r=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))r.push(s);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function cm(t,e,n,i){e.type===Bt.MERGE&&e.source.queryId!==null&&(v(Ai(t.viewCache_),"We should always have a full cache before handling merges"),v(Bc(t.viewCache_),"Missing event cache, even though we have a server cache"));let r=t.viewCache_,o=AT(t.processor_,r,e,n,i);return ST(t.processor_,o.viewCache),v(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,Km(t,o.changes,o.viewCache.eventCache.getNode(),null)}function BT(t,e){let n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ee,(o,s)=>{i.push($r(o,s))}),n.isFullyInitialized()&&i.push(Bm(n.getNode())),Km(t,i,n.getNode(),e)}function Km(t,e,n,i){let r=i?[i]:t.eventRegistrations_;return hT(t.eventGenerator_,e,n,r)}var qc,Wc=class{constructor(){this.views=new Map}};function jT(t){v(!qc,"__referenceConstructor has already been defined"),qc=t}function UT(){return v(qc,"Reference.ts has not been loaded"),qc}function $T(t){return t.views.size===0}function d0(t,e,n,i){let r=e.source.queryId;if(r!==null){let o=t.views.get(r);return v(o!=null,"SyncTree gave us an op for an invalid query."),cm(o,e,n,i)}else{let o=[];for(let s of t.views.values())o=o.concat(cm(s,e,n,i));return o}}function Zm(t,e,n,i,r){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let c=jc(n,r?i:null),a=!1;c?a=!0:i instanceof A?(c=u0(n,i),a=!1):(c=A.EMPTY_NODE,a=!1);let l=r2(new $t(c,a,!1),new $t(i,r,!1));return new Al(e,l)}return s}function qT(t,e,n,i,r,o){let s=Zm(t,e,i,r,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),PT(s,n),BT(s,n)}function WT(t,e,n,i){let r=e._queryIdentifier,o=[],s=[],c=Yn(t);if(r==="default")for(let[a,l]of t.views.entries())s=s.concat(sm(l,n,i)),om(l)&&(t.views.delete(a),l.query._queryParams.loadsAllData()||o.push(l.query));else{let a=t.views.get(r);a&&(s=s.concat(sm(a,n,i)),om(a)&&(t.views.delete(r),a.query._queryParams.loadsAllData()||o.push(a.query)))}return c&&!Yn(t)&&o.push(new(UT())(e._repo,e._path)),{removed:o,events:s}}function Xm(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Wn(t,e){let n=null;for(let i of t.views.values())n=n||FT(i,e);return n}function Jm(t,e){if(e._queryParams.loadsAllData())return s2(t);{let i=e._queryIdentifier;return t.views.get(i)}}function ev(t,e){return Jm(t,e)!=null}function Yn(t){return s2(t)!=null}function s2(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Gc;function GT(t){v(!Gc,"__referenceConstructor has already been defined"),Gc=t}function QT(){return v(Gc,"Reference.ts has not been loaded"),Gc}var YT=1,Qc=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Oe(null),this.pendingWriteTree_=zT(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function f0(t,e,n,i,r){return mT(t.pendingWriteTree_,e,n,i,r),r?Zr(t,new qr(c0(),e,n)):[]}function KT(t,e,n,i){vT(t.pendingWriteTree_,e,n,i);let r=Oe.fromObject(n);return Zr(t,new Ns(c0(),e,r))}function $n(t,e,n=!1){let i=gT(t.pendingWriteTree_,e);if(yT(t.pendingWriteTree_,e)){let o=new Oe(null);return i.snap!=null?o=o.set($(),!0):be(i.children,s=>{o=o.set(new q(s),!0)}),Zr(t,new bl(i.path,o,n))}else return[]}function Us(t,e,n){return Zr(t,new qr(a0(),e,n))}function ZT(t,e,n){let i=Oe.fromObject(n);return Zr(t,new Ns(a0(),e,i))}function XT(t,e){return Zr(t,new Pc(a0(),e))}function JT(t,e,n){let i=p0(t,n);if(i){let r=m0(i),o=r.path,s=r.queryId,c=Ne(o,e),a=new Pc(l0(s),c);return v0(t,o,a)}else return[]}function Yc(t,e,n,i,r=!1){let o=e._path,s=t.syncPointTree_.get(o),c=[];if(s&&(e._queryIdentifier==="default"||ev(s,e))){let a=WT(s,e,n,i);$T(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let l=a.removed;if(c=a.events,!r){let u=l.findIndex(d=>d._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(o,(d,f)=>Yn(f));if(u&&!h){let d=t.syncPointTree_.subtree(o);if(!d.isEmpty()){let f=nS(d);for(let p=0;p<f.length;++p){let y=f[p],E=y.query,I=rv(t,y);t.listenProvider_.startListening(Ds(E),Ls(t,E),I.hashFn,I.onComplete)}}}!h&&l.length>0&&!i&&(u?t.listenProvider_.stopListening(Ds(e),null):l.forEach(d=>{let f=t.queryToTagMap.get(a2(d));t.listenProvider_.stopListening(Ds(d),f)}))}iS(t,l)}return c}function tv(t,e,n,i){let r=p0(t,i);if(r!=null){let o=m0(r),s=o.path,c=o.queryId,a=Ne(s,e),l=new qr(l0(c),a,n);return v0(t,s,l)}else return[]}function eS(t,e,n,i){let r=p0(t,i);if(r){let o=m0(r),s=o.path,c=o.queryId,a=Ne(s,e),l=Oe.fromObject(n),u=new Ns(l0(c),a,l);return v0(t,s,u)}else return[]}function Vl(t,e,n,i=!1){let r=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(r,(d,f)=>{let p=Ne(d,r);o=o||Wn(f,p),s=s||Yn(f)});let c=t.syncPointTree_.get(r);c?(s=s||Yn(c),o=o||Wn(c,$())):(c=new Wc,t.syncPointTree_=t.syncPointTree_.set(r,c));let a;o!=null?a=!0:(a=!1,o=A.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((f,p)=>{let y=Wn(p,$());y&&(o=o.updateImmediateChild(f,y))}));let l=ev(c,e);if(!l&&!e._queryParams.loadsAllData()){let d=a2(e);v(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");let f=rS();t.queryToTagMap.set(d,f),t.tagToQueryMap.set(f,d)}let u=o2(t.pendingWriteTree_,r),h=qT(c,e,n,u,o,a);if(!l&&!s&&!i){let d=Jm(c,e);h=h.concat(oS(t,e,d))}return h}function c2(t,e,n){let r=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,c)=>{let a=Ne(s,e),l=Wn(c,a);if(l)return l});return qm(r,e,o,n,!0)}function tS(t,e){let n=e._path,i=null;t.syncPointTree_.foreachOnPath(n,(l,u)=>{let h=Ne(l,n);i=i||Wn(u,h)});let r=t.syncPointTree_.get(n);r?i=i||Wn(r,$()):(r=new Wc,t.syncPointTree_=t.syncPointTree_.set(n,r));let o=i!=null,s=o?new $t(i,!0,!1):null,c=o2(t.pendingWriteTree_,e._path),a=Zm(r,e,c,o?s.getNode():A.EMPTY_NODE,o);return kT(a)}function Zr(t,e){return nv(e,t.syncPointTree_,null,o2(t.pendingWriteTree_,$()))}function nv(t,e,n,i){if(H(t.path))return iv(t,e,n,i);{let r=e.get($());n==null&&r!=null&&(n=Wn(r,$()));let o=[],s=R(t.path),c=t.operationForChild(s),a=e.children.get(s);if(a&&c){let l=n?n.getImmediateChild(s):null,u=Wm(i,s);o=o.concat(nv(c,a,l,u))}return r&&(o=o.concat(d0(r,t,i,n))),o}}function iv(t,e,n,i){let r=e.get($());n==null&&r!=null&&(n=Wn(r,$()));let o=[];return e.children.inorderTraversal((s,c)=>{let a=n?n.getImmediateChild(s):null,l=Wm(i,s),u=t.operationForChild(s);u&&(o=o.concat(iv(u,c,a,l)))}),r&&(o=o.concat(d0(r,t,i,n))),o}function rv(t,e){let n=e.query,i=Ls(t,n);return{hashFn:()=>(HT(e)||A.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?JT(t,n._path,i):XT(t,n._path);{let o=mx(r,n);return Yc(t,n,null,o)}}}}function Ls(t,e){let n=a2(e);return t.queryToTagMap.get(n)}function a2(t){return t._path.toString()+"$"+t._queryIdentifier}function p0(t,e){return t.tagToQueryMap.get(e)}function m0(t){let e=t.indexOf("$");return v(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new q(t.substr(0,e))}}function v0(t,e,n){let i=t.syncPointTree_.get(e);v(i,"Missing sync point for query tag that we're tracking");let r=o2(t.pendingWriteTree_,e);return d0(i,n,r,null)}function nS(t){return t.fold((e,n,i)=>{if(n&&Yn(n))return[s2(n)];{let r=[];return n&&(r=Xm(n)),be(i,(o,s)=>{r=r.concat(s)}),r}})}function Ds(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(QT())(t._repo,t._path):t}function iS(t,e){for(let n=0;n<e.length;++n){let i=e[n];if(!i._queryParams.loadsAllData()){let r=a2(i),o=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(o)}}}function rS(){return YT++}function oS(t,e,n){let i=e._path,r=Ls(t,e),o=rv(t,n),s=t.listenProvider_.startListening(Ds(e),r,o.hashFn,o.onComplete),c=t.syncPointTree_.subtree(i);if(r)v(!Yn(c.value),"If we're adding a query, it shouldn't be shadowed");else{let a=c.fold((l,u,h)=>{if(!H(l)&&u&&Yn(u))return[s2(u).query];{let d=[];return u&&(d=d.concat(Xm(u).map(f=>f.query))),be(h,(f,p)=>{d=d.concat(p)}),d}});for(let l=0;l<a.length;++l){let u=a[l];t.listenProvider_.stopListening(Ds(u),Ls(t,u))}}return s}var Nl=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},Ol=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=re(this.path_,e);return new t(this.syncTree_,n)}node(){return c2(this.syncTree_,this.path_)}},sS=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},am=function(t,e,n){if(!t||typeof t!="object")return t;if(v(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return cS(t[".sv"],e,n);if(typeof t[".sv"]=="object")return aS(t[".sv"],e);v(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},cS=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:v(!1,"Unexpected server value: "+t)}},aS=function(t,e,n){t.hasOwnProperty("increment")||v(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let i=t.increment;typeof i!="number"&&v(!1,"Unexpected increment value: "+i);let r=e.node();if(v(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let s=r.getValue();return typeof s!="number"?i:s+i},ov=function(t,e,n,i){return y0(e,new Ol(n,t),i)},g0=function(t,e,n){return y0(t,new Nl(e),n)};function y0(t,e,n){let i=t.getPriority().val(),r=am(i,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,c=am(s.getValue(),e,n);return c!==s.getValue()||r!==s.getPriority().val()?new jr(c,oe(r)):t}else{let s=t;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new jr(r))),s.forEachChild(ee,(c,a)=>{let l=y0(a,e.getImmediateChild(c),n);l!==a&&(o=o.updateImmediateChild(c,l))}),o}}var Rs=class{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}};function l2(t,e){let n=e instanceof q?e:new q(e),i=t,r=R(n);for(;r!==null;){let o=yn(i.node.children,r)||{children:{},childCount:0};i=new Rs(r,i,o),n=J(n),r=R(n)}return i}function Oi(t){return t.node.value}function w0(t,e){t.node.value=e,Ll(t)}function sv(t){return t.node.childCount>0}function lS(t){return Oi(t)===void 0&&!sv(t)}function u2(t,e){be(t.node.children,(n,i)=>{e(new Rs(n,t,i))})}function cv(t,e,n,i){n&&!i&&e(t),u2(t,r=>{cv(r,e,!0,i)}),n&&i&&e(t)}function uS(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function $s(t){return new q(t.parent===null?t.name:$s(t.parent)+"/"+t.name)}function Ll(t){t.parent!==null&&hS(t.parent,t.name,t)}function hS(t,e,n){let i=lS(n),r=ot(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,Ll(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,Ll(t))}var dS=/[\[\].#$\/\u0000-\u001F\u007F]/,fS=/[\[\].#$\u0000-\u001F\u007F]/,W6=10*1024*1024,h2=function(t){return typeof t=="string"&&t.length!==0&&!dS.test(t)},av=function(t){return typeof t=="string"&&t.length!==0&&!fS.test(t)},pS=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),av(t)},Hs=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!n2(t)||t&&typeof t=="object"&&ot(t,".sv")},qt=function(t,e,n,i){i&&e===void 0||qs(Re(t,"value"),e,n)},qs=function(t,e,n){let i=n instanceof q?new ol(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+xi(i));if(typeof e=="function")throw new Error(t+"contains a function "+xi(i)+" with contents = "+e.toString());if(n2(e))throw new Error(t+"contains "+e.toString()+" "+xi(i));if(typeof e=="string"&&e.length>W6/3&&to(e)>W6)throw new Error(t+"contains a string greater than "+W6+" utf8 bytes "+xi(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,o=!1;if(be(e,(s,c)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!h2(s)))throw new Error(t+" contains an invalid key ("+s+") "+xi(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);$x(i,s),qs(t,c,i),qx(i)}),r&&o)throw new Error(t+' contains ".value" child '+xi(i)+" in addition to actual children.")}},mS=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];let o=zs(i);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!h2(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Ux);let r=null;for(n=0;n<e.length;n++){if(i=e[n],r!==null&&ft(r,i))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},lv=function(t,e,n,i){if(i&&e===void 0)return;let r=Re(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");let o=[];be(e,(s,c)=>{let a=new q(s);if(qs(r,c,re(n,a)),n0(a)===".priority"&&!Hs(c))throw new Error(r+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(a)}),mS(r,o)},C0=function(t,e,n){if(!(n&&e===void 0)){if(n2(e))throw new Error(Re(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Hs(e))throw new Error(Re(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ws=function(t,e,n,i){if(!(i&&n===void 0)&&!h2(n))throw new Error(Re(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Xr=function(t,e,n,i){if(!(i&&n===void 0)&&!av(n))throw new Error(Re(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},vS=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Xr(t,e,n,i)},Je=function(t,e){if(R(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},uv=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!h2(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!pS(n))throw new Error(Re(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Rl=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function d2(t,e){let n=null;for(let i=0;i<e.length;i++){let r=e[i],o=r.getPath();n!==null&&!i0(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&t.eventLists_.push(n)}function hv(t,e,n){d2(t,n),dv(t,i=>i0(i,e))}function et(t,e,n){d2(t,n),dv(t,i=>ft(i,e)||ft(e,i))}function dv(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){let r=t.eventLists_[i];if(r){let o=r.path;e(o)?(gS(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function gS(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let i=n.getEventRunner();Si&&Me("event: "+n.toString()),Yr(i)}}}var fv="repo_interrupt",yS=25,Hl=class{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Rl,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Fc(),this.transactionQueueTree_=new Rs,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function wS(t,e,n){if(t.stats_=t0(t.repoInfo_),t.forceRestClient_||wx())t.server_=new vl(t.repoInfo_,(i,r,o,s)=>{lm(t,i,r,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>um(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{le(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new r0(t.repoInfo_,e,(i,r,o,s)=>{lm(t,i,r,o,s)},i=>{um(t,i)},i=>{CS(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=Mx(t.repoInfo_,()=>new Ml(t.stats_,t.server_)),t.infoData_=new gl,t.infoSyncTree_=new Qc({startListening:(i,r,o,s)=>{let c=[],a=t.infoData_.getNode(i._path);return a.isEmpty()||(c=Us(t.infoSyncTree_,i._path,a),setTimeout(()=>{s("ok")},0)),c},stopListening:()=>{}}),M0(t,"connected",!1),t.serverSyncTree_=new Qc({startListening:(i,r,o,s)=>(t.server_.listen(i,o,r,(c,a)=>{let l=s(c,a);et(t.eventQueue_,i._path,l)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function pv(t){let n=t.infoData_.getNode(new q(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Gs(t){return sS({timestamp:pv(t)})}function lm(t,e,n,i,r){t.dataUpdateCount++;let o=new q(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(r)if(i){let a=eo(n,l=>oe(l));s=eS(t.serverSyncTree_,o,a,r)}else{let a=oe(n);s=tv(t.serverSyncTree_,o,a,r)}else if(i){let a=eo(n,l=>oe(l));s=ZT(t.serverSyncTree_,o,a)}else{let a=oe(n);s=Us(t.serverSyncTree_,o,a)}let c=o;s.length>0&&(c=Gr(t,o)),et(t.eventQueue_,c,s)}function um(t,e){M0(t,"connected",e),e===!1&&_S(t)}function CS(t,e){be(e,(n,i)=>{M0(t,n,i)})}function M0(t,e,n){let i=new q("/.info/"+e),r=oe(n);t.infoData_.updateSnapshot(i,r);let o=Us(t.infoSyncTree_,i,r);et(t.eventQueue_,i,o)}function f2(t){return t.nextWriteId_++}function MS(t,e,n){let i=tS(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(r=>{let o=oe(r).withIndex(e._queryParams.getIndex());Vl(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=Us(t.serverSyncTree_,e._path,o);else{let c=Ls(t.serverSyncTree_,e);s=tv(t.serverSyncTree_,e._path,o,c)}return et(t.eventQueue_,e._path,s),Yc(t.serverSyncTree_,e,n,null,!0),o},r=>(Jr(t,"get for query "+le(e)+" failed: "+r),Promise.reject(new Error(r))))}function b0(t,e,n,i,r){Jr(t,"set",{path:e.toString(),value:n,priority:i});let o=Gs(t),s=oe(n,i),c=c2(t.serverSyncTree_,e),a=g0(s,c,o),l=f2(t),u=f0(t.serverSyncTree_,e,a,l,!0);d2(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(d,f)=>{let p=d==="ok";p||Te("set at "+e+" failed: "+d);let y=$n(t.serverSyncTree_,l,!p);et(t.eventQueue_,e,y),Kn(t,r,d,f)});let h=E0(t,e);Gr(t,h),et(t.eventQueue_,h,[])}function bS(t,e,n,i){Jr(t,"update",{path:e.toString(),value:n});let r=!0,o=Gs(t),s={};if(be(n,(c,a)=>{r=!1,s[c]=ov(re(e,c),oe(a),t.serverSyncTree_,o)}),r)Me("update() called with empty data.  Don't do anything."),Kn(t,i,"ok",void 0);else{let c=f2(t),a=KT(t.serverSyncTree_,e,s,c);d2(t.eventQueue_,a),t.server_.merge(e.toString(),n,(l,u)=>{let h=l==="ok";h||Te("update at "+e+" failed: "+l);let d=$n(t.serverSyncTree_,c,!h),f=d.length>0?Gr(t,e):e;et(t.eventQueue_,f,d),Kn(t,i,l,u)}),be(n,l=>{let u=E0(t,re(e,l));Gr(t,u)}),et(t.eventQueue_,e,[])}}function _S(t){Jr(t,"onDisconnectEvents");let e=Gs(t),n=Fc();wl(t.onDisconnect_,$(),(r,o)=>{let s=ov(r,o,t.serverSyncTree_,e);Kr(n,r,s)});let i=[];wl(n,$(),(r,o)=>{i=i.concat(Us(t.serverSyncTree_,r,o));let s=E0(t,r);Gr(t,s)}),t.onDisconnect_=Fc(),et(t.eventQueue_,$(),i)}function ES(t,e,n){t.server_.onDisconnectCancel(e.toString(),(i,r)=>{i==="ok"&&yl(t.onDisconnect_,e),Kn(t,n,i,r)})}function hm(t,e,n,i){let r=oe(n);t.server_.onDisconnectPut(e.toString(),r.val(!0),(o,s)=>{o==="ok"&&Kr(t.onDisconnect_,e,r),Kn(t,i,o,s)})}function DS(t,e,n,i,r){let o=oe(n,i);t.server_.onDisconnectPut(e.toString(),o.val(!0),(s,c)=>{s==="ok"&&Kr(t.onDisconnect_,e,o),Kn(t,r,s,c)})}function IS(t,e,n,i){if(Js(n)){Me("onDisconnect().update() called with empty data.  Don't do anything."),Kn(t,i,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(r,o)=>{r==="ok"&&be(n,(s,c)=>{let a=oe(c);Kr(t.onDisconnect_,re(e,s),a)}),Kn(t,i,r,o)})}function zS(t,e,n){let i;R(e._path)===".info"?i=Vl(t.infoSyncTree_,e,n):i=Vl(t.serverSyncTree_,e,n),hv(t.eventQueue_,e._path,i)}function kl(t,e,n){let i;R(e._path)===".info"?i=Yc(t.infoSyncTree_,e,n):i=Yc(t.serverSyncTree_,e,n),hv(t.eventQueue_,e._path,i)}function mv(t){t.persistentConnection_&&t.persistentConnection_.interrupt(fv)}function xS(t){t.persistentConnection_&&t.persistentConnection_.resume(fv)}function Jr(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Me(n,...e)}function Kn(t,e,n,i){e&&Yr(()=>{if(n==="ok")e(null);else{let r=(n||"error").toUpperCase(),o=r;i&&(o+=": "+i);let s=new Error(o);s.code=r,e(s)}})}function TS(t,e,n,i,r,o){Jr(t,"transaction on "+e);let s={path:e,update:n,onComplete:i,status:null,order:pm(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=_0(t,e,void 0);s.currentInputSnapshot=c;let a=s.update(c.val());if(a===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{qs("transaction failed: Data returned ",a,s.path),s.status=0;let l=l2(t.transactionQueueTree_,e),u=Oi(l)||[];u.push(s),w0(l,u);let h;typeof a=="object"&&a!==null&&ot(a,".priority")?(h=yn(a,".priority"),v(Hs(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(c2(t.serverSyncTree_,e)||A.EMPTY_NODE).getPriority().val();let d=Gs(t),f=oe(a,h),p=g0(f,c,d);s.currentOutputSnapshotRaw=f,s.currentOutputSnapshotResolved=p,s.currentWriteId=f2(t);let y=f0(t.serverSyncTree_,e,p,s.currentWriteId,s.applyLocally);et(t.eventQueue_,e,y),p2(t,t.transactionQueueTree_)}}function _0(t,e,n){return c2(t.serverSyncTree_,e,n)||A.EMPTY_NODE}function p2(t,e=t.transactionQueueTree_){if(e||m2(t,e),Oi(e)){let n=gv(t,e);v(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&SS(t,$s(e),n)}else sv(e)&&u2(e,n=>{p2(t,n)})}function SS(t,e,n){let i=n.map(l=>l.currentWriteId),r=_0(t,e,i),o=r,s=r.hash();for(let l=0;l<n.length;l++){let u=n[l];v(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let h=Ne(e,u.path);o=o.updateChild(h,u.currentOutputSnapshotRaw)}let c=o.val(!0),a=e;t.server_.put(a.toString(),c,l=>{Jr(t,"transaction put response",{path:a.toString(),status:l});let u=[];if(l==="ok"){let h=[];for(let d=0;d<n.length;d++)n[d].status=2,u=u.concat($n(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&h.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();m2(t,l2(t.transactionQueueTree_,e)),p2(t,t.transactionQueueTree_),et(t.eventQueue_,e,u);for(let d=0;d<h.length;d++)Yr(h[d])}else{if(l==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Te("transaction at "+a.toString()+" failed: "+l);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=l}Gr(t,e)}},s)}function Gr(t,e){let n=vv(t,e),i=$s(n),r=gv(t,n);return AS(t,r,i),i}function AS(t,e,n){if(e.length===0)return;let i=[],r=[],s=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){let a=e[c],l=Ne(n,a.path),u=!1,h;if(v(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)u=!0,h=a.abortReason,r=r.concat($n(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=yS)u=!0,h="maxretry",r=r.concat($n(t.serverSyncTree_,a.currentWriteId,!0));else{let d=_0(t,a.path,s);a.currentInputSnapshot=d;let f=e[c].update(d.val());if(f!==void 0){qs("transaction failed: Data returned ",f,a.path);let p=oe(f);typeof f=="object"&&f!=null&&ot(f,".priority")||(p=p.updatePriority(d.getPriority()));let E=a.currentWriteId,I=Gs(t),G=g0(p,d,I);a.currentOutputSnapshotRaw=p,a.currentOutputSnapshotResolved=G,a.currentWriteId=f2(t),s.splice(s.indexOf(E),1),r=r.concat(f0(t.serverSyncTree_,a.path,G,a.currentWriteId,a.applyLocally)),r=r.concat($n(t.serverSyncTree_,E,!0))}else u=!0,h="nodata",r=r.concat($n(t.serverSyncTree_,a.currentWriteId,!0))}et(t.eventQueue_,n,r),r=[],u&&(e[c].status=2,function(d){setTimeout(d,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(h==="nodata"?i.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):i.push(()=>e[c].onComplete(new Error(h),!1,null))))}m2(t,t.transactionQueueTree_);for(let c=0;c<i.length;c++)Yr(i[c]);p2(t,t.transactionQueueTree_)}function vv(t,e){let n,i=t.transactionQueueTree_;for(n=R(e);n!==null&&Oi(i)===void 0;)i=l2(i,n),e=J(e),n=R(e);return i}function gv(t,e){let n=[];return yv(t,e,n),n.sort((i,r)=>i.order-r.order),n}function yv(t,e,n){let i=Oi(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);u2(e,r=>{yv(t,r,n)})}function m2(t,e){let n=Oi(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,w0(e,n.length>0?n:void 0)}u2(e,i=>{m2(t,i)})}function E0(t,e){let n=$s(vv(t,e)),i=l2(t.transactionQueueTree_,e);return uS(i,r=>{G6(t,r)}),G6(t,i),cv(i,r=>{G6(t,r)}),n}function G6(t,e){let n=Oi(e);if(n){let i=[],r=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(v(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(v(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),r=r.concat($n(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&i.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?w0(e,void 0):n.length=o+1,et(t.eventQueue_,$s(e),r);for(let s=0;s<i.length;s++)Yr(i[s])}}function VS(t){let e="",n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function NS(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Te(`Invalid query segment '${n}' in query '${t}'`)}return e}var Fl=function(t,e){let n=OS(t),i=n.namespace;n.domain==="firebase.com"&&Ut(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Ut("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||ux();let r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Ac(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new q(n.pathString)}},OS=function(t){let e="",n="",i="",r="",o="",s=!0,c="https",a=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(c=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(r=VS(t.substring(u,h)));let d=NS(t.substring(Math.min(t.length,h)));l=e.indexOf(":"),l>=0?(s=c==="https"||c==="wss",a=parseInt(e.substring(l+1),10)):l=e.length;let f=e.slice(0,l);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{let p=e.indexOf(".");i=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=i}"ns"in d&&(o=d.ns)}return{host:e,port:a,domain:n,subdomain:i,secure:s,scheme:c,pathString:r,namespace:o}};var dm="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",LS=function(){let t=0,e=[];return function(n){let i=n===t;t=n;let r,o=new Array(8);for(r=7;r>=0;r--)o[r]=dm.charAt(n%64),n=Math.floor(n/64);v(n===0,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&e[r]===63;r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)s+=dm.charAt(e[r]);return v(s.length===20,"nextPushId: Length should be 20."),s}}();var Kc=class{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+le(this.snapshot.exportVal())}},Zc=class{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var ks=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return v(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Xc=class{constructor(e,n){this._repo=e,this._path=n}cancel(){let e=new ye;return ES(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Je("OnDisconnect.remove",this._path);let e=new ye;return hm(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Je("OnDisconnect.set",this._path),qt("OnDisconnect.set",e,this._path,!1);let n=new ye;return hm(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Je("OnDisconnect.setWithPriority",this._path),qt("OnDisconnect.setWithPriority",e,this._path,!1),C0("OnDisconnect.setWithPriority",n,!1);let i=new ye;return DS(this._repo,this._path,e,n,i.wrapCallback(()=>{})),i.promise}update(e){Je("OnDisconnect.update",this._path),lv("OnDisconnect.update",e,this._path,!1);let n=new ye;return IS(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};var Le=class t{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return H(this._path)?null:n0(this._path)}get ref(){return new tt(this._repo,this._path)}get _queryIdentifier(){let e=Xp(this._queryParams),n=e0(e);return n==="{}"?"default":n}get _queryObject(){return Xp(this._queryParams)}isEqual(e){if(e=Ae(e),!(e instanceof t))return!1;let n=this._repo===e._repo,i=i0(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+jx(this._path)}};function v2(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Xn(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===jt){let i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Gn)throw new Error(i);if(typeof e!="string")throw new Error(r)}if(t.hasEnd()){if(t.getIndexEndName()!==mn)throw new Error(i);if(typeof n!="string")throw new Error(r)}}else if(t.getIndex()===ee){if(e!=null&&!Hs(e)||n!=null&&!Hs(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(v(t.getIndex()instanceof xs||t.getIndex()===s0,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function g2(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var tt=class t extends Le{constructor(e,n){super(e,n,new Vs,!1)}get parent(){let e=Lm(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},Qr=class t{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new q(e),i=Zn(this.ref,e);return new t(this._node.getChild(n),i,ee)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new t(r,Zn(this.ref,i),ee)))}hasChild(e){let n=new q(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function D0(t,e){return t=Ae(t),t._checkNotDeleted("ref"),e!==void 0?Zn(t._root,e):t._root}function I0(t,e){t=Ae(t),t._checkNotDeleted("refFromURL");let n=Fl(e,t._repo.repoInfo_.nodeAdmin);uv("refFromURL",n);let i=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&i.host!==t._repo.repoInfo_.host&&Ut("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+t._repo.repoInfo_.host+")"),D0(t,n.path.toString())}function Zn(t,e){return t=Ae(t),R(t._path)===null?vS("child","path",e,!1):Xr("child","path",e,!1),new tt(t._repo,re(t._path,e))}function wv(t,e){t=Ae(t),Je("push",t._path),qt("push",e,t._path,!0);let n=pv(t._repo),i=LS(n),r=Zn(t,i),o=Zn(t,i),s;return e!=null?s=y2(o,e).then(()=>o):s=Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}function Cv(t){return Je("remove",t._path),y2(t,null)}function y2(t,e){t=Ae(t),Je("set",t._path),qt("set",e,t._path,!1);let n=new ye;return b0(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Mv(t,e){t=Ae(t),Je("setPriority",t._path),C0("setPriority",e,!1);let n=new ye;return b0(t._repo,re(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function bv(t,e,n){if(Je("setWithPriority",t._path),qt("setWithPriority",e,t._path,!1),C0("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";let i=new ye;return b0(t._repo,t._path,e,n,i.wrapCallback(()=>{})),i.promise}function _v(t,e){lv("update",e,t._path,!1);let n=new ye;return bS(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Ev(t){t=Ae(t);let e=new ks(()=>{}),n=new Fs(e);return MS(t._repo,t,n).then(i=>new Qr(i,new tt(t._repo,t._path),t._queryParams.getIndex()))}var Fs=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let i=n._queryParams.getIndex();return new Kc("value",this,new Qr(e.snapshotNode,new tt(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Zc(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Jc=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Zc(this,e,n):null}createEvent(e,n){v(e.childName!=null,"Child events should have a childName.");let i=Zn(new tt(n._repo,n._path),e.childName),r=n._queryParams.getIndex();return new Kc(e.type,this,new Qr(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function Qs(t,e,n,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){let a=n,l=(u,h)=>{kl(t._repo,t,c),a(u,h)};l.userCallback=n.userCallback,l.context=n.context,n=l}let s=new ks(n,o||void 0),c=e==="value"?new Fs(s):new Jc(e,s);return zS(t._repo,t,c),()=>kl(t._repo,t,c)}function w2(t,e,n,i){return Qs(t,"value",e,n,i)}function z0(t,e,n,i){return Qs(t,"child_added",e,n,i)}function x0(t,e,n,i){return Qs(t,"child_changed",e,n,i)}function T0(t,e,n,i){return Qs(t,"child_moved",e,n,i)}function S0(t,e,n,i){return Qs(t,"child_removed",e,n,i)}function A0(t,e,n){let i=null,r=n?new ks(n):null;e==="value"?i=new Fs(r):e&&(i=new Jc(e,r)),kl(t._repo,t,i)}var nt=class{},e2=class extends nt{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){qt("endAt",this._value,e._path,!0);let n=ml(e._queryParams,this._value,this._key);if(g2(n),Xn(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Le(e._repo,e._path,n,e._orderByCalled)}};function Dv(t,e){return Ws("endAt","key",e,!0),new e2(t,e)}var Pl=class extends nt{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){qt("endBefore",this._value,e._path,!1);let n=cT(e._queryParams,this._value,this._key);if(g2(n),Xn(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Le(e._repo,e._path,n,e._orderByCalled)}};function Iv(t,e){return Ws("endBefore","key",e,!0),new Pl(t,e)}var t2=class extends nt{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){qt("startAt",this._value,e._path,!0);let n=pl(e._queryParams,this._value,this._key);if(g2(n),Xn(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Le(e._repo,e._path,n,e._orderByCalled)}};function zv(t=null,e){return Ws("startAt","key",e,!0),new t2(t,e)}var Bl=class extends nt{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){qt("startAfter",this._value,e._path,!1);let n=sT(e._queryParams,this._value,this._key);if(g2(n),Xn(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Le(e._repo,e._path,n,e._orderByCalled)}};function xv(t,e){return Ws("startAfter","key",e,!0),new Bl(t,e)}var jl=class extends nt{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Le(e._repo,e._path,rT(e._queryParams,this._limit),e._orderByCalled)}};function Tv(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new jl(t)}var Ul=class extends nt{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Le(e._repo,e._path,oT(e._queryParams,this._limit),e._orderByCalled)}};function Sv(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ul(t)}var $l=class extends nt{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){v2(e,"orderByChild");let n=new q(this._path);if(H(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let i=new xs(n),r=i2(e._queryParams,i);return Xn(r),new Le(e._repo,e._path,r,!0)}};function Av(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Xr("orderByChild","path",t,!1),new $l(t)}var ql=class extends nt{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){v2(e,"orderByKey");let n=i2(e._queryParams,jt);return Xn(n),new Le(e._repo,e._path,n,!0)}};function Vv(){return new ql}var Wl=class extends nt{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){v2(e,"orderByPriority");let n=i2(e._queryParams,ee);return Xn(n),new Le(e._repo,e._path,n,!0)}};function Nv(){return new Wl}var Gl=class extends nt{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){v2(e,"orderByValue");let n=i2(e._queryParams,s0);return Xn(n),new Le(e._repo,e._path,n,!0)}};function Ov(){return new Gl}var Ql=class extends nt{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(qt("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new e2(this._value,this._key)._apply(new t2(this._value,this._key)._apply(e))}};function Lv(t,e){return Ws("equalTo","key",e,!0),new Ql(t,e)}function mt(t,...e){let n=Ae(t);for(let i of e)n=i._apply(n);return n}jT(tt);GT(tt);var RS="FIREBASE_DATABASE_EMULATOR_HOST",Yl={},HS=!1;function kS(t,e,n,i){t.repoInfo_=new Ac(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function V0(t,e,n,i,r){let o=i||t.options.databaseURL;o===void 0&&(t.options.projectId||Ut("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Me("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=Fl(o,r),c=s.repoInfo,a,l;typeof process<"u"&&process.env&&(l=process.env[RS]),l?(a=!0,o=`http://${l}?ns=${c.namespace}`,s=Fl(o,r),c=s.repoInfo):a=!s.repoInfo.secure;let u=r&&a?new bs(bs.OWNER):new J6(t.name,t.options,e);uv("Invalid Firebase Database URL",s),H(s.path)||Ut("Database URL must point to the root of a Firebase Database (not including a child path).");let h=PS(c,t,u,new X6(t.name,n));return new Kl(h,t)}function FS(t,e){let n=Yl[e];(!n||n[t.key]!==t)&&Ut(`Database ${e}(${t.repoInfo_}) has already been deleted.`),mv(t),delete n[t.key]}function PS(t,e,n,i){let r=Yl[e.name];r||(r={},Yl[e.name]=r);let o=r[t.toURLString()];return o&&Ut("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Hl(t,HS,n,i),r[t.toURLString()]=o,o}var Kl=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(wS(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new tt(this._repo,$())),this._rootInternal}_delete(){return this._rootInternal!==null&&(FS(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ut("Cannot call "+e+" on a deleted database.")}};function Rv(){Om.IS_TRANSPORT_INITIALIZED&&Te("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Hv(){Rv(),Is.forceDisallow()}function kv(){Rv(),kr.forceDisallow(),Is.forceAllow()}function Fv(t,e,n,i={}){t=Ae(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Ut("Cannot call useEmulator() after instance has already been initialized.");let r=t._repoInternal,o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Ut('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new bs(bs.OWNER);else if(i.mockUserToken){let s=typeof i.mockUserToken=="string"?i.mockUserToken:B0(i.mockUserToken,t.app.options.projectId);o=new bs(s)}kS(r,e,n,o)}function Pv(t){t=Ae(t),t._checkNotDeleted("goOffline"),mv(t._repo)}function Bv(t){t=Ae(t),t._checkNotDeleted("goOnline"),xS(t._repo)}function jv(t,e){vm(t,e)}function BS(t){Jl(Z0),no(new Wt("database",(e,{instanceIdentifier:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return V0(i,r,o,n)},"PUBLIC").setMultipleInstances(!0)),wn(Lp,Rp,t),wn(Lp,Rp,"esm2017")}var jS={".sv":"timestamp"};function Uv(){return jS}function $v(t){return{".sv":{increment:t}}}var Zl=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function qv(t,e,n){var i;if(t=Ae(t),Je("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";let r=(i=n?.applyLocally)!==null&&i!==void 0?i:!0,o=new ye,s=(a,l,u)=>{let h=null;a?o.reject(a):(h=new Qr(u,new tt(t._repo,t._path),ee),o.resolve(new Zl(l,h)))},c=w2(t,()=>{});return TS(t._repo,t._path,e,s,c,r),o.promise}r0.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};r0.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};BS();var US="@firebase/database-compat",$S="1.0.4";var qS=new ki("@firebase/database-compat"),Wv=function(t){let e="FIREBASE WARNING: "+t;qS.warn(e)};var WS=function(t,e,n,i){if(!(i&&n===void 0)&&typeof n!="boolean")throw new Error(Re(t,e)+"must be a boolean.")},GS=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Re(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var N0=class{constructor(e){this._delegate=e}cancel(e){z("OnDisconnect.cancel",0,1,arguments.length),fe("OnDisconnect.cancel","onComplete",e,!0);let n=this._delegate.cancel();return e&&n.then(()=>e(null),i=>e(i)),n}remove(e){z("OnDisconnect.remove",0,1,arguments.length),fe("OnDisconnect.remove","onComplete",e,!0);let n=this._delegate.remove();return e&&n.then(()=>e(null),i=>e(i)),n}set(e,n){z("OnDisconnect.set",1,2,arguments.length),fe("OnDisconnect.set","onComplete",n,!0);let i=this._delegate.set(e);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(e,n,i){z("OnDisconnect.setWithPriority",2,3,arguments.length),fe("OnDisconnect.setWithPriority","onComplete",i,!0);let r=this._delegate.setWithPriority(e,n);return i&&r.then(()=>i(null),o=>i(o)),r}update(e,n){if(z("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){let r={};for(let o=0;o<e.length;++o)r[""+o]=e[o];e=r,Wv("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}fe("OnDisconnect.update","onComplete",n,!0);let i=this._delegate.update(e);return n&&i.then(()=>n(null),r=>n(r)),i}};var O0=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return z("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var Li=class t{constructor(e,n){this._database=e,this._delegate=n}val(){return z("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return z("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return z("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return z("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return z("DataSnapshot.child",0,1,arguments.length),e=String(e),Xr("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))}hasChild(e){return z("DataSnapshot.hasChild",1,1,arguments.length),Xr("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return z("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return z("DataSnapshot.forEach",1,1,arguments.length),fe("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new t(this._database,n)))}hasChildren(){return z("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return z("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return z("DataSnapshot.ref",0,0,arguments.length),new vn(this._database,this._delegate.ref)}get ref(){return this.getRef()}},C2=class t{constructor(e,n){this.database=e,this._delegate=n}on(e,n,i,r){var o;z("Query.on",2,4,arguments.length),fe("Query.on","callback",n,!1);let s=t.getCancelAndContextArgs_("Query.on",i,r),c=(l,u)=>{n.call(s.context,new Li(this.database,l),u)};c.userCallback=n,c.context=s.context;let a=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(e){case"value":return w2(this._delegate,c,a),n;case"child_added":return z0(this._delegate,c,a),n;case"child_removed":return S0(this._delegate,c,a),n;case"child_changed":return x0(this._delegate,c,a),n;case"child_moved":return T0(this._delegate,c,a),n;default:throw new Error(Re("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,i){if(z("Query.off",0,3,arguments.length),GS("Query.off",e,!0),fe("Query.off","callback",n,!0),_2("Query.off","context",i,!0),n){let r=()=>{};r.userCallback=n,r.context=i,A0(this._delegate,e,r)}else A0(this._delegate,e)}get(){return Ev(this._delegate).then(e=>new Li(this.database,e))}once(e,n,i,r){z("Query.once",1,4,arguments.length),fe("Query.once","callback",n,!0);let o=t.getCancelAndContextArgs_("Query.once",i,r),s=new ye,c=(l,u)=>{let h=new Li(this.database,l);n&&n.call(o.context,h,u),s.resolve(h)};c.userCallback=n,c.context=o.context;let a=l=>{o.cancel&&o.cancel.call(o.context,l),s.reject(l)};switch(e){case"value":w2(this._delegate,c,a,{onlyOnce:!0});break;case"child_added":z0(this._delegate,c,a,{onlyOnce:!0});break;case"child_removed":S0(this._delegate,c,a,{onlyOnce:!0});break;case"child_changed":x0(this._delegate,c,a,{onlyOnce:!0});break;case"child_moved":T0(this._delegate,c,a,{onlyOnce:!0});break;default:throw new Error(Re("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return z("Query.limitToFirst",1,1,arguments.length),new t(this.database,mt(this._delegate,Tv(e)))}limitToLast(e){return z("Query.limitToLast",1,1,arguments.length),new t(this.database,mt(this._delegate,Sv(e)))}orderByChild(e){return z("Query.orderByChild",1,1,arguments.length),new t(this.database,mt(this._delegate,Av(e)))}orderByKey(){return z("Query.orderByKey",0,0,arguments.length),new t(this.database,mt(this._delegate,Vv()))}orderByPriority(){return z("Query.orderByPriority",0,0,arguments.length),new t(this.database,mt(this._delegate,Nv()))}orderByValue(){return z("Query.orderByValue",0,0,arguments.length),new t(this.database,mt(this._delegate,Ov()))}startAt(e=null,n){return z("Query.startAt",0,2,arguments.length),new t(this.database,mt(this._delegate,zv(e,n)))}startAfter(e=null,n){return z("Query.startAfter",0,2,arguments.length),new t(this.database,mt(this._delegate,xv(e,n)))}endAt(e=null,n){return z("Query.endAt",0,2,arguments.length),new t(this.database,mt(this._delegate,Dv(e,n)))}endBefore(e=null,n){return z("Query.endBefore",0,2,arguments.length),new t(this.database,mt(this._delegate,Iv(e,n)))}equalTo(e,n){return z("Query.equalTo",1,2,arguments.length),new t(this.database,mt(this._delegate,Lv(e,n)))}toString(){return z("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return z("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(z("Query.isEqual",1,1,arguments.length),!(e instanceof t)){let n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,i){let r={cancel:void 0,context:void 0};if(n&&i)r.cancel=n,fe(e,"cancel",r.cancel,!0),r.context=i,_2(e,"context",r.context,!0);else if(n)if(typeof n=="object"&&n!==null)r.context=n;else if(typeof n=="function")r.cancel=n;else throw new Error(Re(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return r}get ref(){return new vn(this.database,new tt(this._delegate._repo,this._delegate._path))}},vn=class t extends C2{constructor(e,n){super(e,new Le(n._repo,n._path,new Vs,!1)),this.database=e,this._delegate=n}getKey(){return z("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return z("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new t(this.database,Zn(this._delegate,e))}getParent(){z("Reference.parent",0,0,arguments.length);let e=this._delegate.parent;return e?new t(this.database,e):null}getRoot(){return z("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)}set(e,n){z("Reference.set",1,2,arguments.length),fe("Reference.set","onComplete",n,!0);let i=y2(this._delegate,e);return n&&i.then(()=>n(null),r=>n(r)),i}update(e,n){if(z("Reference.update",1,2,arguments.length),Array.isArray(e)){let r={};for(let o=0;o<e.length;++o)r[""+o]=e[o];e=r,Wv("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Je("Reference.update",this._delegate._path),fe("Reference.update","onComplete",n,!0);let i=_v(this._delegate,e);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(e,n,i){z("Reference.setWithPriority",2,3,arguments.length),fe("Reference.setWithPriority","onComplete",i,!0);let r=bv(this._delegate,e,n);return i&&r.then(()=>i(null),o=>i(o)),r}remove(e){z("Reference.remove",0,1,arguments.length),fe("Reference.remove","onComplete",e,!0);let n=Cv(this._delegate);return e&&n.then(()=>e(null),i=>e(i)),n}transaction(e,n,i){z("Reference.transaction",1,3,arguments.length),fe("Reference.transaction","transactionUpdate",e,!1),fe("Reference.transaction","onComplete",n,!0),WS("Reference.transaction","applyLocally",i,!0);let r=qv(this._delegate,e,{applyLocally:i}).then(o=>new O0(o.committed,new Li(this.database,o.snapshot)));return n&&r.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),r}setPriority(e,n){z("Reference.setPriority",1,2,arguments.length),fe("Reference.setPriority","onComplete",n,!0);let i=Mv(this._delegate,e);return n&&i.then(()=>n(null),r=>n(r)),i}push(e,n){z("Reference.push",0,2,arguments.length),fe("Reference.push","onComplete",n,!0);let i=wv(this._delegate,e),r=i.then(s=>new t(this.database,s));n&&r.then(()=>n(null),s=>n(s));let o=new t(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Je("Reference.onDisconnect",this._delegate._path),new N0(new Xc(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var Ri=class{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Hv,forceLongPolling:kv}}useEmulator(e,n,i={}){Fv(this._delegate,e,n,i)}ref(e){if(z("database.ref",0,1,arguments.length),e instanceof vn){let n=I0(this._delegate,e.toString());return new vn(this,n)}else{let n=D0(this._delegate,e);return new vn(this,n)}}refFromURL(e){z("database.refFromURL",1,1,arguments.length);let i=I0(this._delegate,e);return new vn(this,i)}goOffline(){return z("database.goOffline",0,0,arguments.length),Pv(this._delegate)}goOnline(){return z("database.goOnline",0,0,arguments.length),Bv(this._delegate)}};Ri.ServerValue={TIMESTAMP:Uv(),increment:t=>$v(t)};function QS({app:t,url:e,version:n,customAuthImpl:i,customAppCheckImpl:r,namespace:o,nodeAdmin:s=!1}){Jl(n);let c=new E2("database-standalone"),a=new e1("auth-internal",c);a.setComponent(new Wt("auth-internal",()=>i,"PRIVATE"));let l;return r&&(l=new e1("app-check-internal",c),l.setComponent(new Wt("app-check-internal",()=>r,"PRIVATE"))),{instance:new Ri(V0(t,a,l,e,s),t),namespace:o}}var YS=Object.freeze({__proto__:null,initStandalone:QS});var KS=Ri.ServerValue;function ZS(t){t.INTERNAL.registerComponent(new Wt("database-compat",(e,{instanceIdentifier:n})=>{let i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:n});return new Ri(r,i)},"PUBLIC").setServiceProps({Reference:vn,Query:C2,Database:Ri,DataSnapshot:Li,enableLogging:jv,INTERNAL:YS,ServerValue:KS}).setMultipleInstances(!0)),t.registerVersion(US,$S)}ZS(He);function Ys(t,e,n="on",i=oo){return new L(r=>{let o=null;return o=t[n](e,(s,c)=>{i.schedule(()=>{r.next({snapshot:s,prevKey:c})}),n==="once"&&i.schedule(()=>r.complete())},s=>{i.schedule(()=>r.error(s))}),n==="on"?{unsubscribe(){o!=null&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(D(r=>{let{snapshot:o,prevKey:s}=r,c=null;return o.exists()&&(c=o.key),{type:e,payload:o,prevKey:s,key:c}}),ii())}function XS(t){return typeof t=="string"}function JS(t){return typeof t.exportVal=="function"}function Zv(t){return t==null}function Xv(t){return typeof t.set=="function"}function Gv(t,e){return Xv(e)?e:t.ref(e)}function Jv(t,e){if(XS(t))return e.stringCase();if(Xv(t))return e.firebaseCase();if(JS(t))return e.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof t}`)}function eg(t){return(Zv(t)||t.length===0)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function tg(t,e,n){e=eg(e);let i=e.map(r=>Ys(t,r,"on",n));return Zi(...i)}function eA(t,e,n){let i=tg(t,e).pipe(Ji((r,o)=>[...r,o],[]));return nA(t,i,n)}function tA(t,e){return Ys(t,"value","on",e).pipe(D(n=>{let i;return n.payload.forEach(r=>(i=r.key,!1)),{data:n,lastKeyToLoad:i}}))}function nA(t,e,n){return tA(t,n).pipe(Q2(e),D(([r,o])=>{let s=r.lastKeyToLoad,c=o.map(a=>a.key);return{actions:o,lastKeyToLoad:s,loadedKeys:c}}),q2(r=>r.loadedKeys.indexOf(r.lastKeyToLoad)===-1),D(r=>r.actions))}function Qv(t,e){return function(i,r){return Jv(i,{stringCase:()=>t.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function iA(t){return function(n){return n?Jv(n,{stringCase:()=>t.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):t.remove()}}function rA(t,e,n){return Ys(t,"value","once",n).pipe(ne(i=>{let r=[b(i)];return e.forEach(o=>r.push(Ys(t,o,"on",n))),Zi(...r).pipe(Ji(sA,[]))}),j2())}function ng(t,e){let n=t.length;for(let i=0;i<n;i++)if(t[i].payload.key===e)return i;return-1}function oA(t,e){if(Zv(e))return 0;{let n=ng(t,e);return n===-1?t.length:n+1}}function sA(t,e){let{payload:n,prevKey:i,key:r}=e,o=ng(t,r),s=oA(t,i);switch(e.type){case"value":if(e.payload?.exists()){let c=null;e.payload.forEach(a=>{let l={payload:a,type:"value",prevKey:c,key:a.key};return c=a.key,t=[...t,l],!1})}return t;case"child_added":if(o>-1)(t[o-1]?.key||null)!==i&&(t=t.filter(a=>a.payload.key!==n.key),t.splice(s,0,e));else{if(i==null)return[e,...t];t=t.slice(),t.splice(s,0,e)}return t;case"child_removed":return t.filter(c=>c.payload.key!==n.key);case"child_changed":return t.map(c=>c.payload.key===r?e:c);case"child_moved":if(o>-1){let c=t.splice(o,1)[0];return t=t.slice(),t.splice(s,0,c),t}return t;default:return t}}function Yv(t,e,n){return e=eg(e),rA(t,e,n)}function cA(t,e){let n=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:Qv(i,"update"),set:Qv(i,"set"),push:r=>i.push(r),remove:iA(i),snapshotChanges(r){return Yv(t,r,n).pipe(pn)},stateChanges(r){return tg(t,r,n).pipe(pn)},auditTrail(r){return eA(t,r,n).pipe(pn)},valueChanges(r,o){return Yv(t,r,n).pipe(D(c=>c.map(a=>o&&o.idField?U(w({},a.payload.val()),{[o.idField]:a.key}):a.payload.val())),pn)}}}function Kv(t,e){return function(){return Ys(t,"value","on",e)}}function aA(t,e){return{query:t,snapshotChanges(){return Kv(t,e.schedulers.outsideAngular)().pipe(pn)},update(n){return t.ref.update(n)},set(n){return t.ref.set(n)},remove(){return t.ref.remove()},valueChanges(){return Kv(t,e.schedulers.outsideAngular)().pipe(pn,D(i=>i.payload.exists()?i.payload.val():null))}}}var lA=new C("angularfire2.realtimeDatabaseURL"),uA=new C("angularfire2.database.use-emulator"),hA=(()=>{class t{schedulers;database;constructor(n,i,r,o,s,c,a,l,u,h,d,f,p,y,E){this.schedulers=c;let I=a,G=ms(n,s,i);l&&P6(G,s,u,d,f,p,h,y),this.database=zc(`${G.name}.database.${r}`,"AngularFireDatabase",G.name,()=>{let O=s.runOutsideAngular(()=>G.database(r||void 0));return I&&O.useEmulator(...I),O},[I])}list(n,i){let r=this.schedulers.ngZone.runOutsideAngular(()=>Gv(this.database,n)),o=r;return i&&(o=i(r)),cA(o,this)}object(n){let i=this.schedulers.ngZone.runOutsideAngular(()=>Gv(this.database,n));return aA(i,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||t)(m(Lr),m(Rr,8),m(lA,8),m(we),m(B),m(Dc),m(uA,8),m(Op,8),m(O6,8),m(L6,8),m(R6,8),m(H6,8),m(k6,8),m(F6,8),m(zi,8))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),NU=(()=>{class t{constructor(){He.registerVersion("angularfire",Or.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=pe({type:t});static \u0275inj=me({providers:[hA]})}return t})();export{ae as a,_ as b,Ch as c,pe as d,M as e,me as f,C as g,we as h,Mk as i,m as j,g as k,Vn as l,rw as m,bk as n,_k as o,K as p,Ua as q,tn as r,yr as s,B as t,lb as u,wb as v,R7 as w,H7 as x,G3 as y,Ob as z,Lb as A,No as B,Ik as C,$b as D,j7 as E,$7 as F,zk as G,ve as H,Kk as I,Zk as J,Xk as K,__ as L,o8 as M,Dd as N,DF as O,IF as P,ZD as Q,nj as R,ij as S,Ud as T,$F as U,qF as V,Q4 as W,$4 as X,GF as Y,TE as Z,AE as _,QF as $,YF as aa,KF as ba,bj as ca,hA as da,NU as ea,KP as fa,ZP as ga,XP as ha,JP as ia,OB as ja};
